if(!window.pfx)pfx={};if(!pfx.net)pfx.net={};var _browser;if(window.opera)_browser="opera";else if(typeof navigator.vendor=="string"&&navigator.vendor=="KDE")_browser="khtml";else if(typeof navigator.product=="string"&&navigator.product=="Gecko")_browser="gecko";else if(/msie/i.test(navigator.userAgent))_browser="mshtml";_isMshtml=_browser=="mshtml";_isGecko=_browser=="gecko";_isOpera=_browser=="opera";_isKhtml=_browser=="khtml";
pfx.net.HTTPRequest=function(){this.method=arguments[0];this.url=arguments[1];this.callback=arguments[2];this.context=arguments[3];this.errorCallback=arguments[4];if(!this.errorCallback&&pfx.net.HTTPRequest.errorCallback)this.errorCallback=pfx.net.HTTPRequest.errorCallback;this.headers=[];this.errors=[];this.status=0;this.statusText="";var self=this;this.customOnReadyStateChange=function(){self._customOnReadyStateChange()};this.cancelOnReadyStateChange=function(i,msg){self._cancelOnReadyStateChange(i,
msg)}};pfx.net.HTTPRequest._xml=[];pfx.net.HTTPRequest._xmlThis=[];pfx.net.HTTPRequest._xmlTimer=[];pfx.net.HTTPRequest._xmlTimerCount=[];pfx.net.HTTPRequest._xmlTimerCountMax=1E3;pfx.net.HTTPRequest._xmlTimerInterval=5;pfx.net.HTTPRequest.builtin=window.XMLHttpRequest?true:false;pfx.net.HTTPRequest.IFRAMES_NEVER=-1;pfx.net.HTTPRequest.IFRAMES_FALLBACK=0;pfx.net.HTTPRequest.IFRAMES_ONLY=1;pfx.net.HTTPRequest.prototype.iframes=pfx.net.HTTPRequest.IFRAMES_FALLBACK;pfx.net.HTTPRequest.msXmlHttp=null;
if(!pfx.net.HTTPRequest.builtin&&!_isOpera&&window.ActiveXObject){var msXmlHttpList=["MSXML2.XMLHTTP.5.0","MSXML2.XMLHTTP.4.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","MICROSOFT.XMLHTTP.1.0","MICROSOFT.XMLHTTP.1","MICROSOFT.XMLHTTP"];var obj;for(var j=0;j<msXmlHttpList.length;j++)try{obj=new ActiveXObject(msXmlHttpList[j]);pfx.net.HTTPRequest.msXmlHttp=msXmlHttpList[j];break}catch(e){}}pfx.net.HTTPRequest.activeX=typeof pfx.net.HTTPRequest.msXmlHttp=="string";
pfx.net.HTTPRequest.prototype.start=function(content,headers,reqId){var i=pfx.net.HTTPRequest._xml.length;if(this.iframes!=pfx.net.HTTPRequest.IFRAMES_ONLY){if(pfx.net.HTTPRequest.builtin)try{pfx.net.HTTPRequest._xml[i]=new XMLHttpRequest}catch(e$$3){pfx.net.HTTPRequest._xml[i]=null;if(this.iframes==pfx.net.HTTPRequest.IFRAMES_NEVER)throw new Error("HTTP_Request: Could not create XMLHttpRequest");}else if(pfx.net.HTTPRequest.activeX)try{pfx.net.HTTPRequest._xml[i]=new ActiveXObject(pfx.net.HTTPRequest.msXmlHttp)}catch(e$$1){pfx.net.HTTPRequest._xml[i]=
null;if(this.iframes==pfx.net.HTTPRequest.IFRAMES_NEVER)throw new Error("HTTP_Request: Could not create ActiveXObject "+pfx.net.HTTPRequest.msXmlHttp);}if(typeof pfx.net.HTTPRequest._xml[i]!="undefined"){if(this.callback)try{var self=this;if(pfx.net.HTTPRequest.activeX)pfx.net.HTTPRequest._xml[i].onreadystatechange=function(){if(pfx.net.HTTPRequest._xml[i].readyState==4){var reqId;var resInfo={};try{reqId=pfx.net.HTTPRequest._xml[i].getResponseHeader("Request-Id");var reuse=pfx.net.HTTPRequest._xml[i].getResponseHeader("x-pfx-reuse");
if(reuse)resInfo.reuse=reuse}catch(e){}var content=self._getResponse(pfx.net.HTTPRequest._xml[i]);if(content!=null)self.callback.call(self.context,content,reqId,resInfo);else if(!pfx.net.HTTPRequest._xml[i].aborted)throw new Error("Empty response");pfx.net.HTTPRequest._xml[i]=null}};else pfx.net.HTTPRequest._xml[i].onreadystatechange=function(){if(pfx.net.HTTPRequest._xml[i].readyState==4){try{self.status=pfx.net.HTTPRequest._xml[i].status;self.statusText=pfx.net.HTTPRequest._xml[i].statusText}catch(e){}if(self.status&&
self.status>=400)if(self.errorCallback){var err={"status":self.status,"statusText":self.statusText};self.errorCallback.call(self.context,err);return}else throw new Error("HTTP_Request: Asynchronous call failed"+" (status "+self.status+", "+self.statusText+")");var reqId;var resInfo={};try{reqId=pfx.net.HTTPRequest._xml[i].getResponseHeader("Request-Id");var reuse=pfx.net.HTTPRequest._xml[i].getResponseHeader("x-pfx-reuse");if(reuse)resInfo.reuse=reuse}catch(e$$0){}var content=self._getResponse(pfx.net.HTTPRequest._xml[i]);
if(content!=null)self.callback.call(self.context,content,reqId,resInfo);else if(!pfx.net.HTTPRequest._xml[i].aborted)throw new Error("Empty response");pfx.net.HTTPRequest._xml[i]=null}}}catch(e$$2){pfx.net.HTTPRequest._xml[i]=null;throw new Error("HTTP_Request: Onreadystatechange failed");}try{pfx.net.HTTPRequest._xml[i].open(this.method,this.url,this.callback?true:false);if(this.headers)for(var j=0;j<this.headers.length;j++)try{pfx.net.HTTPRequest._xml[i].setRequestHeader(this.headers[j][0],this.headers[j][1])}catch(e$$4){}if(headers)for(j=
0;j<headers.length;j++)try{pfx.net.HTTPRequest._xml[i].setRequestHeader(headers[j][0],headers[j][1])}catch(e$$5){}if(this.callback&&typeof reqId!="undefined")try{pfx.net.HTTPRequest._xml[i].setRequestHeader("Request-Id",reqId.toString())}catch(e$$6){}pfx.net.HTTPRequest._xml[i].send(content);if(!this.callback){this.status=pfx.net.HTTPRequest._xml[i].status;this.statusText=pfx.net.HTTPRequest._xml[i].statusText;return this._getResponse(pfx.net.HTTPRequest._xml[i])}else return true}catch(e$$7){pfx.net.HTTPRequest._xml[i]=
null;throw new Error("HTTP_Request: Call failed [Cause: "+e$$7+"]");}}}if(this.iframes!=pfx.net.HTTPRequest.IFRAMES_NEVER&&!pfx.net.HTTPRequest._xml[i]&&document.createElement){if(!this.callback)throw new Error("HTTP_Request: Synchronous call by iframe not supported");try{var el;if(!(_isMshtml||_isOpera)){el=document.createElement("iframe");el.style.display="none";el.name="pfxreqiframe"+i;el.id="pfxreqiframe"+i;document.body.appendChild(el)}else{el=document.createElement("div");el.style.display="none";
el.id="pfxreqdiv"+i;document.body.appendChild(el);document.getElementById("pfxreqdiv"+i).innerHTML="\x3c"+'iframe id\x3d"pfxreqiframe'+i+'" name\x3d"pfxreqiframe'+i+'" style\x3d"display:block"\x3e\x3c'+"/iframe\x3e"}var url=this.url;if(reqId)url=this.setQueryParameter(url,"PFX_Request_ID",reqId);if(this.method.toLowerCase()=="get"){el.src=url;document.body.appendChild(el);self=this;pfx.net.HTTPRequest._xmlTimer[i]=window.setInterval(self.customOnReadyStateChange,pfx.net.HTTPRequest._xmlTimerInterval)}else if(this.method.toLowerCase()==
"post"){el=document.createElement("div");el.style.display="none";el.id="pfxreqformdiv"+i;pfx.net.HTTPRequest._xml[i]=this.callback;pfx.net.HTTPRequest._xmlThis[i]=this;pfx.net.HTTPRequest._xmlTimer[i]=true;pfx.net.HTTPRequest._xmlTimerCount[i]=0;self=this;window.setTimeout(function(){var elForm=document.createElement("form");elForm.action=url;elForm.target="pfxreqiframe"+i;elForm.method=self.method;elForm.id="pfxreqform"+i;var elField=document.createElement("textarea");elField.name="message";elField.value=
content;elForm.appendChild(elField);for(var h=0;h<self.headers.length;h++){elField=document.createElement("input");elField.type="hidden";elField.name=self.headers[h][0];elField.value=self.headers[h][1];elForm.appendChild(elField)}if(_isMshtml){elField=document.createElement("input");elField.type="hidden";elField.name="insertpi";elField.value="1";elForm.appendChild(elField)}el.appendChild(elForm);document.body.appendChild(el);document.getElementById("pfxreqform"+i).target="pfxreqiframe"+i;window.setTimeout(function(){var form=
document.getElementById("pfxreqform"+i);form.submit()},1)},1);pfx.net.HTTPRequest._xmlTimer[i]=window.setInterval(self.customOnReadyStateChange,pfx.net.HTTPRequest._xmlTimerInterval)}else throw new Error("HTTP_Request: Iframes do not support method "+this.method);return"iframe"}catch(e$$8){throw new Error("HTTP_Request: Iframes failed"+e$$8);}}throw new Error("HTTP_Request: Failure");};pfx.net.HTTPRequest.prototype.setRequestHeader=function(field,value){this.headers.push([field,value])};
pfx.net.HTTPRequest.prototype.setQueryParameter=function(url,field,value){url+=(url.indexOf("?")+1?"\x26":"?")+field+"\x3d"+encodeURI(value);return url};pfx.net.HTTPRequest.prototype.getQueryParameter=function(url,field){var pairs=url.substr(url.indexOf("?")+1).split("\x26");var param;for(var i=0;i<pairs.length;i++){param=pairs[i].split("\x3d");if(param[0]==field)return param[1]}return null};
pfx.net.HTTPRequest.prototype._getResponse=function(request){var ctype=request.getResponseHeader("Content-Type");if(ctype==null){if(request.status==0){request.aborted=true;return null}throw new Error("Missing response content type");}else if(ctype.indexOf("text/plain")==0||ctype.indexOf("text/html")==0)return request.responseText;else if(ctype.indexOf("text/xml")==0)return request.responseXML;else throw new Error("Illegal response content type: "+ctype);};
pfx.net.HTTPRequest.prototype._customOnReadyStateChange=function(){var win=null;for(var i=0;i<pfx.net.HTTPRequest._xml.length;i++)if(pfx.net.HTTPRequest._xmlTimer[i]&&pfx.net.HTTPRequest._xml[i])try{if(pfx.net.HTTPRequest._xmlTimerCount[i]<pfx.net.HTTPRequest._xmlTimerCountMax){win=window.frames["pfxreqiframe"+i];if(win&&win.document&&win.location.href!="about:blank"&&(_isMshtml?win.document.readyState=="complete":true)){var resdoc=_isMshtml?win.document.body:win.document;var text=resdoc.getElementsByTagName("pre")[0].firstChild.nodeValue;
pfx.net.HTTPRequest._xml[i].call(pfx.net.HTTPRequest._xmlThis[i].context,text,pfx.net.HTTPRequest._xmlThis[i].getQueryParameter(win.location.href,"PFX_Request_ID"));this.cancelOnReadyStateChange(i)}else pfx.net.HTTPRequest._xmlTimerCount[i]++}else this.cancelOnReadyStateChange(i,"too many intervals "+i+", "+pfx.net.HTTPRequest._xmlTimerCount[i])}catch(e){this.cancelOnReadyStateChange(i,"Exception:"+e)}};
pfx.net.HTTPRequest.prototype._cancelOnReadyStateChange=function(i,msg){try{window.clearInterval(pfx.net.HTTPRequest._xmlTimer[i]);pfx.net.HTTPRequest._xmlTimer[i]=null;pfx.net.HTTPRequest._xml[i]=null;pfx.net.HTTPRequest._xmlThis[i]=null;pfx.net.HTTPRequest._xmlTimerCount[i]=0}catch(e){msg="Could not cancel"}var el;try{if(el=document.getElementById("pfxreqiframe"+i))document.body.removeChild(el)}catch(e$$0){}try{if(el=document.getElementById("pfxreqdiv"+i))document.body.removeChild(el)}catch(e$$1){}try{if(el=
document.getElementById("pfxreqform"+i))document.body.removeChild(el)}catch(e$$2){}try{if(el=document.getElementById("pfxreqformdiv"+i))document.body.removeChild(el)}catch(e$$3){}if(msg)throw new Error("HTTP_Request: "+msg);};if(!window.pfx)pfx={};
pfx.render=function(href,part,module,search,callback,context,requestId,params,requestPath,errorCallback){if(arguments.length==1){var arg=arguments[0];href=arg.href;part=arg.part;module=arg.module;search=arg.search;callback=arg.callback;context=arg.context;requestId=arg.requestId;params=arg.params;requestPath=arg.requestPath;errorCallback=arg.errorCallback}if(!href)throw new Error("Missing parameter: href");if(!part)throw new Error("Missing parameter: part");if(!callback)throw new Error("Missing parameter: callback");var url=
window.location.href;var ind=url.indexOf("?");if(ind>-1)url=url.substring(0,ind);ind=url.indexOf("#");if(ind>-1)url=url.substring(0,ind);if(requestPath){if(requestPath.charAt(0)=="/")requestPath=requestPath.substring(1);var start=url;var end="";ind=url.indexOf(";");if(ind>-1){start=url.substring(0,ind);end=url.substring(ind)}url=start+(start.charAt(start.length-1)=="/"?"":"/")+requestPath+end}url+="?__render_href\x3d"+href+"\x26__render_part\x3d"+encodeURIComponent(part);if(module)url+="\x26__render_module\x3d"+
encodeURIComponent(module);if(search)url+="\x26__render_search\x3d"+encodeURIComponent(search);if(params)for(var param in params)if(params[param]instanceof Array)for(var i=0;i<params[param].length;i++)url+="\x26"+encodeURIComponent(param)+"\x3d"+encodeURIComponent(params[param][i]);else url+="\x26"+encodeURIComponent(param)+"\x3d"+encodeURIComponent(params[param]);var httpReq=new pfx.net.HTTPRequest("GET",url,callback,context,errorCallback);httpReq.start("",null,requestId)};
pfx.renderSubmit=function(callback,context,requestId,form,errorCallback){if(arguments.length==1){var arg=arguments[0];callback=arg.callback;context=arg.context;requestId=arg.requestId;form=arg.form;errorCallback=arg.errorCallback}var content="";for(var i=0;i<form.elements.length;i++)content+=(i>0?"\x26":"")+form.elements[i].name+"\x3d"+encodeURIComponent(form.elements[i].value);var headers=new Array;headers[0]=new Array;headers[0][0]="Content-Type";headers[0][1]="application/x-www-form-urlencoded";
var httpReq=new pfx.net.HTTPRequest("POST",form.action,callback,context,errorCallback);httpReq.start(content,headers,requestId)};$q.define("UNOUNO.components.render",{statics:{renderSubmit:function(form,href,part,module,search,callback,context,requestId,params,requestPath,errorCallback){if($q.isNode(form)){params=[].concat(params);for(var i=0;i<form.elements.length;i++)params[form.elements[i].name]=form.elements[i].value;pfx.render(href,part,module,search,callback,context,requestId,params,requestPath,errorCallback)}},hasErrorMessage:function(response){return response.indexOf('level\x3d"error"')>1},extractUriParameter:function(parameter){if(!window.location)return;
var search=(""+window.location.search).split("\x26");var index;var params={};for(index=0;index<search.length;++index){var param=search[index];if(param.indexOf("?")===0)param=param.substring(1,param.length);if(param==="")continue;var split=param.split("\x3d");var paramName;var paramValue;if(split.length>2)paramName=split[0];else{paramName=split[0];paramValue=split[1]}params[paramName]=paramValue}return params[parameter]}},defer:function(statics){}});!function(){var e$$0=window.qxWeb.$$qx;e$$0.Bootstrap.setRoot({qx:window.qxWeb.$$qx,baselib:window.baselib,qui:window.qui}),e$$0.$$packageData[0]={locales:{},resources:{},translations:{}},qxWeb.define("baselib.module.promise.Wait",{construct:function(e){this.__fN=e},statics:{wait:function(e){var t=null;var i=null;var n=new Promise(function(n){i=(new Date).getTime(),t=window.setTimeout(function(){t=null,n(e)},e)});var s=new baselib.module.promise.Wait(t);var a=new baselib.Thenable(n,s.abort.bind(s));
return s._setThenable(a),s._setStartTime(i),a}},members:{__fO:null,__fP:null,__fN:null,_setThenable:function(e){this.__fP=e},_setStartTime:function(e){this.__fO=e},abort:function(){if(this.__fN){window.clearTimeout(this.__fN),this.__fN=null;var e=this.__fP._getRejectionCallback();e&&e((new Date).getTime()-this.__fO),this.__fP._setPromise(Promise.resolve())}return this}},defer:function(e){qxWeb.$attachStatic({wait:e.wait})}})}();!function(){var e$$1=window.qxWeb.$$qx;e$$1.Bootstrap.setRoot({qx:window.qxWeb.$$qx,baselib:window.baselib,qui:window.qui}),e$$1.$$packageData[0]={locales:{},resources:{},translations:{C:{},en:{}}},e$$1.Bootstrap.define("qx.bom.client.Transport",{statics:{getMaxConcurrentRequestCount:function(){var t;var i=e$$1.bom.client.Engine.getVersion().split(".");var n=0;var s=0;var o=0;return i[0]&&(n=i[0]),i[1]&&(s=i[1]),i[2]&&(o=i[2]),t=window.maxConnectionsPerServer?window.maxConnectionsPerServer:"opera"==
e$$1.bom.client.Engine.getName()?8:"webkit"==e$$1.bom.client.Engine.getName()?4:"gecko"==e$$1.bom.client.Engine.getName()&&(n>1||1==n&&s>9||1==n&&9==s&&o>=1)?6:2},getSsl:function(){return"https:"===window.location.protocol},getXmlHttpRequest:function(){var e$$0=window.ActiveXObject?function(){if("file:"!==window.location.protocol)try{return new window.XMLHttpRequest,"xhr"}catch(e){}try{return new window.ActiveXObject("Microsoft.XMLHTTP"),"activex"}catch(t){}}():function(){try{return new window.XMLHttpRequest,
"xhr"}catch(e){}}();return e$$0||""}},defer:function(t){e$$1.core.Environment.add("io.maxrequests",t.getMaxConcurrentRequestCount),e$$1.core.Environment.add("io.ssl",t.getSsl),e$$1.core.Environment.add("io.xhr",t.getXmlHttpRequest)}}),e$$1.Bootstrap.define("baselib.module.io.Xhr",{statics:{xhr:function(t,i){i||(i={});var n=new e$$1.bom.request.Xhr;if(n.open(i.method,t,i.async),i.header){var s=i.header;for(var o in s)n.setRequestHeader(o,s[o])}return n},loadXhr:function(t$$0,i$$0,n){i$$0=i$$0||{},
n=n||null;var s=new e$$1.bom.request.Xhr;var o=function(e){e(s)};var r=function(e){e(s)};var _=new Promise(function(e,t){var i=r.bind(this,t);s.on("load",o.bind(this,e)),s.on("error",i),s.on("abort",i),s.on("timeout",i)});if(s.open(i$$0.method,t$$0,i$$0.async),i$$0.header){var a=i$$0.header;for(var h in a)s.setRequestHeader(h,a[h])}return s.send(n),new baselib.Thenable(_,s.abort.bind(s))}},defer:function(e){qxWeb.$attachStatic({loadXhr:e.loadXhr,io:{xhr:e.xhr},xhr:e.xhr})}}),e$$1.Bootstrap.define("qx.bom.request.Xhr",
{extend:Object,construct:function(){var t=e$$1.Bootstrap.bind(this.__eF,this);this.__es=e$$1.event&&e$$1.event.GlobalError&&e$$1.event.GlobalError.observeMethod?e$$1.event.GlobalError.observeMethod(t):t,this.__et=e$$1.Bootstrap.bind(this.__eE,this),this.__Bo=e$$1.Bootstrap.bind(this.__Bp,this),this.__dG=e$$1.Bootstrap.bind(this.__eJ,this),this.__eD(),this._emitter=new e$$1.event.Emitter,window.attachEvent&&(this.__eu=e$$1.Bootstrap.bind(this.__eM,this),window.attachEvent("onunload",this.__eu))},statics:{UNSENT:0,
OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},events:{readystatechange:"qx.bom.request.Xhr",error:"qx.bom.request.Xhr",loadend:"qx.bom.request.Xhr",timeout:"qx.bom.request.Xhr",abort:"qx.bom.request.Xhr",load:"qx.bom.request.Xhr",progress:"qx.bom.request.Xhr"},members:{readyState:0,responseText:"",responseXML:null,status:0,statusText:"",timeout:0,progress:null,open:function(t,i,n,s,o){if(this.__eO(),"undefined"==typeof i)throw new Error("Not enough arguments");"undefined"==typeof t&&(t="GET"),this.__cB=
!1,this.__ev=!1,this.__ew=!1,this.__dJ=i,"undefined"==typeof n&&(n=!0),this.__ex=n,!this.__eN()&&this.readyState>e$$1.bom.request.Xhr.UNSENT&&(this.dispose(),this.__eD()),this.__ez.onreadystatechange=this.__es;try{this.__ez.open(t,i,n,s,o)}catch(r){if(!e$$1.util.Request.isCrossDomain(i))throw r;if(this.__ex||(this.__ey=r),this.__ex){if(window.XDomainRequest)return this.readyState=4,this.__ez=new XDomainRequest,this.__ez.onerror=e$$1.Bootstrap.bind(function(){this._emit("readystatechange"),this._emit("error"),
this._emit("loadend")},this),void this.__ez.open(t,i,n,s,o);window.setTimeout(e$$1.Bootstrap.bind(function(){this.__dL||(this.readyState=4,this._emit("readystatechange"),this._emit("error"),this._emit("loadend"))},this))}}"mshtml"===e$$1.core.Environment.get("engine.name")&&e$$1.core.Environment.get("browser.documentmode")<9&&this.__ez.readyState>0&&this.__ez.setRequestHeader("If-Modified-Since","-1"),"gecko"===e$$1.core.Environment.get("engine.name")&&parseInt(e$$1.core.Environment.get("engine.version"),
10)<2&&!this.__ex&&(this.readyState=e$$1.bom.request.Xhr.OPENED,this._emit("readystatechange"))},setRequestHeader:function(e,t){return this.__eO(),("If-Match"==e||"If-Modified-Since"==e||"If-None-Match"==e||"If-Range"==e)&&(this.__ew=!0),this.__ez.setRequestHeader(e,t),this},send:function(t){if(this.__eO(),!this.__ex&&this.__ey)throw this.__ey;"opera"===e$$1.core.Environment.get("engine.name")&&0===this.timeout&&(this.timeout=1E4),this.timeout>0&&(this.__eA=window.setTimeout(this.__dG,this.timeout)),
t="undefined"==typeof t?null:t;var i=e$$1.Bootstrap.getClass(t);t=null!==t&&-1===this.__eC.indexOf(i)?t.toString():t;try{this.__ez.send(t)}catch(n){if(!this.__ex)throw n;if("file:"===this._getProtocol()){this.readyState=2,this.__eG();var s=this;window.setTimeout(function(){s.__dL||(s.readyState=3,s.__eG(),s.readyState=4,s.__eG())})}}return"gecko"!==e$$1.core.Environment.get("engine.name")||this.__ex||this.__eF(),this.__ev=!0,this},abort:function(){return this.__eO(),this.__cB=!0,this.__ez.abort(),
this.__ez&&(this.readyState=this.__ez.readyState),this},_emit:function(e){this["on"+e]&&this["on"+e](),this._emitter.emit(e,this)},onreadystatechange:function(){},onload:function(){},onloadend:function(){},onerror:function(){},onabort:function(){},ontimeout:function(){},onprogress:function(){},on:function(e,t,i){return this._emitter.on(e,t,i),this},getResponseHeader:function(t){return this.__eO(),9===e$$1.core.Environment.get("browser.documentmode")&&this.__ez.aborted?"":this.__ez.getResponseHeader(t)},
getAllResponseHeaders:function(){return this.__eO(),9===e$$1.core.Environment.get("browser.documentmode")&&this.__ez.aborted?"":this.__ez.getAllResponseHeaders()},overrideMimeType:function(e){if(this.__eO(),!this.__ez.overrideMimeType)throw new Error("Native XHR object doesn't support overrideMimeType.");return this.__ez.overrideMimeType(e),this},getRequest:function(){return this.__ez},dispose:function(){if(this.__dL)return!1;window.clearTimeout(this.__eA),window.detachEvent&&window.detachEvent("onunload",
this.__eu);try{this.__ez.onreadystatechange}catch(e){return!1}var t=function(){};return this.__ez.onreadystatechange=t,this.__ez.onload=t,this.__ez.onerror=t,this.__ez.onprogress=t,this.abort(),this.__ez=null,this.__dL=!0,!0},isDisposed:function(){return!!this.__dL},_createNativeXhr:function(){var t=e$$1.core.Environment.get("io.xhr");return"xhr"===t?new XMLHttpRequest:"activex"==t?new window.ActiveXObject("Microsoft.XMLHTTP"):void e$$1.Bootstrap.error(this,"No XHR support available.")},_getProtocol:function(){var e=
this.__dJ;var t=/^(\w+:)\/\//;if(null!==e&&e.match){var i=e.match(t);if(i&&i[1])return i[1]}return window.location.protocol},__ez:null,__ex:null,__es:null,__et:null,__Bo:null,__eu:null,__dG:null,__ev:null,__dJ:null,__cB:null,__eB:null,__dL:null,__eA:null,__ey:null,__ew:null,__eC:null,__eD:function(){this.__ez=this._createNativeXhr(),this.__ez.onreadystatechange=this.__es,"Undefined"!==e$$1.Bootstrap.getClass(this.__ez.onabort)&&(this.__ez.onabort=this.__et),"Undefined"!==e$$1.Bootstrap.getClass(this.__ez.onprogress)&&
(this.__ez.onprogress=this.__Bo,this.progress={lengthComputable:!1,loaded:0,total:0}),this.__dL=this.__ev=this.__cB=!1,this.__eC=["ArrayBuffer","Blob","HTMLDocument","String","FormData"]},__eE:function(){this.__cB||this.abort()},__Bp:function(e){this.progress.lengthComputable=e.lengthComputable,this.progress.loaded=e.loaded,this.progress.total=e.total,this._emit("progress")},__eF:function(){var t=this.__ez;var i=!0;if(this.readyState!=t.readyState&&(this.readyState=t.readyState,(this.readyState!==
e$$1.bom.request.Xhr.DONE||!this.__cB||this.__ev)&&(this.__ex||2!=t.readyState&&3!=t.readyState))){if(this.status=0,this.statusText=this.responseText="",this.responseXML=null,this.readyState>=e$$1.bom.request.Xhr.HEADERS_RECEIVED){try{this.status=t.status,this.statusText=t.statusText,this.responseText=t.responseText,this.responseXML=t.responseXML}catch(n){i=!1}i&&(this.__eK(),this.__eL())}this.__eG(),this.readyState==e$$1.bom.request.Xhr.DONE&&t&&(t.onreadystatechange=function(){})}},__eG:function(){this.readyState===
e$$1.bom.request.Xhr.DONE&&window.clearTimeout(this.__eA),this._emit("readystatechange"),this.readyState===e$$1.bom.request.Xhr.DONE&&this.__eH()},__eH:function(){this.__eB?(this._emit("timeout"),"opera"===e$$1.core.Environment.get("engine.name")&&this._emit("error"),this.__eB=!1):this._emit(this.__cB?"abort":this.__eI()?"error":"load"),this._emit("loadend")},__eI:function(){var e;return e="file:"===this._getProtocol()?!this.responseText:!this.statusText&&204!==this.status},__eJ:function(){var t=
this.__ez;this.readyState=e$$1.bom.request.Xhr.DONE,this.__eB=!0,t.aborted=!0,t.abort(),this.responseText="",this.responseXML=null,this.__eG()},__eK:function(){var t=this.readyState===e$$1.bom.request.Xhr.DONE;"file:"===this._getProtocol()&&0===this.status&&t&&(this.__eI()||(this.status=200)),1223===this.status&&(this.status=204),"opera"===e$$1.core.Environment.get("engine.name")&&t&&this.__ew&&!this.__cB&&0===this.status&&(this.status=304)},__eL:function(){if("mshtml"==e$$1.core.Environment.get("engine.name")&&
(this.getResponseHeader("Content-Type")||"").match(/[^\/]+\/[^\+]+\+xml/)&&this.responseXML&&!this.responseXML.documentElement){var t=new window.ActiveXObject("Microsoft.XMLDOM");t.async=!1,t.validateOnParse=!1,t.loadXML(this.responseText),this.responseXML=t}},__eM:function(){try{this&&this.dispose()}catch(e){}},__eN:function(){var t=e$$1.core.Environment.get("engine.name");var i=e$$1.core.Environment.get("browser.version");return!("mshtml"==t&&9>i||"gecko"==t&&3.5>i)},__eO:function(){if(this.__dL)throw new Error("Already disposed");
}},defer:function(){e$$1.core.Environment.add("qx.debug.io",!1)}})}();$q.define("UNOUNO.components.ContentToggle",{statics:{init:function(){this.initContentToggle();this.initToggleAnchorEffect()},initContentToggle:function(ev){$q(".content-toggle").on("click",function(ev){ev.preventDefault();var currentTarget=ev.getCurrentTarget();var showClass=currentTarget.getAttribute("data-show");var hideClass=currentTarget.getAttribute("data-hide");if($q(currentTarget).hasClass("content-displayed"))$q(currentTarget).removeClass("content-displayed");else $q(currentTarget).addClass("content-displayed");
if(showClass!==null)$q("."+showClass).toggleClass("hidden");if(hideClass!==null)$q("."+hideClass).toggleClass("hidden")})},initToggleAnchorEffect:function(){$q(".toggle-anchor").on("click",this.handleToggleAnchorInteraction,this)},handleToggleAnchorInteraction:function(ev){var eventTarget=ev.getTarget();ev.preventDefault();if($q.isNode(eventTarget)){if($q(eventTarget).hasClass("expand-icon")||$q(eventTarget).hasClass("collapse-icon"))$q(eventTarget).toggleClass("expand-icon").toggleClass("collapse-icon");
else $q(eventTarget).toggleClass("link-expand").toggleClass("link-collapse");$q("#"+$q(eventTarget).getData("toggle")).toggleClass("hidden")}}},defer:function(statics){statics.init()}});$q.define("UNOUNO.components.Forms",{statics:{init:function(){this.initInputFieldTooltips()},initInputFieldTooltips:function(){var inputFieldTooltipsCollection=$q(".tooltip[rel]");var inputFieldTooltipIcon=$q(".tooltip-icon");var i;var currentInputField;var currentTooltip;if(inputFieldTooltipsCollection.length){$q.debug("Init "+inputFieldTooltipsCollection.length+" input fiels tooltip(s).");for(i=0;i<inputFieldTooltipsCollection.length;i+=1){currentInputField=document.getElementById(inputFieldTooltipsCollection[i].getAttribute("rel"));
if($q.isNode(currentInputField)){currentTooltip=$(currentInputField).tooltip(inputFieldTooltipsCollection[i],"bottom-left",{left:0});$q(currentInputField).on("focus",this.showCorrespondingTooltip.bind(this,currentTooltip));$q(currentInputField).on("blur",this.hideCorrespondingTooltip.bind(this,currentTooltip));$q(inputFieldTooltipIcon[i]).on("mouseover",this.showCorrespondingTooltip.bind(this,currentTooltip));$q(inputFieldTooltipIcon[i]).on("mouseout",this.hideCorrespondingTooltip.bind(this,currentTooltip))}}}},
showCorrespondingTooltip:function(tooltip,ev){ev.preventDefault();tooltip.getElement().removeClass("hidden");tooltip.updatePosition();tooltip.getElement().addClass("active")},hideCorrespondingTooltip:function(tooltip,ev){ev.preventDefault();tooltip.getElement().removeClass("active");tooltip.getElement().addClass("hidden")}},defer:function(statics){statics.init()}});$q.define("UNOUNO.components.LoadingIndicator",{statics:{animationDescription:{keep:100,duration:1E3,timing:"linear",keyFrames:{0:{"rotate":["0deg","0deg","0deg"]},100:{"rotate":["0deg","0deg","360deg"]}},repeat:"infinite"},init:function(){this.initButtonLoader()},initButtonLoader:function(){$q(".button-with-loader").on("click",function(){$q(this).addClass("submitting");$q(this).find(".button-loader").removeClass("hidden")})},blockContainer:function(container){var blockerElement;if($q.isNode(container)){container.block();
blockerElement=container.getBlocker();$q(blockerElement).setHtml('\x3cdiv class\x3d"spin-loader-fallback" aria-hidden\x3d"true"\x3e\x3c/div\x3e');this.rotateSpinner(".qx-blocker div.spin-loader-fallback")}else $q.error("Block container is not a DOM node!")},rotateSpinner:function(selector){var animationTarget=$q(selector);if($q.isNode(animationTarget)){if(animationTarget.animate!==undefined)animationTarget.animate(this.animationDescription)}else $q.error('No animation target for selector "'+selector+
'"')}},defer:function(statics){statics.init()}});$q.define("UNOUNO.components.Tooltips",{statics:{hasLineBreaks:false,init:function(){this.initTooltipsBehavior()},initTooltipsBehavior:function(singleElement){var hoverAndRevealCandidates=singleElement?$q(singleElement):$q(".reveal-title-by-hover");hoverAndRevealCandidates.on("mouseover",this.handleTooltipShow,this);hoverAndRevealCandidates.on("click",this.handleTooltipHide,this);hoverAndRevealCandidates.on("mouseout",this.handleTooltipHide,this)},showCustomTooltip:function(targetElement){var customTooltipElement;
var targetElementPosition=$q(targetElement).getOffset();var targetElementWidth=$q(targetElement).getWidth();var customTooltipElementWidth;var customTooltipElementHeight;var calculatedLeftTooltipPosition;if($q(".custom-title").length<=1)$q.create('\x3cspan class\x3d"custom-title"\x3e\x3c/span\x3e').insertAfter("#content");if(!$q(".custom-title.active").length){customTooltipElement=$q(".custom-title:not(.last-used)").getFirst();if($q(targetElement).hasClass("with-line-breaks"))customTooltipElement.setHtml(this.replaceCommaWithLineBreaks(targetElement.dataset.titleCopy));
else customTooltipElement.setTextContent(targetElement.dataset.titleCopy);customTooltipElementWidth=$q(customTooltipElement).getWidth();customTooltipElementHeight=$q(customTooltipElement).getHeight();if($q(targetElement).hasClass("reveal-left"))calculatedLeftTooltipPosition=targetElementPosition.left-8;else if($q(targetElement).hasClass("reveal-right"))calculatedLeftTooltipPosition=targetElementPosition.left+(targetElementWidth-customTooltipElementWidth)-8;else calculatedLeftTooltipPosition=targetElementPosition.left+
targetElementWidth/2-customTooltipElementWidth/2;$q(customTooltipElement).setStyles({left:calculatedLeftTooltipPosition+"px",top:targetElementPosition.bottom-customTooltipElementHeight-32+"px"});$q(customTooltipElement).addClass("active")}},handleTooltipShow:function(ev){var targetElement=$q(ev.getTarget()).getClosest(".reveal-title-by-hover")[0];ev.preventDefault();if($q.isNode(targetElement)){if(targetElement.hasAttribute("title")){targetElement.dataset.titleCopy=targetElement.getAttribute("title");
targetElement.removeAttribute("title")}this.showCustomTooltip(targetElement)}},handleTooltipHide:function(ev){var relatedTargetElement=ev.relatedTarget;var currentTargetElement=ev.getCurrentTarget();var tooltipContainerElement=$q(currentTargetElement).getClosest(".reveal-title-by-hover")[0];var customTooltipElement=$q(".custom-title.active");if(!$q.equalNodes($q(currentTargetElement),$q(tooltipContainerElement)))return;if($q.equalNodes($q(relatedTargetElement),$q(tooltipContainerElement))||$q(relatedTargetElement).isChildOf(tooltipContainerElement))return;
if(customTooltipElement.length){$q(".custom-title").removeClass("last-used");customTooltipElement.removeClass("active").addClass("last-used")}},replaceCommaWithLineBreaks:function(text){var array=text.split(",");var div=document.createElement("i");array.forEach(function(el){div.appendChild(document.createTextNode(el));div.innerHTML+="\x3c/br\x3e"});return $q(div)[0].innerHTML}},defer:function(statics){statics.init()}});!function(){var e=window.qxWeb.$$qx;e.Bootstrap.setRoot({qx:window.qxWeb.$$qx,baselib:window.baselib,qui:window.qui}),e.$$packageData[0]={locales:{},resources:{},translations:{}},e.Bootstrap.define("baselib.deprecated.Collection",{defer:function(){}})}();!function(){var t$$1=window.qxWeb.$$qx;t$$1.Bootstrap.setRoot({qx:window.qxWeb.$$qx,baselib:window.baselib,qui:window.qui}),t$$1.$$packageData[0]={locales:{},resources:{},translations:{C:{},en:{}}},t$$1.Bootstrap.define("qx.ui.website.Widget",{extend:qxWeb,statics:{widget:function(){var e=new t$$1.ui.website.Widget(this);return e.init(),e},create:function(e){return new t$$1.ui.website.Widget(qxWeb.create(e))},$onFirstCollection:function(t,e,i,s){var n=this.classname.replace(/\./g,"-")+"-context";
this.getProperty(n)||this.setProperty(n,i);var r=this.getProperty(n);return this.hasListener(t,e,r)||this.on(t,e,r,s),this},$offFirstCollection:function(t,e,i$$0,s){var n=this.classname.replace(/\./g,"-")+"-context";return this._forEachElementWrapped(function(i){var r=i.getProperty(n);i.off(t,e,r,s)}),this},initWidgets:function(t$$0){var e=qxWeb("*[data-qx-class]");t$$0&&(e=e.filter(t$$0)),e._forEachElementWrapped(function(t){t.init()})}},construct:function(t,e){var i=this.base(arguments,t,e);Array.prototype.push.apply(this,
Array.prototype.slice.call(i,0,i.length))},members:{__fQ:null,init:function(){return this.getProperty("$$qx-widget-initialized")?!1:(this.setAttribute("data-qx-class",this.classname),this.addClass("qx-widget"),this.addClass(this.getCssPrefix()),this.setProperty("$$qx-widget-initialized",!0),!0)},getCssPrefix:function(){if(!this.__fQ){var t=this.classname.split(".");this.__fQ="qx-"+t[t.length-1].toLowerCase()}return this.__fQ},setEnabled:function(t){return this.setAttribute("disabled",!t),this.find("*").setAttribute("disabled",
!t),this},getEnabled:function(){return!this.getAttribute("disabled")},setTemplate:function(t,e){return this._setData("templates",t,e)},setConfig:function(t,e){return this._setData("config",t,e)},_setData:function(t,e,i){return this.forEach(function(s){s[t]||(s[t]={}),s[t][e]=i}),this},getTemplate:function(t){return this._getData("templates",t)},getConfig:function(t){return this._getData("config",t)},_getData:function(t,e){var i;var s=this.getProperty(t);if(s&&(i=s[e]),void 0===i&&"config"==t){var n=
"qx"+qxWeb.string.firstUp(t)+qxWeb.string.firstUp(e);i=this.getData(n),(!this[0]||!this[0].dataset&&null===i)&&(i=void 0);try{i=JSON.parse(i)}catch(r){}}return void 0===i&&this.constructor["_"+t]?this.constructor["_"+t][e]:i},render:function(){return this},dispose:function(){this.removeAttribute("data-qx-class"),this.setProperty("config",void 0),this.setProperty("templates",void 0);var t=this.classname.replace(/\./g,"-")+"-context";this.setProperty(t,void 0),this.setProperty("$$qx-widget-initialized",
void 0),this.removeClass("qx-widget"),this.removeClass(this.getCssPrefix());for(var e in this.constructor.$$events)this.allOff(e);return qxWeb.$init(this,qxWeb)}},defer:function(t){qxWeb.$attach({$onFirstCollection:t.$onFirstCollection,$offFirstCollection:t.$offFirstCollection,widget:t.widget}),qxWeb.$attachStatic({initWidgets:t.initWidgets})}}),t$$1.Bootstrap.define("baselib.ui.Widget",{extend:t$$1.ui.website.Widget,construct:function(t,e){this.base(arguments,t,e),t&&this._checkAndDebugIfEmpty("info")},
members:{_checkAndDebugIfEmpty:function(){}}})}();!function(){var e$$1=window.qxWeb.$$qx;e$$1.Bootstrap.setRoot({qx:window.qxWeb.$$qx,baselib:window.baselib,qui:window.qui}),e$$1.$$packageData[0]={locales:{},resources:{},translations:{}},qxWeb.define("baselib.ui.Flyout",{extend:baselib.ui.Widget,construct:function(e,t){this.base(arguments,e,t)},events:{change:"Object"},statics:{_config:{syncValueTo:null,position:"bottom-left",onOpen:null,onClose:null},flyout:function(e){var t=new baselib.ui.Flyout(this);return t.init(e),t},__jE:"qx-flyout-menu",
__jF:"qx-flyout-selected",__jG:null},members:{init:function(e){return this.base(arguments)?(this._forEachElementWrapped(function(t){t.setMenu(e),t.setProperty("$$focused",!1)}),this.__jH(),!0):!1},getValue:function(){return this.eq(0).getProperty("$$value")},setMenu:function(e){var t=null;null!==this.getProperty("$$menu")&&"undefined"!=typeof this.getProperty("$$menu")&&this.getProperty("$$menu").off("tap",this._handleTapOnMenu,this),"undefined"!=typeof e&&null!==e&&(t=qxWeb(e)),null!==t&&t.length>
0?(this.setProperty("$$menu",t),t.addClass(baselib.ui.Flyout.__jE),this.closeMenu(),t.on("tap",this._handleTapOnMenu,this)):null!==t&&0===t.length&&qxWeb.debug("The given selector '"+e+"' does not match any element!")},openMenu:function(){var e=this.getProperty("$$menu");if("undefined"!=typeof e){e.placeTo(this,this.getConfig("position")),e.show();var t=this.getConfig("onOpen");null!==t&&"Function"===qxWeb.type.get(t)&&window.setTimeout(function(){t.call(this,e)}.bind(this),0)}return this},closeMenu:function(){var e=
this.getProperty("$$menu");if(null!==e){var t=this.getConfig("onClose");if(null!==t&&"Function"===qxWeb.type.get(t)){var n=function(){this.getProperty("$$menu").hide()}.bind(this);t.call(this,e,n)}else e.hide()}return this},setSelectedIndex:function(e){e="undefined"!=typeof e?e:0;var t=null;return this._forEachElementWrapped(function(n){t=e>=0&&e<this.__jJ().length?e:0,n.selectOption(t),n.setProperty("$$selectedIndex",t)}),this},isOpen:function(){var e=this.getProperty("$$menu");var t=!1;return"undefined"!=
typeof e&&(t=e[0].offsetTop>0),t},selectOption:function(e){var t=null;var n=null;var i=null;var o=null;var s=null;return this._forEachElementWrapped(function(u){if(n=baselib.ui.Flyout.__jF,o=this.__jJ(),o.eq(u.getProperty("$$selectedIndex")).removeClass(n),t=o.eq(e).addClass(n),u.setProperty("$$selectedIndex",e),i=t.getData("value")||u.getProperty("$$selectedIndex"),u.setProperty("$$value",i),s=u.getConfig("syncValueTo"),null!==s)if(qxWeb(s).length>0)qxWeb(s).setValue(u.getProperty("$$value"));else{var l=
"The provided CSS selector '"+s+"' for 'syncValueTo'  does not match any element!\n Please check the code sample at http://baselib.ai.1und1.de/current/docs/api/#Flyout\n for further details!";qxWeb.debug(l)}}),this},__jH:function(){this._forEachElementWrapped(function(e){e.on("tap",this._handleTapOnFlyout,this).on("focus",this._handleFocusBlur,this).on("blur",this._handleFocusBlur,this),qxWeb(document.documentElement).on("tap",this._handleTapOnDocument,this).on("keydown",this._handleKeyDownInput,
this)})},__iX:function(){this.emit("change",{option:this.__jJ().eq(this.getProperty("$$selectedIndex")),value:this.getProperty("$$value")})},__jI:function(e){var t=this.__jJ().length;var n=this.getProperty("$$selectedIndex");"undefined"==typeof n?(n=0,this.selectOption(n)):("up"==e?n=n>0?--n:n:"down"==e&&(n=n===t-1?n:++n),this.selectOption(n))},__jJ:function(){var e$$0=this.getProperty("$$menu");var t=qxWeb();if("undefined"!=typeof e$$0){var n=e$$0.getChildren("[data-selectable]");n=n.filter(function(e){return"true"===
qxWeb(e).getData("selectable")}),t=n.length>0?n:e$$0.getChildren()}return t},_handleTapOnFlyout:function(){this.isOpen()?this.closeMenu():this.openMenu()},_handleFocusBlur:function(e){this.setProperty("$$focused","focus"===e.getType())},_handleTapOnMenu:function(e){e.stopPropagation();var t=qxWeb(e.getCurrentTarget()).getChildren().contains(e.getTarget());var n=this.__jJ();var i=n.indexOf(t);this.getProperty("$$selectedIndex")!=i&&n[i]&&(this.setSelectedIndex(i),this.__iX()),this.closeMenu()},_handleTapOnDocument:function(e){this._forEachElementWrapped(function(t){var n=
qxWeb(e.getTarget());n[0]!==t[0]&&t.isOpen()&&!n.isChildOf(t.getProperty("$$menu"))&&t.closeMenu()})},_handleKeyDownInput:function(e){this._forEachElementWrapped(function(t){var n=t.isOpen();var i=e.getKeyIdentifier().toLowerCase();if(n)switch(-1!=baselib.ui.Flyout.__jG.indexOf(i)&&(e.stopPropagation(),e.preventDefault()),i){case "up":case "down":t.__jI(i);break;case "enter":case "space":t.__iX(),t.closeMenu();break;case "escape":t.closeMenu()}else!n&&t.getProperty("$$focused")&&"down"===i&&t.openMenu()})}},
defer:function(e){qxWeb.$attach({flyout:e.flyout}),e.__jG=["up","down","enter","space","escape"]}})}();$q.define("UNOUNO.components.Menus",{statics:{visibleFlyoutID:0,init:function(){this.initFlyoutMenuBehavior();this.webspaceExplorerCustomFlyoutMenu()},webspaceExplorerCustomFlyoutMenu:function(){$q(".we-flyout-menu-trigger").allOff("click");$q(".we-flyout-menu-trigger").on("click",function(event){event.stopPropagation();if(!$q(this).getOffsetParent().hasClass("show"))$q(".flyout-menu").removeClass("show");$q(this).getOffsetParent().removeClass("force-top");$q(this).getOffsetParent().toggleClass("show");
var containerHeight=$q("#webspace-explorer-list").getHeight();var containerTop=$q("#webspace-explorer-list").getOffset().top;var tableHeight=$q("#webspace-explorer-file-list-receiver").getHeight();var scrolledAmmount=$q("#webspace-explorer-list").getScrollTop();var currentElementTop=$q(this).getOffsetParent().getOffset().top+scrolledAmmount-containerTop;var flyoutMenuHeight=$q(this).getOffsetParent().find(".we-flyout-menu-list").getHeight(true)+32;var flyoutMenuPosition=tableHeight-(scrolledAmmount+
currentElementTop);if(tableHeight>flyoutMenuHeight||tableHeight>300)if(tableHeight-currentElementTop<flyoutMenuHeight&&currentElementTop>flyoutMenuHeight)$q(this).getOffsetParent().addClass("force-top")});$q("body").on("click",function(event){$q(".flyout-menu").removeClass("show")});$q(".we-flyout-menu-list").on("click",function(event){event.stopPropagation()})},initFlyoutMenuBehavior:function(){$q("#content").on("tap",function(event){var targetTrigger=$q(event.getTarget());if(targetTrigger.hasClass("flyout-menu-trigger")){event.preventDefault();
event.stopPropagation();var targetMenu=targetTrigger.getNext();var targetMenuID=targetMenu.getAttribute("id");if(!targetMenuID)targetMenuID=targetMenu.setAttribute("id","flyout-menu-"+Math.floor(Math.random()*1E3+1));if(targetMenu.hasClass("visible")){this.closeFlyoutMenuCallback(targetMenu,targetTrigger);this.visibleFlyoutID=0}else{this.closeAllFlyouts();this.openFlyoutMenuCallback(targetMenu,targetTrigger);this.visibleFlyoutID=targetMenuID}}else this.closeAllFlyouts()},this);$q(document.documentElement).on("keydown",
this.handleKeyDownInput,this);$q(".flyout-menu-list").on("tap",function(ev){ev.stopPropagation()})},openFlyoutMenuCallback:function(flyoutMenu,targetTrigger){if($q(flyoutMenu).getAttribute("rel")!=="bottom-left"){$q(flyoutMenu).setStyle("left","inherit");$q(flyoutMenu).setStyle("right","12px").addClass("visible");$q(targetTrigger).addClass("active")}else{$q(flyoutMenu).addClass("visible");$q(targetTrigger).addClass("active")}},closeFlyoutMenuCallback:function(flyoutMenu,targetTrigger){$q(targetTrigger).removeClass("active");
$q(flyoutMenu).removeClass("visible")},closeAllFlyouts:function(){$q(".flyout-menu-trigger").removeClass("active");$q(".flyout-menu-list").removeClass("visible")},closeCustomFlyouts:function(){$q(".flyout-menu").removeClass("show")},handleKeyDownInput:function(event){var keyIdentifier=event.getKeyIdentifier().toLowerCase();if(keyIdentifier="esc")this.closeAllFlyouts()}},defer:function(statics){statics.init()}});!function(){var t$$0=window.qxWeb.$$qx;t$$0.Bootstrap.setRoot({qx:window.qxWeb.$$qx,baselib:window.baselib,qui:window.qui}),t$$0.$$packageData[0]={locales:{},resources:{},translations:{}},t$$0.Bootstrap.define("baselib.lightbox.LightBox",{construct:function(t,e,i){this._blocker=new baselib.AnimatedBlocker,this._blocker.setZIndex(1E3),this._container=qxWeb.create("\x3cdiv\x3e"),this._container.addClasses(["qx-lightbox-container","lightbox_container"]),this._container.setStyles({display:"none",position:"absolute",
zIndex:1001,opacity:0}),this._htmlElement=qxWeb("html"),this._document=qxWeb(document),this._body=qxWeb("body"),this.__dg(),t&&this.setContent(t),e&&this.setTitleBar(e),i&&this.setButtonBar(i),this.__cG="Function"===qxWeb.type.get(this._container.animate)},statics:{lightbox:function(t,e,i){var n=new baselib.lightbox.LightBox(t,e,i);return n},__cR:{top:!0,left:!0,width:!0,height:!0,minTop:!0,minLeft:!0,content:!0,useShadow:!0,defaultStyle:!0,backgroundColor:!0,showSpeed:!0,closeSpeed:!0,buttonBar:!0,
titleBar:!0}},members:{_blocker:null,_container:null,_content:null,_htmlElement:null,_document:null,_body:null,__cG:!1,set:function(t){var e;for(var i in t)baselib.lightbox.LightBox.__cR[i]===!0&&(e="set"+qxWeb.string.firstUp(i),this[e].call(this,t[i]))},__cS:function(t){return"Number"===qxWeb.type.get(t)&&Math.floor(t)===t},__cT:null,getWidth:function(){return this.__cT},setWidth:function(t){if(!this.__cS(t))throw new Error('Please provide an "Integer" for "width"');this.__cT=t,this._applySizeAndPosition()},
__cQ:null,getHeight:function(){return this.__cQ},setHeight:function(t){if(!this.__cS(t))throw new Error('Please provide an "Integer" for "height"');this.__cQ=t,this._applySizeAndPosition()},__cU:null,getLeft:function(){return this.__cU},setLeft:function(t){if(!this.__cS(t))throw new Error('Please provide an "Integer" for "left"');this._applySizeAndPosition(),this.__cU=t},__cV:null,getTop:function(){return this.__cV},setTop:function(t){if(!this.__cS(t))throw new Error('Please provide an "Integer" for "top"');
this._applySizeAndPosition(),this.__cV=t},__cW:0,getMinLeft:function(){return this.__cW},setMinLeft:function(t){if(!this.__cS(t))throw new Error('Please provide an "Integer" for "minLeft"');this._applySizeAndPosition(),this.__cW=t},__cX:0,getMinTop:function(){return this.__cX},setMinTop:function(t){if(!this.__cS(t))throw new Error('Please provide an "Integer" for "minLeft"');this._applySizeAndPosition(),this.__cX=t},getUseShadow:function(){return!1},setUseShadow:function(){},__cY:null,getTitleBar:function(){return this.__cY},
setTitleBar:function(t){if(null===t)return void this.getTitleBar().getContent().remove();var e=t.getContent();t.setLightBox(this),this._container.getChildren().getFirst().before(e[0]),this._applySizeAndPosition(),this.__cY=t},__da:null,getContent:function(){return this.__da},setContent:function(t){if(null===t)return this._content.empty(),void(this.__da=t);if(t instanceof qxWeb==!1&&"String"!==qxWeb.type.get(t)&&!qxWeb.isElement(t))throw new Error('Please provide a "qxWeb collection", a "String" or a "DOM Element" as "content"');
"String"===qxWeb.type.get(t)&&(t=qxWeb.create("\x3cdiv\x3e"+t+"\x3c/div\x3e")),this._content.empty().append(t),this._applySizeAndPosition(),this.__da=t},__db:null,getButtonBar:function(){return this.__db},setButtonBar:function(t){if(null===t)return void this.getButtonBar().getContent().remove();var e=t.getContent();t.setLightBox(this),this._container.getChildren().getLast().after(e[0]),this._applySizeAndPosition(),this.__db=t},__dc:!1,getDefaultStyle:function(){return this.__dc},setDefaultStyle:function(t){if("Boolean"!==
qxWeb.type.get(t))throw new Error('Please provide a "Boolean" for "defaultStyle"');var e=null;var i=null;t&&(i="#FFFFFF",e="1px solid #999999"),this.setBackgroundColor(i),this._container.setStyle("border",e),this.__dc=t},__cK:null,getBackgroundColor:function(){return this.__cK},setBackgroundColor:function(t){null!==this.getTitleBar()&&this.getTitleBar().getContent().setStyle("backgroundColor",t),null!==this.getButtonBar()&&this.getButtonBar().getContent().setStyle("backgroundColor",t),this._content.setStyle("backgroundColor",
t),this.__cK=t},__dd:0,getShowSpeed:function(){return this.__dd},setShowSpeed:function(t){if(!this.__cS(t))throw new Error('Please provide an "Integer" for "showSpeed"');this.__dd=t},__de:0,getCloseSpeed:function(){return this.__de},setCloseSpeed:function(t){if(!this.__cS(t))throw new Error('Please provide a "Number" for "closeSpeed"');this.__de=t},show:function(){this._container.isRendered()||(this._applySizeAndPosition(),this._blocker.addListenerOnce("block",function(){this.__df()},this),this._blocker.block())},
__df:function(){this._body.getChildren(":first").after(this._container),this.__cG&&this.getShowSpeed()>0?this._container.fadeIn(this.getShowSpeed()):this._container.setStyle("opacity",1),this._container.setStyle("display","block")},close:function(){0!==this._container.getParents().length&&(this.__cG&&this.getCloseSpeed()>0?(this._container.fadeOut(this.getCloseSpeed()),this._container.once("animationEnd",function(){this._blocker.unblock(),this._container.remove()},this)):(this._container.setStyle("opacity",
0),this._blocker.unblock(),this._container.remove()))},getBlocker:function(){return this._blocker},_applySizeAndPosition:function(){var t={width:qxWeb(window).getWidth(),height:qxWeb(window).getHeight()};var e=this.getWidth()||.8*t.width;var i=this.getHeight()||.8*t.height;var n=this._htmlElement.getScrollTop()||this._body.getScrollTop();var o=this._htmlElement.getScrollLeft()||this._body.getScrollLeft();var s=this.getTop()||t.height/2-i/2+n;var r=this.getLeft()||t.width/2-e/2+o;s=parseInt(s,10),
r=parseInt(r,10),s<this.getMinTop()&&(s=this.getMinTop()),r<this.getMinLeft()&&(r=this.getMinLeft()),this._container.setStyles({width:e+"px",height:i+"px",left:r+"px",top:s+"px"});var c=0;var h=0;var l=0;var _=0;this.getTitleBar()&&(c=this.getTitleBar().getHeight(),_=c,this.getTitleBar().getContent().setStyles({top:"0px",left:"0px",width:e+"px"})),this.getButtonBar()&&(l=this.getButtonBar().getHeight(),this.getButtonBar().getContent().setStyles({bottom:"0px",left:"0px",width:e+"px"})),h=i-l-c,0>h&&
(h=0),this._content.setStyles({height:h+"px",width:e+"px",top:_+"px"})},__dg:function(){this._content=qxWeb.create("\x3cdiv\x3e"),this._content.addClasses(["qx-lightbox-content","lightbox_content"]),this._content.setStyles({position:"absolute",left:"0px",zIndex:1001}),this._container.append(this._content)}},defer:function(t){qxWeb.$attachStatic({lightbox:t.lightbox}),(null===window.qui||"object"!=typeof window.qui)&&(window.qui={}),(null===window.qui.bom||"object"!=typeof window.qui.bom)&&(window.qui.bom=
{}),window.qui.bom.lightbox={},window.qui.bom.lightbox.LightBox=baselib.lightbox.LightBox},destruct:function(){this._container=this._content=null,this._disposeObjects("_blocker")}}),t$$0.Bootstrap.define("baselib.lightbox.AbstractBar",{type:"abstract",members:{__cP:null,__cQ:40,_container:null,getLightBox:function(){return this.__cP},setLightBox:function(t){this.__cP=t},getHeight:function(){return this.__cQ},setHeight:function(t){if("Number"!==qxWeb.type.get(t))throw new Error("Please provide a 'Number' for 'height'");
this._container.setStyle("height",t+"px"),this.__cQ=t},_addContent:function(){throw new Error("Abstract Method '_addContent' call!");},getContent:function(){return this._container}},destruct:function(){this._container=null}}),t$$0.Bootstrap.define("baselib.lightbox.TitleBar",{extend:baselib.lightbox.AbstractBar,construct:function(){this._container=qxWeb.create("\x3cdiv class\x3d'lightbox_titlebar'\x3e\x3c/div\x3e"),this._container.setStyles({position:"absolute",overflow:"hidden",zIndex:1001}),this._addContent()},
members:{__cQ:27,getHeight:function(){return this.__cQ},setHeight:function(t){if("Number"!==qxWeb.type.get(t))throw new Error("Please provide a 'Number' for 'height'");this._container.setStyle("height",t+"px"),this.__cQ=t},_addContent:function(){var t=qxWeb.create("\x3cdiv class\x3d'lightbox_titlebar_close'\x3eX\x3c/div\x3e");t.setStyles({position:"absolute",top:"8px",right:"8px",width:"14px",height:"15px"}),this._container.append(t),t.on("click",function(){this.getLightBox().close()},this)}}}),t$$0.Bootstrap.define("baselib.lightbox.ButtonBar",
{extend:baselib.lightbox.AbstractBar,construct:function(){this._container=qxWeb.create("\x3cdiv class\x3d'lightbox_buttonbar'\x3e\x3c/div\x3e"),this._container.setStyles({position:"absolute",overflow:"hidden",zIndex:1001}),this._addContent()},members:{__cQ:27,_addContent:function(){var t=qxWeb.create("\x3cinput type\x3d'button' value\x3d'Close' class\x3d'lightbox_buttonbar_close' /\x3e");t.setStyles({position:"absolute",bottom:"8px",right:"8px",width:"100px"}),this._container.append(t),t.on("click",
function(){this.getLightBox().close()},this)}}}),t$$0.Bootstrap.define("baselib.AnimatedBlocker",{extend:t$$0.event.Emitter,construct:function(){this.__cF=qxWeb(document),this.__cG="Function"===qxWeb.type.get(this.__cF.animate)},events:{block:"qx.event.type.Event",unblock:"qx.event.type.Event"},members:{__cG:!1,__cH:0,getBlockSpeed:function(){return this.__cH},setBlockSpeed:function(t){if("Number"!==qxWeb.type.get(t))throw new Error("Please provide a 'Number' for 'blockSpeed'");this.__cH=t},__cI:0,
getUnblockSpeed:function(){return this.__cI},setUnblockSpeed:function(t){if("Number"!==qxWeb.type.get(t))throw new Error("Please provide a 'Number' for 'unblockSpeed'");this.__cI=t},__cJ:1,getOpacity:function(){return this.__cJ},setOpacity:function(t){if("Number"!==qxWeb.type.get(t))throw new Error("Please provide a 'Float' for 'opacity'");this.__cJ=t},__cK:null,getBackgroundColor:function(){return this.__cK},setBackgroundColor:function(t){this.__cK=t},__cL:1E4,getZIndex:function(){return this.__cL},
setZIndex:function(t){this.__cL=t},__cF:null,__cM:null,block:function(){this.__cF.block();var t=this.__cF.getBlocker();var e=t.getStyle("opacity");1===e&&(t.setStyle("opacity",this.getOpacity()),e=this.getOpacity());var i=t.getStyle("backgroundColor");("transparent"===i||"rgba(0, 0, 0, 0)"===i)&&(t.setStyle("backgroundColor",this.getBackgroundColor()),i=this.getBackgroundColor());var n=t.getStyle("zIndex");if(("auto"==n||0===n)&&(t.setStyle("zIndex",this.getZIndex()),n=this.getZIndex()),this.__cG&&
this.getBlockSpeed()>0){t.setAttribute("id","__animatedBlocker__");var o={duration:this.getBlockSpeed(),timing:"ease-in",keep:100,keyFrames:{0:{opacity:0},100:{opacity:e}}};t.animate(o),t.once("animationEnd",function(){this.emit("block")},this)}else this.emit("block")},unblock:function(){var t=this.getUnblockSpeed();if(0===t&&this.getBlockSpeed()>0&&(t=this.getBlockSpeed()),this.__cG&&t>0){var e=qxWeb("#__animatedBlocker__");var i={duration:this.getBlockSpeed(),timing:"ease-in",keep:100,keyFrames:{0:{opacity:this.getOpacity()},
100:{opacity:0}}};e.animate(i,t),e.once("animationEnd",function(){this.__cF.unblock(),this.emit("unblock")},this)}else this.__cF.unblock(),this.emit("unblock")}},destruct:function(){this._disposeObjects("__cM")}})}();$q.define("UNOUNO.components.LightboxWidget",{extend:Object,construct:function(config){this.widgetConfig=config;this.init()},members:{baseLibInstance:null,documentScrollTop:null,init:function(){this.initWidget();this.initDocumentRootClickListener();this.initWidgetRootClickListener();this.confirmSuccessfulInit();$q(window).on("resize",function(){if(this.baseLibInstance._container.isRendered())this.repositionLightbox()},this)},initWidget:function(){if($q.isNode(this.widgetConfig.container))this.widgetConfig.container.removeClass("hidden");
if($q.lightbox!==undefined){this.baseLibInstance=$q.lightbox();if(this.widgetConfig.config!==undefined)this.baseLibInstance.set(this.widgetConfig.config);else this.baseLibInstance.set({showSpeed:400,width:800,height:600});this.baseLibInstance.setContent($q.create(this.widgetConfig.container||this.widgetConfig.content))}},repositionLightbox:function(){var lightboxContainer=$q(this.baseLibInstance._container[0]);if($q.isNode(lightboxContainer)){if($q(document.body).hasClass("responsive-small")){if(!lightboxContainer.hasClass("responsive-small-mode")){lightboxContainer.addClass("responsive-small-mode");
lightboxContainer.setStyles({"top":"0px","left":"0px","right":"0px","width":"100%","position":"fixed"});lightboxContainer.setStyles({"top":"0px","left":"0px","right":"0px","width":"100%","position":"fixed"});lightboxContainer.find(".qx-lightbox-content").setStyles({"top":"0px","left":"0px","right":"0px","width":"100%"})}}else{lightboxContainer.removeClass("responsive-small-mode");lightboxContainer.setStyles({"position":"absolute","margin-top":"0"});this.baseLibInstance._applySizeAndPosition()}this.preventScrolling()}},
initDocumentRootClickListener:function(){$q(window.document).on("click",this.handleDocumentRootClick,this)},initWidgetRootClickListener:function(){$q(this.widgetConfig.container).on("click",this.handleWidgetRootClick,this)},confirmSuccessfulInit:function(){$q.debug("Lightbox Widget for content container",this.baseLibInstance.getContent(),"successfully initialized")},handleDocumentRootClick:function(ev){if($q(".qx-blocker").getStyle("display")==="block"&&($q.isNode($q(ev.getTarget()).find(".content-card"))||
$q.isNode($q(ev.getTarget()).find(".card"))||$q(ev.getTarget()).hasClass("qx-blocker")))if(!$q(".qx-lightbox-container").find(".content-card").hasClass("prevent-closing")||!$q(".qx-lightbox-container").find(".card").hasClass("prevent-closing"))this.hide()},handleWidgetRootClick:function(ev){var targetButton=$q(ev.getTarget()).getClosest(".action-item");var actionTrigger=$q(ev.getTarget()).getClosest(".action-trigger");if(!targetButton.length)targetButton=$q(ev.getTarget()).getClosest("a");if(targetButton.getData("lightbox-action")===
"close"||actionTrigger.hasClass("close")){ev.preventDefault();this.hide()}},addMarkup:function(selector,markup){if($q.isNode(this.baseLibInstance.getContent())){this.baseLibInstance.getContent().find(selector).empty();this.baseLibInstance.getContent().find(selector).append(markup)}},getMarkup:function(){return this.baseLibInstance.getContent()},preventScrolling:function(){if(!$q(document.body).hasClass("responsive-large")){if(!this.documentScrollTop)this.documentScrollTop=(window.pageYOffset||document.documentElement.scrollTop)-
(document.documentElement.clientTop||0);$q(document.body).addClass("no-scroll")}else{$q(document.body).removeClass("no-scroll");if(this.documentScrollTop){$q.setDocumentScrollTop(this.documentScrollTop);this.documentScrollTop=null}}},show:function(){if(this.baseLibInstance!==null){this.baseLibInstance.show();this.repositionLightbox();this.baseLibInstance.getContent().addClass("micro-effect")}},closeLightboxInstance:function(){var refreshLocation;var pageIntegrationContainer=$q(this.baseLibInstance._container[0]).find("iframe.page-integration");
if($q.isNode(pageIntegrationContainer)){refreshLocation=pageIntegrationContainer[0].dataset.refreshLocation;if(refreshLocation!==undefined)if(refreshLocation&&refreshLocation!=="")if(window.location.pathname.substring(1)===refreshLocation)window.location.reload();else window.location.href=refreshLocation}this.baseLibInstance.close();$q(this.baseLibInstance._container[0]).removeClass("responsive-small-mode")},hide:function(){if(this.baseLibInstance!==null&&$q(this.baseLibInstance._container[0]).getStyle("display")!==
"none"){$q(document.body).removeClass("no-scroll");if(this.documentScrollTop){$q.setDocumentScrollTop(this.documentScrollTop);this.documentScrollTop=null}this.baseLibInstance.getContent().removeClass("micro-effect");$q(".qx-blocker").setStyle("opacity","0");if($q.wait!==undefined)$q.wait(400).then(function(){this.closeLightboxInstance()}.bind(this));else{$q.debug("Jasmin module qx-wait missing for overlay fading out when closing.");this.closeLightboxInstance()}}}}});
$q.define("UNOUNO.components.LightboxWidgetConvention",{statics:{overlayInstanceCollection:[],init:function(){this.initOverlayBehavior()},initOverlayBehavior:function(){this.handleStaticSheetOverlays();this.initOpenerConventions();this.connectOpenerWithOverlayInstances()},handleStaticSheetOverlays:function(){var staticSheetOverlayCandidates=$q("*[data-static-overlay-id]");var overlayBlocker=$q(".overlay-blocker");var staticOverlayContainer;var i;if(staticSheetOverlayCandidates.length){if(!$q.isNode(overlayBlocker))overlayBlocker=
$q.create('\x3cdiv class\x3d"overlay-blocker hidden"\x3e\x3c/div\x3e').appendTo(document.body);for(i=0;i<staticSheetOverlayCandidates.length;i+=1){$q.debug("Handling static sheet overlay candidate ",staticSheetOverlayCandidates[i]);$q(staticSheetOverlayCandidates[i]).removeClass("hidden");$q.create('\x3cdiv class\x3d"static-overlay-container hidden" data-static-overlay-container-id\x3d"'+staticSheetOverlayCandidates[i].getAttribute("data-static-overlay-id")+'"\x3e\x3c/div\x3e').appendTo(document.body).append(staticSheetOverlayCandidates[i])}}},
initOpenerConventions:function(){$q(window.document).on("click",this.checkForStaticOverlayConventions,this)},checkForStaticOverlayConventions:function(ev){var clickTarget=$q(ev.getTarget());var interactiveClickTarget=clickTarget.getClosest("a");if(UNOUNO.components.Cards.whichMouseButton(ev)==="LEFT"){if($q.isNode(interactiveClickTarget)&&interactiveClickTarget.hasClass("open-overlay")&&interactiveClickTarget.getAttribute("rel")){if(!interactiveClickTarget.getAttribute("data-default-behavior"))ev.preventDefault();
this.openStaticOverlayById(interactiveClickTarget.getAttribute("rel"))}if(clickTarget.hasClass("static-overlay-container")){if($q(".static-overlay-container.active").find(".content-sheet").hasClass("closable"))this.closeStaticOverlay()}else if(interactiveClickTarget.hasClass("action-trigger")){ev.preventDefault();if(interactiveClickTarget.hasClass("close"))this.closeStaticOverlay()}}},openStaticOverlayById:function(overlayId){var staticOverlayContainer$$0=$q('*[data-static-overlay-container-id \x3d "'+
overlayId+'"]');var overlayBlocker$$0=$q(".overlay-blocker");if($q.isNode(staticOverlayContainer$$0)){overlayBlocker$$0.removeClass("hidden");staticOverlayContainer$$0.removeClass("hidden");(function(overlayBlocker,staticOverlayContainer){setTimeout(function(){overlayBlocker.addClass("active");staticOverlayContainer.addClass("active");staticOverlayContainer.find(".content-sheet").addClass("micro-effect")},10)})(overlayBlocker$$0,staticOverlayContainer$$0)}else $q.warn("No matching static overlay target for id  ",
overlayId)},closeStaticOverlay:function(){var overlayBlocker=$q(".overlay-blocker");var staticOverlayContainer=$q(".static-overlay-container.active");overlayBlocker.removeClass("active").addClass("hidden");staticOverlayContainer.removeClass("active").addClass("hidden");staticOverlayContainer.find(".content-sheet").removeClass("micro-effect")},initOnContainer:function(){$q("#container").on("click",this.handleRootClick,this)},handleRootClick:function(event){var target=$q(event.getTarget());if(!target.hasClass("open-overlay"))return;
this.connectOpener(target,this.openOverlay,event)},preventOverlayClosingBehaviour:function(overlayTarget){var overlayContainer=$q('*[data-overlay-id \x3d "'+overlayTarget+'"]');if($q.isNode(overlayContainer))overlayContainer.addClass("prevent-closing");else $q.error("Overlay target ",overlayTarget," can't be found (overlay not opened?)")},allowOverlayClosingBehaviour:function(overlayTarget){var overlayContainer=$q('*[data-overlay-id \x3d "'+overlayTarget+'"]');if($q.isNode(overlayContainer))overlayContainer.removeClass("prevent-closing");
else $q.error("Overlay target ",overlayTarget," can't be found (overlay not opened?)")},connectOpenerWithOverlayInstances:function(){var overlayOpenerCollection=$q(".open-overlay");overlayOpenerCollection.forEach(function(item,i){var target=$q(item);this.connectOpener(target,UNOUNO.components.LightboxWidgetConvention.addClickListenerForOverlayOpenerBehavior);if($q(target).getAttribute("rel")&&$q.isNode($q('*[data-overlay-id \x3d "'+$q(target).getAttribute("rel")+'"]'))){$q.debug("Deprecated static overlay implementation found for target ",
$q(target).getAttribute("rel"));$q.debug("Please consult http://ciso-tools.1and1.com/styleguide-overlays for details.")}}.bind(this))},connectOpener:function(item,callback,event){var overlayOpener=$q(item);var overlayTarget=overlayOpener.getAttribute("rel");var overlayItem;var overlayContainer;if(!(callback&&typeof callback==="function"))$q.debug("Callback for lightbox widget may not be a function or is undefined.");if(overlayTarget){for(overlayItem in this.overlayInstanceCollection)if(this.overlayInstanceCollection.hasOwnProperty(overlayItem))if(this.overlayInstanceCollection[overlayItem].overlayId===
overlayTarget){callback.apply(undefined,[overlayOpener,this.overlayInstanceCollection[overlayItem].overlayWidgetInstance],event);break}overlayContainer=$q('*[data-overlay-id \x3d "'+overlayTarget+'"]');if($q.isNode(overlayContainer)){this.overlayInstanceCollection.push({overlayId:overlayTarget,overlayWidgetInstance:new UNOUNO.components.LightboxWidget({container:overlayContainer,config:{showSpeed:400,width:840,height:640}})});callback.apply(undefined,[overlayOpener,this.overlayInstanceCollection[this.overlayInstanceCollection.length-
1].overlayWidgetInstance],event)}}else $q.error("Overlay opener ",overlayOpener," has no reference to an overlay container")},openOverlay:function(overlayOpener,overlayInstance,ev){if(overlayInstance)overlayInstance.show();var defaultBehavior=overlayOpener.getAttribute("data-default-behavior");if(!defaultBehavior){if(ev)ev.preventDefault();overlayInstance.preventScrolling()}},addClickListenerForOverlayOpenerBehavior:function(overlayOpener,overlayInstance$$0){overlayOpener.on("click",function(overlayInstance,
ev){overlayInstance.show();var defaultBehavior=overlayOpener.getAttribute("data-default-behavior");if(!defaultBehavior&&ev)ev.preventDefault()}.bind(this,overlayInstance$$0))}}});!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.CodeMirror=t()}(this,function(){function L(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function M(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function N(e,t){return M(e).appendChild(t)}function O(e,t,r,n){var i=document.createElement(e);if(r&&(i.className=r),n&&(i.style.cssText=n),"string"==typeof t)i.appendChild(document.createTextNode(t));
else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function A(e,t,r,n){var i=O(e,t,r,n);return i.setAttribute("role","presentation"),i}function W(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do if(11==t.nodeType&&(t=t.host),t==e)return!0;while(t=t.parentNode)}function D(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function H(e,t){var r=e.className;
L(t).test(r)||(e.className+=(r?" ":"")+t)}function F(e,t){var r=e.split(" ");for(var n=0;n<r.length;n++)r[n]&&!L(r[n]).test(t)&&(t+=" "+r[n]);return t}function E(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function z(e,t,r){for(var n in t||(t={}),e)!e.hasOwnProperty(n)||!1===r&&t.hasOwnProperty(n)||(t[n]=e[n]);return t}function I(e,t,r,n,i){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);var o=n||0;for(var l=i||0;;){var s=e.indexOf("\t",o);if(s<
0||s>=t)return l+(t-o);l+=s-o,l+=r-l%r,o=s+1}}function B(e,t){for(var r=0;r<e.length;++r)if(e[r]==t)return r;return-1}function X(e,t,r){var n=0;for(var i=0;;){var o=e.indexOf("\t",n);-1==o&&(o=e.length);var l=o-n;if(o==e.length||i+l>=t)return n+Math.min(l,t-i);if(i+=o-n,n=o+1,(i+=r-i%r)>=t)return n}}function _(e){for(;Y.length<=e;)Y.push(q(Y)+" ");return Y[e]}function q(e){return e[e.length-1]}function $(e,t){var r=[];for(var n=0;n<e.length;n++)r[n]=t(e[n],n);return r}function Z(){}function Q(e,t){var r;
return Object.create?r=Object.create(e):(Z.prototype=e,r=new Z),t&&z(t,r),r}function ee(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||J.test(e))}function te(e,t){return t?!!(t.source.indexOf("\\w")>-1&&ee(e))||t.test(e):ee(e)}function re(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function ie(e){return e.charCodeAt(0)>=768&&ne.test(e)}function oe(e,t,r){for(;(r<0?t>0:t<e.length)&&ie(e.charAt(t));)t+=r;return t}function le(e,t,r){for(var n=t>r?-1:1;;){if(t==
r)return t;var i=(t+r)/2;var o=n<0?Math.ceil(i):Math.floor(i);if(o==t)return e(o)?t:r;e(o)?r=o:t=o+n}}function se(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var r=e;!r.lines;)for(var n=0;;++n){var i=r.children[n];var o=i.chunkSize();if(t<o){r=i;break}t-=o}return r.lines[t]}function ae(e$$0,t,r){var n=[];var i=t.line;return e$$0.iter(t.line,r.line+1,function(e){var o=e.text;i==r.line&&(o=o.slice(0,r.ch)),i==t.line&&(o=o.slice(t.ch)),n.push(o),
++i}),n}function ue(e$$0,t,r){var n=[];return e$$0.iter(t,r,function(e){n.push(e.text)}),n}function ce(e,t){var r=t-e.height;if(r)for(var n=e;n;n=n.parent)n.height+=r}function he(e){if(null==e.parent)return null;var t=e.parent;var r=B(t.lines,e);for(var n=t.parent;n;t=n,n=n.parent)for(var i=0;n.children[i]!=t;++i)r+=n.children[i].chunkSize();return r+t.first}function fe(e,t){var r=e.first;e:do{for(var n=0;n<e.children.length;++n){var i=e.children[n];var o=i.height;if(t<o){e=i;continue e}t-=o,r+=i.chunkSize()}return r}while(!e.lines);
for(var l=0;l<e.lines.length;++l){var s=e.lines[l].height;if(t<s)break;t-=s}return r+l}function de(e,t){return t>=e.first&&t<e.first+e.size}function pe(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function ge(e,t,r){if(void 0===r&&(r=null),!(this instanceof ge))return new ge(e,t,r);this.line=e,this.ch=t,this.sticky=r}function ve(e,t){return e.line-t.line||e.ch-t.ch}function me(e,t){return e.sticky==t.sticky&&0==ve(e,t)}function ye(e){return ge(e.line,e.ch)}function be(e,t){return ve(e,
t)<0?t:e}function we(e,t){return ve(e,t)<0?e:t}function xe(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function Ce(e,t){if(t.line<e.first)return ge(e.first,0);var r;var n;var i;var o=e.first+e.size-1;return t.line>o?ge(o,se(e,o).text.length):(r=t,n=se(e,t.line).text.length,null==(i=r.ch)||i>n?ge(r.line,n):i<0?ge(r.line,0):r)}function Se(e,t){var r=[];for(var n=0;n<t.length;n++)r[n]=Ce(e,t[n]);return r}function Te(e,t,r){this.marker=e,this.from=t,this.to=r}function Me(e,t){if(e)for(var r=
0;r<e.length;++r){var n=e[r];if(n.marker==t)return n}}function Ne(e,t){var r;for(var n=0;n<e.length;++n)e[n]!=t&&(r||(r=[])).push(e[n]);return r}function Oe(e$$0,t$$0){if(t$$0.full)return null;var r$$0=de(e$$0,t$$0.from.line)&&se(e$$0,t$$0.from.line).markedSpans;var n$$0=de(e$$0,t$$0.to.line)&&se(e$$0,t$$0.to.line).markedSpans;if(!r$$0&&!n$$0)return null;var i$$0=t$$0.from.ch;var o$$0=t$$0.to.ch;var l$$0=0==ve(t$$0.from,t$$0.to);var s$$0=function(e,t,r){var n;if(e)for(var i=0;i<e.length;++i){var o=
e[i];var l=o.marker;if(null==o.from||(l.inclusiveLeft?o.from<=t:o.from<t)||o.from==t&&"bookmark"==l.type&&(!r||!o.marker.insertLeft)){var s=null==o.to||(l.inclusiveRight?o.to>=t:o.to>t);(n||(n=[])).push(new Te(l,o.from,s?null:o.to))}}return n}(r$$0,i$$0,l$$0);var a=function(e,t,r){var n;if(e)for(var i=0;i<e.length;++i){var o=e[i];var l=o.marker;if(null==o.to||(l.inclusiveRight?o.to>=t:o.to>t)||o.from==t&&"bookmark"==l.type&&(!r||o.marker.insertLeft)){var s=null==o.from||(l.inclusiveLeft?o.from<=t:
o.from<t);(n||(n=[])).push(new Te(l,s?null:o.from-t,null==o.to?null:o.to-t))}}return n}(n$$0,o$$0,l$$0);var u=1==t$$0.text.length;var c=q(t$$0.text).length+(u?i$$0:0);if(s$$0)for(var h=0;h<s$$0.length;++h){var f=s$$0[h];if(null==f.to){var d=Me(a,f.marker);d?u&&(f.to=null==d.to?null:d.to+c):f.to=i$$0}}if(a)for(var p=0;p<a.length;++p){var g=a[p];if(null!=g.to&&(g.to+=c),null==g.from)Me(s$$0,g.marker)||(g.from=c,u&&(s$$0||(s$$0=[])).push(g));else g.from+=c,u&&(s$$0||(s$$0=[])).push(g)}s$$0&&(s$$0=Ae(s$$0)),
a&&a!=s$$0&&(a=Ae(a));var v=[s$$0];if(!u){var m;var y=t$$0.text.length-2;if(y>0&&s$$0)for(var b=0;b<s$$0.length;++b)null==s$$0[b].to&&(m||(m=[])).push(new Te(s$$0[b].marker,null,null));for(var w=0;w<y;++w)v.push(m);v.push(a)}return v}function Ae(e){for(var t=0;t<e.length;++t){var r=e[t];null!=r.from&&r.from==r.to&&!1!==r.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function We(e){var t=e.markedSpans;if(t){for(var r=0;r<t.length;++r)t[r].marker.detachLine(e);e.markedSpans=null}}function De(e,
t){if(t){for(var r=0;r<t.length;++r)t[r].marker.attachLine(e);e.markedSpans=t}}function He(e){return e.inclusiveLeft?-1:0}function Fe(e){return e.inclusiveRight?1:0}function Pe(e,t){var r=e.lines.length-t.lines.length;if(0!=r)return r;var n=e.find();var i=t.find();var o=ve(n.from,i.from)||He(e)-He(t);if(o)return-o;var l=ve(n.to,i.to)||Fe(e)-Fe(t);return l||t.id-e.id}function Ee(e,t){var r;var n=ke&&e.markedSpans;if(n){var i=void 0;for(var o=0;o<n.length;++o)(i=n[o]).marker.collapsed&&null==(t?i.from:
i.to)&&(!r||Pe(r,i.marker)<0)&&(r=i.marker)}return r}function ze(e){return Ee(e,!0)}function Ie(e){return Ee(e,!1)}function Re(e,t,r,n,i){var o=se(e,t);var l=ke&&o.markedSpans;if(l)for(var s=0;s<l.length;++s){var a=l[s];if(a.marker.collapsed){var u=a.marker.find(0);var c=ve(u.from,r)||He(a.marker)-He(i);var h=ve(u.to,n)||Fe(a.marker)-Fe(i);if(!(c>=0&&h<=0||c<=0&&h>=0)&&(c<=0&&(a.marker.inclusiveRight&&i.inclusiveLeft?ve(u.to,r)>=0:ve(u.to,r)>0)||c>=0&&(a.marker.inclusiveRight&&i.inclusiveLeft?ve(u.from,
n)<=0:ve(u.from,n)<0)))return!0}}}function Be(e){for(var t;t=ze(e);)e=t.find(-1,!0).line;return e}function Ge(e,t){var r=se(e,t);var n=Be(r);return r==n?t:he(n)}function Ue(e,t){if(t>e.lastLine())return t;var r;var n=se(e,t);if(!Ve(e,n))return t;for(;r=Ie(n);)n=r.find(1,!0).line;return he(n)+1}function Ve(e,t){var r=ke&&t.markedSpans;if(r){var n=void 0;for(var i=0;i<r.length;++i)if((n=r[i]).marker.collapsed){if(null==n.from)return!0;if(!n.marker.widgetNode&&0==n.from&&n.marker.inclusiveLeft&&Ke(e,
t,n))return!0}}}function Ke(e,t,r){if(null==r.to){var n=r.marker.find(1,!0);return Ke(e,n.line,Me(n.line.markedSpans,r.marker))}if(r.marker.inclusiveRight&&r.to==t.text.length)return!0;var i=void 0;for(var o=0;o<t.markedSpans.length;++o)if((i=t.markedSpans[o]).marker.collapsed&&!i.marker.widgetNode&&i.from==r.to&&(null==i.to||i.to!=r.from)&&(i.marker.inclusiveLeft||r.marker.inclusiveRight)&&Ke(e,t,i))return!0}function je(e){var t=0;var r=(e=Be(e)).parent;for(var n=0;n<r.lines.length;++n){var i=r.lines[n];
if(i==e)break;t+=i.height}for(var o=r.parent;o;o=(r=o).parent)for(var l=0;l<o.children.length;++l){var s=o.children[l];if(s==r)break;t+=s.height}return t}function Xe(e){if(0==e.height)return 0;var t;var r=e.text.length;for(var n=e;t=ze(n);){var i=t.find(0,!0);n=i.from.line,r+=i.from.ch-i.to.ch}for(n=e;t=Ie(n);){var o=t.find(0,!0);r-=n.text.length-o.from.ch,r+=(n=o.to.line).text.length-o.to.ch}return r}function Ye(e$$0){var t=e$$0.display;var r$$0=e$$0.doc;t.maxLine=se(r$$0,r$$0.first),t.maxLineLength=
Xe(t.maxLine),t.maxLineChanged=!0,r$$0.iter(function(e){var r=Xe(e);r>t.maxLineLength&&(t.maxLineLength=r,t.maxLine=e)})}function qe(e,t,r){var n;_e=null;for(var i=0;i<e.length;++i){var o=e[i];if(o.from<t&&o.to>t)return i;o.to==t&&(o.from!=o.to&&"before"==r?n=i:_e=i),o.from==t&&(o.from!=o.to&&"before"!=r?n=i:_e=i)}return null!=n?n:_e}function Ze(e,t){var r=e.order;return null==r&&(r=e.order=$e(e.text,t)),r}function et(e,t){return e._handlers&&e._handlers[t]||Qe}function tt(e,t,r){if(e.removeEventListener)e.removeEventListener(t,
r,!1);else if(e.detachEvent)e.detachEvent("on"+t,r);else{var n=e._handlers;var i=n&&n[t];if(i){var o=B(i,r);o>-1&&(n[t]=i.slice(0,o).concat(i.slice(o+1)))}}}function rt(e,t){var r=et(e,t);if(r.length){var n=Array.prototype.slice.call(arguments,2);for(var i=0;i<r.length;++i)r[i].apply(null,n)}}function nt(e,t,r){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),rt(e,r||t.type,e,t),ut(t)||t.codemirrorIgnore}function it(e){var t=e._handlers&&e._handlers.cursorActivity;
if(t){var r=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]);for(var n=0;n<t.length;++n)-1==B(r,t[n])&&r.push(t[n])}}function ot(e,t){return et(e,t).length>0}function lt(e$$0){e$$0.prototype.on=function(e,t){Je(this,e,t)},e$$0.prototype.off=function(e,t){tt(this,e,t)}}function st(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function at(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function ut(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}
function ct(e){st(e),at(e)}function ht(e){return e.target||e.srcElement}function ft(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),y&&e.ctrlKey&&1==t&&(t=3),t}function vt(e){if(null==dt){var t=O("span","");N(e,O("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(dt=t.offsetWidth<=1&&t.offsetHeight>2&&!(l$$3&&s$$2<8))}var r=dt?O("span",""):O("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return r.setAttribute("cm-text",
""),r}function mt(e){if(null!=pt)return pt;var t=N(e,document.createTextNode("AA"));var r=k(t,0,1).getBoundingClientRect();var n=k(t,1,2).getBoundingClientRect();return M(e),!(!r||r.left==r.right)&&(pt=n.right-r.right<3)}function kt(e){if("string"==typeof e&&Lt.hasOwnProperty(e))e=Lt[e];else if(e&&"string"==typeof e.name&&Lt.hasOwnProperty(e.name)){var t=Lt[e.name];"string"==typeof t&&(t={name:t}),(e=Q(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return kt("application/xml");
if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return kt("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function Tt(e,t){t=kt(t);var r=St[t.name];if(!r)return Tt(e,"text/plain");var n=r(e,t);if(Mt.hasOwnProperty(t.name)){var i=Mt[t.name];for(var o in i)i.hasOwnProperty(o)&&(n.hasOwnProperty(o)&&(n["_"+o]=n[o]),n[o]=i[o])}if(n.name=t.name,t.helperType&&(n.helperType=t.helperType),t.modeProps)for(var l in t.modeProps)n[l]=t.modeProps[l];return n}function Nt(e,t){z(t,
Mt.hasOwnProperty(e)?Mt[e]:Mt[e]={})}function Ot(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var r={};for(var n in t){var i=t[n];i instanceof Array&&(i=i.concat([])),r[n]=i}return r}function At(e,t){for(var r;e.innerMode&&(r=e.innerMode(t))&&r.mode!=e;)t=r.state,e=r.mode;return r||{mode:e,state:t}}function Wt(e,t,r){return!e.startState||e.startState(t,r)}function Pt(e$$0,t$$0,r$$0,n$$1){var i=[e$$0.state.modeGen];var o$$0={};Kt(e$$0,t$$0.text,e$$0.doc.mode,r$$0,function(e,t){return i.push(e,
t)},o$$0,n$$1);var l=r$$0.state;var s$$0=function(n$$0){r$$0.baseTokens=i;var s=e$$0.state.overlays[n$$0];var a=1;var u=0;r$$0.state=!0,Kt(e$$0,t$$0.text,s.mode,r$$0,function(e,t){for(var r=a;u<e;){var n=i[a];n>e&&i.splice(a,1,e,i[a+1],n),a+=2,u=Math.min(e,n)}if(t)if(s.opaque)i.splice(r,a-r,e,"overlay "+t),a=r+2;else for(;r<a;r+=2){var o=i[r+1];i[r+1]=(o?o+" ":"")+"overlay "+t}},o$$0),r$$0.state=l,r$$0.baseTokens=null,r$$0.baseTokenPos=1};for(var a$$0=0;a$$0<e$$0.state.overlays.length;++a$$0)s$$0(a$$0);
return{styles:i,classes:o$$0.bgClass||o$$0.textClass?o$$0:null}}function Et(e,t,r){if(!t.styles||t.styles[0]!=e.state.modeGen){var n=zt(e,he(t));var i=t.text.length>e.options.maxHighlightLength&&Ot(e.doc.mode,n.state);var o=Pt(e,t,n);i&&(n.state=i),t.stateAfter=n.save(!i),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),r===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function zt(e$$0,
t$$0,r$$0){var n$$0=e$$0.doc;var i$$0=e$$0.display;if(!n$$0.mode.startState)return new Ft(n$$0,!0,t$$0);var o$$0=function(e,t,r){var n;var i;var o=e.doc;var l=r?-1:t-(e.doc.mode.innerMode?1E3:100);for(var s=t;s>l;--s){if(s<=o.first)return o.first;var a=se(o,s-1);var u=a.stateAfter;if(u&&(!r||s+(u instanceof Ht?u.lookAhead:0)<=o.modeFrontier))return s;var c=I(a.text,null,e.options.tabSize);(null==i||n>c)&&(i=s-1,n=c)}return i}(e$$0,t$$0,r$$0);var l$$0=o$$0>n$$0.first&&se(n$$0,o$$0-1).stateAfter;var s$$0=
l$$0?Ft.fromSaved(n$$0,l$$0,o$$0):new Ft(n$$0,Wt(n$$0.mode),o$$0);return n$$0.iter(o$$0,t$$0,function(r){It(e$$0,r.text,s$$0);var n=s$$0.line;r.stateAfter=n==t$$0-1||n%5==0||n>=i$$0.viewFrom&&n<i$$0.viewTo?s$$0.save():null,s$$0.nextLine()}),r$$0&&(n$$0.modeFrontier=s$$0.line),s$$0}function It(e,t,r,n){var i=e.doc.mode;var o=new Dt(t,e.options.tabSize,r);for(o.start=o.pos=n||0,""==t&&Rt(i,r.state);!o.eol();)Bt(i,o,r.state),o.start=o.pos}function Rt(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var r=
At(e,t);return r.mode.blankLine?r.mode.blankLine(r.state):void 0}}function Bt(e,t,r,n){for(var i=0;i<10;i++){n&&(n[0]=At(e,r).mode);var o=e.token(t,r);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.");}function Ut(e,t,r,n){var i;var o;var l=e.doc;var s=l.mode;var a=se(l,(t=Ce(l,t)).line);var u=zt(e,t.line,r);var c=new Dt(a.text,e.options.tabSize,u);for(n&&(o=[]);(n||c.pos<t.ch)&&!c.eol();)c.start=c.pos,i=Bt(s,c,u.state),n&&o.push(new Gt(c,i,Ot(l.mode,u.state)));
return n?o:new Gt(c,i,u.state)}function Vt(e,t){if(e)for(;;){var r=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!r)break;e=e.slice(0,r.index)+e.slice(r.index+r[0].length);var n=r[1]?"bgClass":"textClass";null==t[n]?t[n]=r[2]:(new RegExp("(?:^|s)"+r[2]+"(?:$|s)")).test(t[n])||(t[n]+=" "+r[2])}return e}function Kt(e,t,r,n,i,o,l){var s=r.flattenSpans;null==s&&(s=e.options.flattenSpans);var a;var u=0;var c=null;var h=new Dt(t,e.options.tabSize,n);var f=e.options.addModeClass&&[null];for(""==t&&Vt(Rt(r,
n.state),o);!h.eol();){if(h.pos>e.options.maxHighlightLength?(s=!1,l&&It(e,t,n,h.pos),h.pos=t.length,a=null):a=Vt(Bt(r,h,n.state,f),o),f){var d=f[0].name;d&&(a="m-"+(a?d+" "+a:d))}if(!s||c!=a){for(;u<h.start;)i(u=Math.min(h.start,u+5E3),c);c=a}h.start=h.pos}for(;u<h.pos;){var p=Math.min(h.pos,u+5E3);i(p,c),u=p}}function _t(e,t){if(!e||/^\s*$/.test(e))return null;var r=t.addModeClass?Yt:Xt;return r[e]||(r[e]=e.replace(/\S+/g,"cm-$\x26"))}function qt(e,t){var r=A("span",null,null,a$$3?"padding-right: .1px":
null);var n={pre:A("pre",[r],"CodeMirror-line"),content:r,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:(l$$3||a$$3)&&e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var o=i?t.rest[i-1]:t.line;var s=void 0;n.pos=0,n.addToken=Zt,mt(e.display.measure)&&(s=Ze(o,e.doc.direction))&&(n.addToken=Qt(n.addToken,s)),n.map=[],er(o,n,Et(e,o,t!=e.display.externalMeasured&&he(o))),o.styleClasses&&(o.styleClasses.bgClass&&(n.bgClass=F(o.styleClasses.bgClass,n.bgClass||"")),
o.styleClasses.textClass&&(n.textClass=F(o.styleClasses.textClass,n.textClass||""))),0==n.map.length&&n.map.push(0,0,n.content.appendChild(vt(e.display.measure))),0==i?(t.measure.map=n.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(n.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(a$$3){var u=n.content.lastChild;(/\bcm-tab\b/.test(u.className)||u.querySelector&&u.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")}return rt(e,"renderLine",e,t.line,
n.pre),n.pre.className&&(n.textClass=F(n.pre.className,n.textClass||"")),n}function $t(e){var t=O("span","","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function Zt(e$$0,t$$0,r$$0,n$$0,i$$0,o$$0,a){if(t$$0){var u;var c=e$$0.splitSpaces?function(e,t){if(e.length>1&&!/  /.test(e))return e;var r=t;var n="";for(var i=0;i<e.length;i++){var o=e.charAt(i);" "!=o||!r||i!=e.length-1&&32!=e.charCodeAt(i+1)||(o=" "),n+=o,r=" "==o}return n}(t$$0,
e$$0.trailingSpace):t$$0;var h=e$$0.cm.state.specialChars;var f=!1;if(h.test(t$$0)){u=document.createDocumentFragment();for(var d=0;;){h.lastIndex=d;var p=h.exec(t$$0);var g=p?p.index-d:t$$0.length-d;if(g){var v=document.createTextNode(c.slice(d,d+g));l$$3&&s$$2<9?u.appendChild(O("span",[v])):u.appendChild(v),e$$0.map.push(e$$0.pos,e$$0.pos+g,v),e$$0.col+=g,e$$0.pos+=g}if(!p)break;d+=g+1;var m=void 0;if("\t"==p[0]){var y=e$$0.cm.options.tabSize;var b=y-e$$0.col%y;(m=u.appendChild(O("span",_(b),"cm-tab"))).setAttribute("role",
"presentation"),m.setAttribute("cm-text","\t"),e$$0.col+=b}else"\r"==p[0]||"\n"==p[0]?((m=u.appendChild(O("span","\r"==p[0]?"":"","cm-invalidchar"))).setAttribute("cm-text",p[0]),e$$0.col+=1):((m=e$$0.cm.options.specialCharPlaceholder(p[0])).setAttribute("cm-text",p[0]),l$$3&&s$$2<9?u.appendChild(O("span",[m])):u.appendChild(m),e$$0.col+=1);e$$0.map.push(e$$0.pos,e$$0.pos+1,m),e$$0.pos++}}else e$$0.col+=t$$0.length,u=document.createTextNode(c),e$$0.map.push(e$$0.pos,e$$0.pos+t$$0.length,u),l$$3&&
s$$2<9&&(f=!0),e$$0.pos+=t$$0.length;if(e$$0.trailingSpace=32==c.charCodeAt(t$$0.length-1),r$$0||n$$0||i$$0||f||a){var w=r$$0||"";n$$0&&(w+=n$$0),i$$0&&(w+=i$$0);var x=O("span",[u],w,a);return o$$0&&(x.title=o$$0),e$$0.content.appendChild(x)}e$$0.content.appendChild(u)}}function Qt(e,t){return function(r,n,i,o,l,s,a){i=i?i+" cm-force-border":"cm-force-border";var u=r.pos;for(var c=u+n.length;;){var h=void 0;for(var f=0;f<t.length&&!((h=t[f]).to>u&&h.from<=u);f++);if(h.to>=c)return e(r,n,i,o,l,s,a);
e(r,n.slice(0,h.to-u),i,o,null,s,a),o=null,n=n.slice(h.to-u),u=h.to}}}function Jt(e,t,r,n){var i=!n&&r.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!n&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",r.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function er(e,t,r){var n=e.markedSpans;var i=e.text;var o=0;if(n){var l;var s;var a;var u;var c;var h;var f;var d=i.length;
var p=0;var g=1;var v="";for(var m=0;;){if(m==p){a=u=c=h=s="",f=null,m=1/0;var y=[];var b=void 0;for(var w=0;w<n.length;++w){var x=n[w];var C=x.marker;"bookmark"==C.type&&x.from==p&&C.widgetNode?y.push(C):x.from<=p&&(null==x.to||x.to>p||C.collapsed&&x.to==p&&x.from==p)?(null!=x.to&&x.to!=p&&m>x.to&&(m=x.to,u=""),C.className&&(a+=" "+C.className),C.css&&(s=(s?s+";":"")+C.css),C.startStyle&&x.from==p&&(c+=" "+C.startStyle),C.endStyle&&x.to==m&&(b||(b=[])).push(C.endStyle,x.to),C.title&&!h&&(h=C.title),
C.collapsed&&(!f||Pe(f.marker,C)<0)&&(f=x)):x.from>p&&m>x.from&&(m=x.from)}if(b)for(var S=0;S<b.length;S+=2)b[S+1]==m&&(u+=" "+b[S]);if(!f||f.from==p)for(var L=0;L<y.length;++L)Jt(t,0,y[L]);if(f&&(f.from||0)==p){if(Jt(t,(null==f.to?d+1:f.to)-p,f.marker,null==f.from),null==f.to)return;f.to==p&&(f=!1)}}if(p>=d)break;for(var k=Math.min(d,m);;){if(v){var T=p+v.length;if(!f){var M=T>k?v.slice(0,k-p):v;t.addToken(t,M,l?l+a:a,c,p+M.length==m?u:"",h,s)}if(T>=k){v=v.slice(k-p),p=k;break}p=T,c=""}v=i.slice(o,
o=r[g++]),l=_t(r[g++],t.cm.options)}}}else for(var N=1;N<r.length;N+=2)t.addToken(t,i.slice(o,o=r[N]),_t(r[N+1],t.cm.options))}function tr(e$$0,t$$0,r$$0){this.line=t$$0,this.rest=function(e){var t;for(var r;t=Ie(e);)e=t.find(1,!0).line,(r||(r=[])).push(e);return r}(t$$0),this.size=this.rest?he(q(this.rest))-r$$0+1:1,this.node=this.text=null,this.hidden=Ve(e$$0,t$$0)}function rr(e,t,r){var n;var i=[];for(var o=t;o<r;o=n){var l=new tr(e.doc,se(e.doc,o),o);n=o+l.size,i.push(l)}return i}function or(e$$0,
t){var r=et(e$$0,t);if(r.length){var n;var i=Array.prototype.slice.call(arguments,2);nr?n=nr.delayedCallbacks:ir?n=ir:(n=ir=[],setTimeout(lr,0));var o=function(e){n.push(function(){return r[e].apply(null,i)})};for(var l=0;l<r.length;++l)o(l)}}function lr(){var e=ir;ir=null;for(var t=0;t<e.length;++t)e[t]()}function sr(e,t,r,n){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?cr(e,t):"gutter"==o?fr(e,t,r,n):"class"==o?hr(e,t):"widget"==o&&dr(e,t,n)}t.changes=null}function ar(e){return e.node==
e.text&&(e.node=O("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),l$$3&&s$$2<8&&(e.node.style.zIndex=2)),e.node}function ur(e,t){var r=e.display.externalMeasured;return r&&r.line==t.line?(e.display.externalMeasured=null,t.measure=r.measure,r.built):qt(e,t)}function cr(e,t){var r=t.text.className;var n=ur(e,t);t.text==t.node&&(t.node=n.pre),t.text.parentNode.replaceChild(n.pre,t.text),t.text=n.pre,n.bgClass!=t.bgClass||
n.textClass!=t.textClass?(t.bgClass=n.bgClass,t.textClass=n.textClass,hr(e,t)):r&&(t.text.className=r)}function hr(e$$0,t$$0){!function(e,t){var r=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(r&&(r+=" CodeMirror-linebackground"),t.background)r?t.background.className=r:(t.background.parentNode.removeChild(t.background),t.background=null);else if(r){var n=ar(t);t.background=n.insertBefore(O("div",null,r),n.firstChild),e.display.input.setUneditable(t.background)}}(e$$0,t$$0),t$$0.line.wrapClass?
ar(t$$0).className=t$$0.line.wrapClass:t$$0.node!=t$$0.text&&(t$$0.node.className="");var r$$0=t$$0.textClass?t$$0.textClass+" "+(t$$0.line.textClass||""):t$$0.line.textClass;t$$0.text.className=r$$0||""}function fr(e,t,r,n){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var i=ar(t);t.gutterBackground=O("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?
n.fixedPos:-n.gutterTotalWidth)+"px; width: "+n.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),i.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){var l=ar(t);var s=t.gutter=O("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px");if(e.display.input.setUneditable(s),l.insertBefore(s,t.text),t.line.gutterClass&&(s.className+=" "+t.line.gutterClass),!e.options.lineNumbers||o&&
o["CodeMirror-linenumbers"]||(t.lineNumber=s.appendChild(O("div",pe(e.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var a=0;a<e.options.gutters.length;++a){var u=e.options.gutters[a];var c=o.hasOwnProperty(u)&&o[u];c&&s.appendChild(O("div",[c],"CodeMirror-gutter-elt","left: "+n.gutterLeft[u]+"px; width: "+n.gutterWidth[u]+"px"))}}}function dr(e,t,r){t.alignable&&(t.alignable=null);var n=
t.node.firstChild;for(var i=void 0;n;n=i)i=n.nextSibling,"CodeMirror-linewidget"==n.className&&t.node.removeChild(n);pr(e,t,r)}function pr(e,t,r){if(gr(e,t.line,t,r,!0),t.rest)for(var n=0;n<t.rest.length;n++)gr(e,t.rest[n],t,r,!1)}function gr(e,t,r,n,i){if(t.widgets){var o=ar(r);var l=0;for(var s=t.widgets;l<s.length;++l){var a=s[l];var u=O("div",[a.node],"CodeMirror-linewidget");a.handleMouseEvents||u.setAttribute("cm-ignore-events","true"),vr(a,u,r,n),e.display.input.setUneditable(u),i&&a.above?
o.insertBefore(u,r.gutter||r.text):o.appendChild(u),or(a,"redraw")}}}function vr(e,t,r,n){if(e.noHScroll){(r.alignable||(r.alignable=[])).push(t);var i=n.wrapperWidth;t.style.left=n.fixedPos+"px",e.coverGutter||(i-=n.gutterTotalWidth,t.style.paddingLeft=n.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-n.gutterTotalWidth+"px"))}function mr(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!W(document.body,
e.node)){var r="position: relative;";e.coverGutter&&(r+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(r+="width: "+t.display.wrapper.clientWidth+"px;"),N(t.display.measure,O("div",[e.node],null,r))}return e.height=e.node.parentNode.offsetHeight}function yr(e,t){for(var r=ht(t);r!=e.wrapper;r=r.parentNode)if(!r||1==r.nodeType&&"true"==r.getAttribute("cm-ignore-events")||r.parentNode==e.sizer&&r!=e.mover)return!0}function br(e){return e.lineSpace.offsetTop}function wr(e){return e.mover.offsetHeight-
e.lineSpace.offsetHeight}function xr(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=N(e.measure,O("pre","x"));var r=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle;var n={left:parseInt(r.paddingLeft),right:parseInt(r.paddingRight)};return isNaN(n.left)||isNaN(n.right)||(e.cachedPaddingH=n),n}function Cr(e){return G-e.display.nativeBarWidth}function Sr(e){return e.display.scroller.clientWidth-Cr(e)-e.display.barWidth}function Lr(e){return e.display.scroller.clientHeight-Cr(e)-
e.display.barHeight}function kr(e,t,r){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var n=0;n<e.rest.length;n++)if(e.rest[n]==t)return{map:e.measure.maps[n],cache:e.measure.caches[n]};for(var i=0;i<e.rest.length;i++)if(he(e.rest[i])>r)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function Tr(e,t,r,n){return Or(e,Nr(e,t),r,n)}function Mr(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[on(e,t)];var r=e.display.externalMeasured;return r&&
t>=r.lineN&&t<r.lineN+r.size?r:void 0}function Nr(e$$0,t$$0){var r$$0=he(t$$0);var n$$0=Mr(e$$0,r$$0);n$$0&&!n$$0.text?n$$0=null:n$$0&&n$$0.changes&&(sr(e$$0,n$$0,r$$0,Jr(e$$0)),e$$0.curOp.forceUpdate=!0),n$$0||(n$$0=function(e,t){var r=he(t=Be(t));var n=e.display.externalMeasured=new tr(e.doc,t,r);n.lineN=r;var i=n.built=qt(e,n);return n.text=i.pre,N(e.display.lineMeasure,i.pre),n}(e$$0,t$$0));var i$$0=kr(n$$0,t$$0,r$$0);return{line:t$$0,view:n$$0,rect:null,map:i$$0.map,cache:i$$0.cache,before:i$$0.before,
hasHeights:!1}}function Or(e$$2,t$$2,r$$2,n$$2,i$$0){t$$2.before&&(r$$2=-1);var o$$0;var a$$0=r$$2+(n$$2||"");return t$$2.cache.hasOwnProperty(a$$0)?o$$0=t$$2.cache[a$$0]:(t$$2.rect||(t$$2.rect=t$$2.view.text.getBoundingClientRect()),t$$2.hasHeights||(!function(e,t,r){var n=e.options.lineWrapping;var i=n&&Sr(e);if(!t.measure.heights||n&&t.measure.width!=i){var o=t.measure.heights=[];if(n){t.measure.width=i;var l=t.text.firstChild.getClientRects();for(var s=0;s<l.length-1;s++){var a=l[s];var u=l[s+
1];Math.abs(a.bottom-u.bottom)>2&&o.push((a.bottom+u.top)/2-r.top)}}o.push(r.bottom-r.top)}}(e$$2,t$$2.view,t$$2.rect),t$$2.hasHeights=!0),(o$$0=function(e$$1,t$$1,r$$1,n$$1){var i;var o=Dr(t$$1.map,r$$1,n$$1);var a=o.node;var u=o.start;var c=o.end;var h=o.collapse;if(3==a.nodeType){for(var f=0;f<4;f++){for(;u&&ie(t$$1.line.text.charAt(o.coverStart+u));)--u;for(;o.coverStart+c<o.coverEnd&&ie(t$$1.line.text.charAt(o.coverStart+c));)++c;if((i=l$$3&&s$$2<9&&0==u&&c==o.coverEnd-o.coverStart?a.parentNode.getBoundingClientRect():
Hr(k(a,u,c).getClientRects(),n$$1)).left||i.right||0==u)break;c=u,u-=1,h="right"}l$$3&&s$$2<11&&(i=function(e$$0,t$$0){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(e){if(null!=Ct)return Ct;var t=N(e,O("span","x"));var r=t.getBoundingClientRect();var n=k(t,0,1).getBoundingClientRect();return Ct=Math.abs(r.left-n.left)>1}(e$$0))return t$$0;var r$$0=screen.logicalXDPI/screen.deviceXDPI;var n$$0=screen.logicalYDPI/screen.deviceYDPI;return{left:t$$0.left*
r$$0,right:t$$0.right*r$$0,top:t$$0.top*n$$0,bottom:t$$0.bottom*n$$0}}(e$$1.display.measure,i))}else{var d;u>0&&(h=n$$1="right"),i=e$$1.options.lineWrapping&&(d=a.getClientRects()).length>1?d["right"==n$$1?d.length-1:0]:a.getBoundingClientRect()}if(l$$3&&s$$2<9&&!u&&(!i||!i.left&&!i.right)){var p=a.parentNode.getClientRects()[0];i=p?{left:p.left,right:p.left+Qr(e$$1.display),top:p.top,bottom:p.bottom}:Wr}var g=i.top-t$$1.rect.top;var v=i.bottom-t$$1.rect.top;var m=(g+v)/2;var y=t$$1.view.measure.heights;
for(var b=0;b<y.length-1&&!(m<y[b]);b++);var w=b?y[b-1]:0;var x=y[b];var C={left:("right"==h?i.right:i.left)-t$$1.rect.left,right:("left"==h?i.left:i.right)-t$$1.rect.left,top:w,bottom:x};i.left||i.right||(C.bogus=!0);e$$1.options.singleCursorHeightPerLine||(C.rtop=g,C.rbottom=v);return C}(e$$2,t$$2,r$$2,n$$2)).bogus||(t$$2.cache[a$$0]=o$$0)),{left:o$$0.left,right:o$$0.right,top:i$$0?o$$0.rtop:o$$0.top,bottom:i$$0?o$$0.rbottom:o$$0.bottom}}function Dr(e,t,r){var n;var i;var o;var l;var s;var a;for(var u=
0;u<e.length;u+=3)if(s=e[u],a=e[u+1],t<s?(i=0,o=1,l="left"):t<a?o=(i=t-s)+1:(u==e.length-3||t==a&&e[u+3]>t)&&(i=(o=a-s)-1,t>=a&&(l="right")),null!=i){if(n=e[u+2],s==a&&r==(n.insertLeft?"left":"right")&&(l=r),"left"==r&&0==i)for(;u&&e[u-2]==e[u-3]&&e[u-1].insertLeft;)n=e[2+(u-=3)],l="left";if("right"==r&&i==a-s)for(;u<e.length-3&&e[u+3]==e[u+4]&&!e[u+5].insertLeft;)n=e[(u+=3)+2],l="right";break}return{node:n,start:i,end:o,collapse:l,coverStart:s,coverEnd:a}}function Hr(e,t){var r=Wr;if("left"==t)for(var n=
0;n<e.length&&(r=e[n]).left==r.right;n++);else for(var i=e.length-1;i>=0&&(r=e[i]).left==r.right;i--);return r}function Fr(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function Pr(e){e.display.externalMeasure=null,M(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)Fr(e.display.view[t])}function Er(e){Pr(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||
(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function zr(){return c$$3&&v?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Ir(){return c$$3&&v?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Rr(e){var t=0;if(e.widgets)for(var r=
0;r<e.widgets.length;++r)e.widgets[r].above&&(t+=mr(e.widgets[r]));return t}function Br(e,t,r,n,i){if(!i){var o=Rr(t);r.top+=o,r.bottom+=o}if("line"==n)return r;n||(n="local");var l=je(t);if("local"==n?l+=br(e.display):l-=e.display.viewOffset,"page"==n||"window"==n){var s=e.display.lineSpace.getBoundingClientRect();l+=s.top+("window"==n?0:Ir());var a=s.left+("window"==n?0:zr());r.left+=a,r.right+=a}return r.top+=l,r.bottom+=l,r}function Gr(e,t,r){if("div"==r)return t;var n=t.left;var i=t.top;if("page"==
r)n-=zr(),i-=Ir();else if("local"==r||!r){var o=e.display.sizer.getBoundingClientRect();n+=o.left,i+=o.top}var l=e.display.lineSpace.getBoundingClientRect();return{left:n-l.left,top:i-l.top}}function Ur(e,t,r,n,i){return n||(n=se(e.doc,t.line)),Br(e,n,Tr(e,n,t.ch,i),r)}function Vr(e$$0,t$$0,r$$0,n,i,o){function l$$0(t,l){var s=Or(e$$0,i,t,l?"right":"left",o);return l?s.left=s.right:s.right=s.left,Br(e$$0,n,s,r$$0)}function c(e,t,r){return l$$0(r?e-1:e,1==s$$0[t].level!=r)}n=n||se(e$$0.doc,t$$0.line),
i||(i=Nr(e$$0,n));var s$$0=Ze(n,e$$0.doc.direction);var a=t$$0.ch;var u=t$$0.sticky;if(a>=n.text.length?(a=n.text.length,u="before"):a<=0&&(a=0,u="after"),!s$$0)return l$$0("before"==u?a-1:a,"before"==u);var h=qe(s$$0,a,u);var f=_e;var d=c(a,h,"before"==u);return null!=f&&(d.other=c(a,f,"before"!=u)),d}function Kr(e,t){var r=0;t=Ce(e.doc,t),e.options.lineWrapping||(r=Qr(e.display)*t.ch);var n=se(e.doc,t.line);var i=je(n)+br(e.display);return{left:r,right:r,top:i,bottom:i+n.height}}function jr(e,t,
r,n,i){var o=ge(e,t,r);return o.xRel=i,n&&(o.outside=!0),o}function Xr(e,t,r){var n=e.doc;if((r+=e.display.viewOffset)<0)return jr(n.first,0,null,!0,-1);var i=fe(n,r);var o=n.first+n.size-1;if(i>o)return jr(n.first+n.size-1,se(n,o).text.length,null,!0,1);t<0&&(t=0);for(var l=se(n,i);;){var s=$r(e,l,i,t,r);var a=Ie(l);var u=a&&a.find(0,!0);if(!a||!(s.ch>u.from.ch||s.ch==u.from.ch&&s.xRel>0))return s;i=he(l=u.to.line)}}function Yr(e,t$$0,r,n){n-=Rr(t$$0);var i=t$$0.text.length;var o=le(function(t){return Or(e,
r,t-1).bottom<=n},i,0);return{begin:o,end:i=le(function(t){return Or(e,r,t).top>n},o,i)}}function _r(e,t,r,n){return r||(r=Nr(e,t)),Yr(e,t,r,Br(e,t,Or(e,r,n),"line").top)}function qr(e,t,r,n){return!(e.bottom<=r)&&(e.top>r||(n?e.left:e.right)>t)}function $r(e$$0,t$$0,r$$0,n$$0,i$$0){i$$0-=je(t$$0);var o$$0=Nr(e$$0,t$$0);var l$$0=Rr(t$$0);var s$$1=0;var a$$1=t$$0.text.length;var u$$1=!0;var c$$0=Ze(t$$0,e$$0.doc.direction);if(c$$0){var h$$0=(e$$0.options.lineWrapping?function(e,t,r,n,i,o,l){var s=
Yr(e,t,n,l);var a=s.begin;var u=s.end;/\s/.test(t.text.charAt(u-1))&&u--;var c=null;var h=null;for(var f=0;f<i.length;f++){var d=i[f];if(!(d.from>=u||d.to<=a)){var p=1!=d.level;var g=Or(e,n,p?Math.min(u,d.to)-1:Math.max(a,d.from)).right;var v=g<o?o-g+1E9:g-o;(!c||h>v)&&(c=d,h=v)}}c||(c=i[i.length-1]);c.from<a&&(c={from:a,to:c.to,level:c.level});c.to>u&&(c={from:c.from,to:u,level:c.level});return c}:function(e,t,r,n,i,o,l){var s$$0=le(function(s){var a=i[s];var u=1!=a.level;return qr(Vr(e,ge(r,u?a.to:
a.from,u?"before":"after"),"line",t,n),o,l,!0)},0,i.length-1);var a$$0=i[s$$0];if(s$$0>0){var u$$0=1!=a$$0.level;var c=Vr(e,ge(r,u$$0?a$$0.from:a$$0.to,u$$0?"after":"before"),"line",t,n);qr(c,o,l,!0)&&c.top>l&&(a$$0=i[s$$0-1])}return a$$0})(e$$0,t$$0,r$$0,o$$0,c$$0,n$$0,i$$0);s$$1=(u$$1=1!=h$$0.level)?h$$0.from:h$$0.to-1,a$$1=u$$1?h$$0.to:h$$0.from-1}var f$$0;var d$$0;var p$$0=null;var g$$0=null;var v$$0=le(function(t){var r=Or(e$$0,o$$0,t);return r.top+=l$$0,r.bottom+=l$$0,!!qr(r,n$$0,i$$0,!1)&&
(r.top<=i$$0&&r.left<=n$$0&&(p$$0=t,g$$0=r),!0)},s$$1,a$$1);var m=!1;if(g$$0){var y=n$$0-g$$0.left<g$$0.right-n$$0;var b=y==u$$1;v$$0=p$$0+(b?0:1),d$$0=b?"after":"before",f$$0=y?g$$0.left:g$$0.right}else{u$$1||v$$0!=a$$1&&v$$0!=s$$1||v$$0++,d$$0=0==v$$0?"after":v$$0==t$$0.text.length?"before":Or(e$$0,o$$0,v$$0-(u$$1?1:0)).bottom+l$$0<=i$$0==u$$1?"after":"before";var w=Vr(e$$0,ge(r$$0,v$$0,d$$0),"line",t$$0,o$$0);f$$0=w.left,m=i$$0<w.top||i$$0>=w.bottom}return jr(r$$0,v$$0=oe(t$$0.text,v$$0,1),d$$0,
m,n$$0-f$$0)}function Zr(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Ar){Ar=O("pre");for(var t=0;t<49;++t)Ar.appendChild(document.createTextNode("x")),Ar.appendChild(O("br"));Ar.appendChild(document.createTextNode("x"))}N(e.measure,Ar);var r=Ar.offsetHeight/50;return r>3&&(e.cachedTextHeight=r),M(e.measure),r||1}function Qr(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=O("span","xxxxxxxxxx");var r=O("pre",[t]);N(e.measure,r);var n=t.getBoundingClientRect();var i=
(n.right-n.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}function Jr(e){var t=e.display;var r={};var n={};var i=t.gutters.clientLeft;var o=t.gutters.firstChild;for(var l=0;o;o=o.nextSibling,++l)r[e.options.gutters[l]]=o.offsetLeft+o.clientLeft+i,n[e.options.gutters[l]]=o.clientWidth;return{fixedPos:en(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:r,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}function en(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}
function tn(e){var t=Zr(e.display);var r=e.options.lineWrapping;var n=r&&Math.max(5,e.display.scroller.clientWidth/Qr(e.display)-3);return function(i){if(Ve(e.doc,i))return 0;var o=0;if(i.widgets)for(var l=0;l<i.widgets.length;l++)i.widgets[l].height&&(o+=i.widgets[l].height);return r?o+(Math.ceil(i.text.length/n)||1)*t:o+t}}function rn(e$$0){var t$$0=e$$0.doc;var r=tn(e$$0);t$$0.iter(function(e){var t=r(e);t!=e.height&&ce(e,t)})}function nn(e,t,r,n){var i=e.display;if(!r&&"true"==ht(t).getAttribute("cm-not-content"))return null;
var o;var l;var s=i.lineSpace.getBoundingClientRect();try{o=t.clientX-s.left,l=t.clientY-s.top}catch(t$$0){return null}var a;var u=Xr(e,o,l);if(n&&1==u.xRel&&(a=se(e.doc,u.line).text).length==u.ch){var c=I(a,a.length,e.options.tabSize)-a.length;u=ge(u.line,Math.max(0,Math.round((o-xr(e.display).left)/Qr(e.display))-c))}return u}function on(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;var r=e.display.view;for(var n=0;n<r.length;n++)if((t-=r[n].size)<0)return n}function ln(e){e.display.input.showSelection(e.display.input.prepareSelection())}
function sn(e,t){void 0===t&&(t=!0);var r=e.doc;var n={};var i=n.cursors=document.createDocumentFragment();var o=n.selection=document.createDocumentFragment();for(var l=0;l<r.sel.ranges.length;l++)if(t||l!=r.sel.primIndex){var s=r.sel.ranges[l];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var a=s.empty();(a||e.options.showCursorWhenSelecting)&&an(e,s.head,i),a||cn(e,s,o)}}return n}function an(e,t,r){var n=Vr(e,t,"div",null,null,!e.options.singleCursorHeightPerLine);var i=
r.appendChild(O("div"," ","CodeMirror-cursor"));if(i.style.left=n.left+"px",i.style.top=n.top+"px",i.style.height=Math.max(0,n.bottom-n.top)*e.options.cursorHeight+"px",n.other){var o=r.appendChild(O("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=n.other.left+"px",o.style.top=n.other.top+"px",o.style.height=.85*(n.other.bottom-n.other.top)+"px"}}function un(e,t){return e.top-t.top||e.left-t.left}function cn(e$$0,t$$1,r$$1){function c(e,t,r,n){t<0&&(t=0),
t=Math.round(t),n=Math.round(n),o$$1.appendChild(O("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==r?a-e:r)+"px;\n                             height: "+(n-t)+"px"))}function h$$1(t$$0,r$$0,n$$0){function d(r,n){return Ur(e$$0,ge(t$$0,r),"div",h$$0,n)}function p(t,r,n){var i=_r(e$$0,h$$0,null,t);var o="ltr"==r==("after"==n)?"left":"right";return d("after"==n?i.begin:i.end-(/\s/.test(h$$0.text.charAt(i.end-1))?2:1),o)[o]}
var o$$0;var l$$0;var h$$0=se(i$$0,t$$0);var f=h$$0.text.length;var g=Ze(h$$0,i$$0.direction);return function(e,t,r,n){if(!e)return n(t,r,"ltr",0);var i=!1;for(var o=0;o<e.length;++o){var l=e[o];(l.from<r&&l.to>t||t==r&&l.to==t)&&(n(Math.max(l.from,t),Math.min(l.to,r),1==l.level?"rtl":"ltr",o),i=!0)}i||n(t,r,"ltr")}(g,r$$0||0,null==n$$0?f:n$$0,function(e,t,i,h){var v="ltr"==i;var m=d(e,v?"left":"right");var y=d(t-1,v?"right":"left");var b=null==r$$0&&0==e;var w=null==n$$0&&t==f;var x=0==h;var C=!g||
h==g.length-1;if(y.top-m.top<=3){var S=(u?w:b)&&C;var L=(u?b:w)&&x?s:(v?m:y).left;var k=S?a:(v?y:m).right;c(L,m.top,k-L,m.bottom)}else{var T;var M;var N;var O;v?(T=u&&b&&x?s:m.left,M=u?a:p(e,i,"before"),N=u?s:p(t,i,"after"),O=u&&w&&C?a:y.right):(T=u?p(e,i,"before"):s,M=!u&&b&&x?a:m.right,N=!u&&w&&C?s:y.left,O=u?p(t,i,"after"):a),c(T,m.top,M-T,m.bottom),m.bottom<y.top&&c(s,m.bottom,null,y.top),c(N,y.top,O-N,y.bottom)}(!o$$0||un(m,o$$0)<0)&&(o$$0=m),un(y,o$$0)<0&&(o$$0=y),(!l$$0||un(m,l$$0)<0)&&(l$$0=
m),un(y,l$$0)<0&&(l$$0=y)}),{start:o$$0,end:l$$0}}var n$$1=e$$0.display;var i$$0=e$$0.doc;var o$$1=document.createDocumentFragment();var l$$1=xr(e$$0.display);var s=l$$1.left;var a=Math.max(n$$1.sizerWidth,Sr(e$$0)-n$$1.sizer.offsetLeft)-l$$1.right;var u="ltr"==i$$0.direction;var f$$0=t$$1.from();var d$$0=t$$1.to();if(f$$0.line==d$$0.line)h$$1(f$$0.line,f$$0.ch,d$$0.ch);else{var p$$0=se(i$$0,f$$0.line);var g$$0=se(i$$0,d$$0.line);var v$$0=Be(p$$0)==Be(g$$0);var m$$0=h$$1(f$$0.line,f$$0.ch,v$$0?p$$0.text.length+
1:null).end;var y$$0=h$$1(d$$0.line,v$$0?0:null,d$$0.ch).start;v$$0&&(m$$0.top<y$$0.top-2?(c(m$$0.right,m$$0.top,null,m$$0.bottom),c(s,y$$0.top,y$$0.left,y$$0.bottom)):c(m$$0.right,m$$0.top,y$$0.left-m$$0.right,m$$0.bottom)),m$$0.bottom<y$$0.top&&c(s,m$$0.bottom,null,y$$0.top)}r$$1.appendChild(o$$1)}function hn(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var r=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){return t.cursorDiv.style.visibility=
(r=!r)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function fn(e){e.state.focused||(e.display.input.focus(),pn(e))}function dn(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,gn(e))},100)}function pn(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(rt(e,"focus",e,t),e.state.focused=!0,H(e.display.wrapper,"CodeMirror-focused"),
e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),a$$3&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),hn(e))}function gn(e,t){e.state.delayingBlurEvent||(e.state.focused&&(rt(e,"blur",e,t),e.state.focused=!1,T(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function vn(e){var t=e.display;var r=t.lineDiv.offsetTop;for(var n=0;n<t.view.length;n++){var i=
t.view[n];var o=void 0;if(!i.hidden){if(l$$3&&s$$2<8){var a=i.node.offsetTop+i.node.offsetHeight;o=a-r,r=a}else{var u=i.node.getBoundingClientRect();o=u.bottom-u.top}var c=i.line.height-o;if(o<2&&(o=Zr(t)),(c>.005||c<-.005)&&(ce(i.line,o),mn(i.line),i.rest))for(var h=0;h<i.rest.length;h++)mn(i.rest[h])}}}function mn(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var r=e.widgets[t];var n=r.node.parentNode;n&&(r.height=n.offsetHeight)}}function yn(e,t,r){var n=r&&null!=r.top?Math.max(0,r.top):
e.scroller.scrollTop;n=Math.floor(n-br(e));var i=r&&null!=r.bottom?r.bottom:n+e.wrapper.clientHeight;var o=fe(t,n);var l=fe(t,i);if(r&&r.ensure){var s=r.ensure.from.line;var a=r.ensure.to.line;s<o?(o=s,l=fe(t,je(se(t,s))+e.wrapper.clientHeight)):Math.min(a,t.lastLine())>=l&&(o=fe(t,je(se(t,a))-e.wrapper.clientHeight),l=a)}return{from:o,to:Math.max(l,o+1)}}function bn(e){var t=e.display;var r=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){var n=en(t)-t.scroller.scrollLeft+e.doc.scrollLeft;
var i=t.gutters.offsetWidth;var o=n+"px";for(var l=0;l<r.length;l++)if(!r[l].hidden){e.options.fixedGutter&&(r[l].gutter&&(r[l].gutter.style.left=o),r[l].gutterBackground&&(r[l].gutterBackground.style.left=o));var s=r[l].alignable;if(s)for(var a=0;a<s.length;a++)s[a].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=n+i+"px")}}function wn(e){if(!e.options.lineNumbers)return!1;var t=e.doc;var r=pe(e.options,t.first+t.size-1);var n=e.display;if(r.length!=n.lineNumChars){var i=n.measure.appendChild(O("div",
[O("div",r)],"CodeMirror-linenumber CodeMirror-gutter-elt"));var o=i.firstChild.offsetWidth;var l=i.offsetWidth-o;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(o,n.lineGutter.offsetWidth-l)+1,n.lineNumWidth=n.lineNumInnerWidth+l,n.lineNumChars=n.lineNumInnerWidth?r.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",oi(e),!0}return!1}function xn(e,t){var r=e.display;var n=Zr(e.display);t.top<0&&(t.top=0);var i=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:r.scroller.scrollTop;
var o=Lr(e);var l={};t.bottom-t.top>o&&(t.bottom=t.top+o);var s=e.doc.height+wr(r);var a=t.top<n;var u=t.bottom>s-n;if(t.top<i)l.scrollTop=a?0:t.top;else if(t.bottom>i+o){var c=Math.min(t.top,(u?s:t.bottom)-o);c!=i&&(l.scrollTop=c)}var h=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:r.scroller.scrollLeft;var f=Sr(e)-(e.options.fixedGutter?r.gutters.offsetWidth:0);var d=t.right-t.left>f;return d&&(t.right=t.left+f),t.left<10?l.scrollLeft=0:t.left<h?l.scrollLeft=Math.max(0,t.left-(d?0:10)):t.right>
f+h-3&&(l.scrollLeft=t.right+(d?0:10)-f),l}function Cn(e,t){null!=t&&(kn(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function Sn(e){kn(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function Ln(e,t,r){null==t&&null==r||kn(e),null!=t&&(e.curOp.scrollLeft=t),null!=r&&(e.curOp.scrollTop=r)}function kn(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,Tn(e,Kr(e,t.from),Kr(e,t.to),t.margin))}function Tn(e,t,r,
n){var i=xn(e,{left:Math.min(t.left,r.left),top:Math.min(t.top,r.top)-n,right:Math.max(t.right,r.right),bottom:Math.max(t.bottom,r.bottom)+n});Ln(e,i.scrollLeft,i.scrollTop)}function Mn(e,t){Math.abs(e.doc.scrollTop-t)<2||(r$$3||ii(e,{top:t}),Nn(e,t,!0),r$$3&&ii(e),Jn(e,100))}function Nn(e,t,r){t=Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t),(e.display.scroller.scrollTop!=t||r)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&
(e.display.scroller.scrollTop=t))}function On(e,t,r,n){t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),(r?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!n||(e.doc.scrollLeft=t,bn(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function An(e){var t=e.display;var r=t.gutters.offsetWidth;var n=Math.round(e.doc.height+wr(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,
scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?r:0,docHeight:n,scrollHeight:n+Cr(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:r}}function Hn(e,t){t||(t=An(e));var r=e.display.barWidth;var n=e.display.barHeight;Fn(e,t);for(var i=0;i<4&&r!=e.display.barWidth||n!=e.display.barHeight;i++)r!=e.display.barWidth&&e.options.lineWrapping&&vn(e),Fn(e,An(e)),r=e.display.barWidth,n=e.display.barHeight}function Fn(e,
t){var r=e.display;var n=r.scrollbars.update(t);r.sizer.style.paddingRight=(r.barWidth=n.right)+"px",r.sizer.style.paddingBottom=(r.barHeight=n.bottom)+"px",r.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(r.scrollbarFiller.style.display="block",r.scrollbarFiller.style.height=n.bottom+"px",r.scrollbarFiller.style.width=n.right+"px"):r.scrollbarFiller.style.display="",n.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(r.gutterFiller.style.display=
"block",r.gutterFiller.style.height=n.bottom+"px",r.gutterFiller.style.width=t.gutterWidth+"px"):r.gutterFiller.style.display=""}function En(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&T(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new Pn[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),Je(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},
0)}),t.setAttribute("cm-not-content","true")},function(t,r){"horizontal"==r?On(e,t):Mn(e,t)},e),e.display.scrollbars.addClass&&H(e.display.wrapper,e.display.scrollbars.addClass)}function In(e){var t;e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++zn},t=e.curOp,nr?nr.ops.push(t):t.ownsGroup=
nr={ops:[t],delayedCallbacks:[]}}function Rn(e$$1){!function(e$$0,t$$0){var r$$0=e$$0.ownsGroup;if(r$$0)try{!function(e){var t=e.delayedCallbacks;var r=0;do{for(;r<t.length;r++)t[r].call(null);for(var n=0;n<e.ops.length;n++){var i=e.ops[n];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(r<t.length)}(r$$0)}finally{nr=null,t$$0(r$$0)}}(e$$1.curOp,function(e$$0){for(var t$$0=0;t$$0<e$$0.ops.length;t$$0++)e$$0.ops[t$$0].cm.curOp=
null;!function(e){var t=e.ops;for(var r=0;r<t.length;r++)Bn(t[r]);for(var n=0;n<t.length;n++)(i=t[n]).updatedDisplay=i.mustUpdate&&ri(i.cm,i.update);var i;for(var o=0;o<t.length;o++)Gn(t[o]);for(var l=0;l<t.length;l++)Un(t[l]);for(var s=0;s<t.length;s++)Vn(t[s])}(e$$0)})}function Bn(e){var t;var r;var n=e.cm;var i=n.display;!(r=(t=n).display).scrollbarsClipped&&r.scroller.offsetWidth&&(r.nativeBarWidth=r.scroller.offsetWidth-r.scroller.clientWidth,r.heightForcer.style.height=Cr(t)+"px",r.sizer.style.marginBottom=
-r.nativeBarWidth+"px",r.sizer.style.borderRightWidth=Cr(t)+"px",r.scrollbarsClipped=!0),e.updateMaxLine&&Ye(n),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<i.viewFrom||e.scrollToPos.to.line>=i.viewTo)||i.maxLineChanged&&n.options.lineWrapping,e.update=e.mustUpdate&&new ti(n,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Gn(e){var t=e.cm;var r=t.display;e.updatedDisplay&&vn(t),e.barMeasure=An(t),r.maxLineChanged&&
!t.options.lineWrapping&&(e.adjustWidthTo=Tr(t,r.maxLine,r.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(r.scroller.clientWidth,r.sizer.offsetLeft+e.adjustWidthTo+Cr(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,r.sizer.offsetLeft+e.adjustWidthTo-Sr(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=r.input.prepareSelection())}function Un(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",
e.maxScrollLeft<t.doc.scrollLeft&&On(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var r=e.focus&&e.focus==D();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,r),(e.updatedDisplay||e.startHeight!=t.doc.height)&&Hn(t,e.barMeasure),e.updatedDisplay&&li(t,e.barMeasure),e.selectionChanged&&hn(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),r&&fn(e.cm)}function Vn(e$$0){var t$$0=e$$0.cm;var r$$0=t$$0.display;var n$$0=
t$$0.doc;(e$$0.updatedDisplay&&ni(t$$0,e$$0.update),null==r$$0.wheelStartX||null==e$$0.scrollTop&&null==e$$0.scrollLeft&&!e$$0.scrollToPos||(r$$0.wheelStartX=r$$0.wheelStartY=null),null!=e$$0.scrollTop&&Nn(t$$0,e$$0.scrollTop,e$$0.forceScroll),null!=e$$0.scrollLeft&&On(t$$0,e$$0.scrollLeft,!0,!0),e$$0.scrollToPos)&&function(e,t){if(!nt(e,"scrollCursorIntoView")){var r=e.display;var n=r.sizer.getBoundingClientRect();var i=null;if(t.top+n.top<0?i=!0:t.bottom+n.top>(window.innerHeight||document.documentElement.clientHeight)&&
(i=!1),null!=i&&!p){var o=O("div","",null,"position: absolute;\n                         top: "+(t.top-r.viewOffset-br(e.display))+"px;\n                         height: "+(t.bottom-t.top+Cr(e)+r.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(i),e.display.lineSpace.removeChild(o)}}}(t$$0,function(e,t,r,n){var i;null==n&&(n=0),e.options.lineWrapping||t!=r||(r="before"==(t=t.ch?ge(t.line,"before"==
t.sticky?t.ch-1:t.ch,"after"):t).sticky?ge(t.line,t.ch+1,"before"):t);for(var o=0;o<5;o++){var l=!1;var s=Vr(e,t);var a=r&&r!=t?Vr(e,r):s;var u=xn(e,i={left:Math.min(s.left,a.left),top:Math.min(s.top,a.top)-n,right:Math.max(s.left,a.left),bottom:Math.max(s.bottom,a.bottom)+n});var c=e.doc.scrollTop;var h=e.doc.scrollLeft;if(null!=u.scrollTop&&(Mn(e,u.scrollTop),Math.abs(e.doc.scrollTop-c)>1&&(l=!0)),null!=u.scrollLeft&&(On(e,u.scrollLeft),Math.abs(e.doc.scrollLeft-h)>1&&(l=!0)),!l)break}return i}(t$$0,
Ce(n$$0,e$$0.scrollToPos.from),Ce(n$$0,e$$0.scrollToPos.to),e$$0.scrollToPos.margin));var i$$0=e$$0.maybeHiddenMarkers;var o$$0=e$$0.maybeUnhiddenMarkers;if(i$$0)for(var l$$0=0;l$$0<i$$0.length;++l$$0)i$$0[l$$0].lines.length||rt(i$$0[l$$0],"hide");if(o$$0)for(var s$$0=0;s$$0<o$$0.length;++s$$0)o$$0[s$$0].lines.length&&rt(o$$0[s$$0],"unhide");r$$0.wrapper.offsetHeight&&(n$$0.scrollTop=t$$0.display.scroller.scrollTop),e$$0.changeObjs&&rt(t$$0,"changes",t$$0,e$$0.changeObjs),e$$0.update&&e$$0.update.finish()}
function Kn(e,t){if(e.curOp)return t();In(e);try{return t()}finally{Rn(e)}}function jn(e,t){return function(){if(e.curOp)return t.apply(e,arguments);In(e);try{return t.apply(e,arguments)}finally{Rn(e)}}}function Xn(e){return function(){if(this.curOp)return e.apply(this,arguments);In(this);try{return e.apply(this,arguments)}finally{Rn(this)}}}function Yn(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);In(t);try{return e.apply(this,arguments)}finally{Rn(t)}}}function _n(e,
t,r,n){null==t&&(t=e.doc.first),null==r&&(r=e.doc.first+e.doc.size),n||(n=0);var i=e.display;if(n&&r<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)ke&&Ge(e.doc,t)<i.viewTo&&$n(e);else if(r<=i.viewFrom)ke&&Ue(e.doc,r+n)>i.viewFrom?$n(e):(i.viewFrom+=n,i.viewTo+=n);else if(t<=i.viewFrom&&r>=i.viewTo)$n(e);else if(t<=i.viewFrom){var o=Zn(e,r,r+n,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=n):$n(e)}else if(r>=
i.viewTo){var l=Zn(e,t,t,-1);l?(i.view=i.view.slice(0,l.index),i.viewTo=l.lineN):$n(e)}else{var s=Zn(e,t,t,-1);var a=Zn(e,r,r+n,1);s&&a?(i.view=i.view.slice(0,s.index).concat(rr(e,s.lineN,a.lineN)).concat(i.view.slice(a.index)),i.viewTo+=n):$n(e)}var u=i.externalMeasured;u&&(r<u.lineN?u.lineN+=n:t<u.lineN+u.size&&(i.externalMeasured=null))}function qn(e,t,r){e.curOp.viewChanged=!0;var n=e.display;var i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(n.externalMeasured=null),!(t<n.viewFrom||
t>=n.viewTo)){var o=n.view[on(e,t)];if(null!=o.node){var l=o.changes||(o.changes=[]);-1==B(l,r)&&l.push(r)}}}function $n(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Zn(e,t,r,n){var i;var o=on(e,t);var l=e.display.view;if(!ke||r==e.doc.first+e.doc.size)return{index:o,lineN:r};var s=e.display.viewFrom;for(var a=0;a<o;a++)s+=l[a].size;if(s!=t){if(n>0){if(o==l.length-1)return null;i=s+l[o].size-t,o++}else i=s-t;t+=i,r+=i}for(;Ge(e.doc,r)!=r;){if(o==
(n<0?0:l.length-1))return null;r+=n*l[o-(n<0?1:0)].size,o+=n}return{index:o,lineN:r}}function Qn(e){var t=e.display.view;var r=0;for(var n=0;n<t.length;n++){var i=t[n];i.hidden||i.node&&!i.changes||++r}return r}function Jn(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,E(ei,e))}function ei(e){var t$$0=e.doc;if(!(t$$0.highlightFrontier>=e.display.viewTo)){var r=+new Date+e.options.workTime;var n=zt(e,t$$0.highlightFrontier);var i=[];t$$0.iter(n.line,Math.min(t$$0.first+t$$0.size,
e.display.viewTo+500),function(o){if(n.line>=e.display.viewFrom){var l=o.styles;var s=o.text.length>e.options.maxHighlightLength?Ot(t$$0.mode,n.state):null;var a=Pt(e,o,n,!0);s&&(n.state=s),o.styles=a.styles;var u=o.styleClasses;var c=a.classes;c?o.styleClasses=c:u&&(o.styleClasses=null);var h=!l||l.length!=o.styles.length||u!=c&&(!u||!c||u.bgClass!=c.bgClass||u.textClass!=c.textClass);for(var f=0;!h&&f<l.length;++f)h=l[f]!=o.styles[f];h&&i.push(n.line),o.stateAfter=n.save(),n.nextLine()}else o.text.length<=
e.options.maxHighlightLength&&It(e,o.text,n),o.stateAfter=n.line%5==0?n.save():null,n.nextLine();if(+new Date>r)return Jn(e,e.options.workDelay),!0}),t$$0.highlightFrontier=n.line,t$$0.modeFrontier=Math.max(t$$0.modeFrontier,n.line),i.length&&Kn(e,function(){for(var t=0;t<i.length;t++)qn(e,i[t],"text")})}}function ri(e$$0,t$$1){var r$$1=e$$0.display;var n$$0=e$$0.doc;if(t$$1.editorIsHidden)return $n(e$$0),!1;if(!t$$1.force&&t$$1.visible.from>=r$$1.viewFrom&&t$$1.visible.to<=r$$1.viewTo&&(null==r$$1.updateLineNumbers||
r$$1.updateLineNumbers>=r$$1.viewTo)&&r$$1.renderedView==r$$1.view&&0==Qn(e$$0))return!1;wn(e$$0)&&($n(e$$0),t$$1.dims=Jr(e$$0));var i$$0=n$$0.first+n$$0.size;var o$$0=Math.max(t$$1.visible.from-e$$0.options.viewportMargin,n$$0.first);var l$$0=Math.min(i$$0,t$$1.visible.to+e$$0.options.viewportMargin);r$$1.viewFrom<o$$0&&o$$0-r$$1.viewFrom<20&&(o$$0=Math.max(n$$0.first,r$$1.viewFrom)),r$$1.viewTo>l$$0&&r$$1.viewTo-l$$0<20&&(l$$0=Math.min(i$$0,r$$1.viewTo)),ke&&(o$$0=Ge(e$$0.doc,o$$0),l$$0=Ue(e$$0.doc,
l$$0));var s$$0;var u$$0;var c$$0;var h$$0;var f$$0=o$$0!=r$$1.viewFrom||l$$0!=r$$1.viewTo||r$$1.lastWrapHeight!=t$$1.wrapperHeight||r$$1.lastWrapWidth!=t$$1.wrapperWidth;u$$0=o$$0,c$$0=l$$0,0==(h$$0=(s$$0=e$$0).display).view.length||u$$0>=h$$0.viewTo||c$$0<=h$$0.viewFrom?(h$$0.view=rr(s$$0,u$$0,c$$0),h$$0.viewFrom=u$$0):(h$$0.viewFrom>u$$0?h$$0.view=rr(s$$0,u$$0,h$$0.viewFrom).concat(h$$0.view):h$$0.viewFrom<u$$0&&(h$$0.view=h$$0.view.slice(on(s$$0,u$$0))),h$$0.viewFrom=u$$0,h$$0.viewTo<c$$0?h$$0.view=
h$$0.view.concat(rr(s$$0,h$$0.viewTo,c$$0)):h$$0.viewTo>c$$0&&(h$$0.view=h$$0.view.slice(0,on(s$$0,c$$0)))),h$$0.viewTo=c$$0,r$$1.viewOffset=je(se(e$$0.doc,r$$1.viewFrom)),e$$0.display.mover.style.top=r$$1.viewOffset+"px";var d$$0=Qn(e$$0);if(!f$$0&&0==d$$0&&!t$$1.force&&r$$1.renderedView==r$$1.view&&(null==r$$1.updateLineNumbers||r$$1.updateLineNumbers>=r$$1.viewTo))return!1;var p$$0=function(e){if(e.hasFocus())return null;var t=D();if(!t||!W(e.display.lineDiv,t))return null;var r={activeElt:t};
if(window.getSelection){var n=window.getSelection();n.anchorNode&&n.extend&&W(e.display.lineDiv,n.anchorNode)&&(r.anchorNode=n.anchorNode,r.anchorOffset=n.anchorOffset,r.focusNode=n.focusNode,r.focusOffset=n.focusOffset)}return r}(e$$0);return d$$0>4&&(r$$1.lineDiv.style.display="none"),function(e,t$$0,r$$0){function s(t){var r=t.nextSibling;return a$$3&&y&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),r}var n=e.display;var i=e.options.lineNumbers;var o=n.lineDiv;
var l=o.firstChild;var u=n.view;var c=n.viewFrom;for(var h=0;h<u.length;h++){var f=u[h];if(f.hidden);else if(f.node&&f.node.parentNode==o){for(;l!=f.node;)l=s(l);var d=i&&null!=t$$0&&t$$0<=c&&f.lineNumber;f.changes&&(B(f.changes,"gutter")>-1&&(d=!1),sr(e,f,c,r$$0)),d&&(M(f.lineNumber),f.lineNumber.appendChild(document.createTextNode(pe(e.options,c)))),l=f.node.nextSibling}else{var p=(m=c,b=r$$0,void 0,w=ur(g=e,v=f),v.text=v.node=w.pre,w.bgClass&&(v.bgClass=w.bgClass),w.textClass&&(v.textClass=w.textClass),
hr(g,v),fr(g,v,m,b),pr(g,v,b),v.node);o.insertBefore(p,l)}c+=f.size}var g;var v;var m;var b;for(var w;l;)l=s(l)}(e$$0,r$$1.updateLineNumbers,t$$1.dims),d$$0>4&&(r$$1.lineDiv.style.display=""),r$$1.renderedView=r$$1.view,function(e){if(e&&e.activeElt&&e.activeElt!=D()&&(e.activeElt.focus(),e.anchorNode&&W(document.body,e.anchorNode)&&W(document.body,e.focusNode))){var t=window.getSelection();var r=document.createRange();r.setEnd(e.anchorNode,e.anchorOffset),r.collapse(!1),t.removeAllRanges(),t.addRange(r),
t.extend(e.focusNode,e.focusOffset)}}(p$$0),M(r$$1.cursorDiv),M(r$$1.selectionDiv),r$$1.gutters.style.height=r$$1.sizer.style.minHeight=0,f$$0&&(r$$1.lastWrapHeight=t$$1.wrapperHeight,r$$1.lastWrapWidth=t$$1.wrapperWidth,Jn(e$$0,400)),r$$1.updateLineNumbers=null,!0}function ni(e,t){var r=t.viewport;for(var n=!0;(n&&e.options.lineWrapping&&t.oldDisplayWidth!=Sr(e)||(r&&null!=r.top&&(r={top:Math.min(e.doc.height+wr(e.display)-Lr(e),r.top)}),t.visible=yn(e.display,e.doc,r),!(t.visible.from>=e.display.viewFrom&&
t.visible.to<=e.display.viewTo)))&&ri(e,t);n=!1){vn(e);var i=An(e);ln(e),Hn(e,i),li(e,i),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function ii(e,t){var r=new ti(e,t);if(ri(e,r)){vn(e),ni(e,r);var n=An(e);ln(e),Hn(e,n),li(e,n),r.finish()}}function oi(e){var t=e.display.gutters.offsetWidth;
e.display.sizer.style.marginLeft=t+"px"}function li(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Cr(e)+"px"}function si(e){var t=e.display.gutters;var r=e.options.gutters;M(t);for(var n=0;n<r.length;++n){var i=r[n];var o=t.appendChild(O("div",null,"CodeMirror-gutter "+i));"CodeMirror-linenumbers"==i&&(e.display.lineGutter=o,o.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=
n?"":"none",oi(e)}function ai(e){var t=B(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function hi(e){var t=e.wheelDeltaX;var r=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==r&&e.detail&&e.axis==e.VERTICAL_AXIS?r=e.detail:null==r&&(r=e.wheelDelta),{x:t,y:r}}function fi(e){var t=hi(e);return t.x*=ci,t.y*=ci,t}function di(e$$0,
t$$0){var n=hi(t$$0);var i=n.x;var o=n.y;var l=e$$0.display;var s=l.scroller;var u=s.scrollWidth>s.clientWidth;var c=s.scrollHeight>s.clientHeight;if(i&&u||o&&c){if(o&&y&&a$$3){var f=t$$0.target;var d=l.view;e:for(;f!=s;f=f.parentNode)for(var p=0;p<d.length;p++)if(d[p].node==f){e$$0.display.currentWheelTarget=f;break e}}if(i&&!r$$3&&!h$$2&&null!=ci)return o&&c&&Mn(e$$0,Math.max(0,s.scrollTop+o*ci)),On(e$$0,Math.max(0,s.scrollLeft+i*ci)),(!o||o&&c)&&st(t$$0),void(l.wheelStartX=null);if(o&&null!=ci){var g=
o*ci;var v=e$$0.doc.scrollTop;var m=v+l.wrapper.clientHeight;g<0?v=Math.max(0,v+g-50):m=Math.min(e$$0.doc.height,m+g+50),ii(e$$0,{top:v,bottom:m})}ui<20&&(null==l.wheelStartX?(l.wheelStartX=s.scrollLeft,l.wheelStartY=s.scrollTop,l.wheelDX=i,l.wheelDY=o,setTimeout(function(){if(null!=l.wheelStartX){var e=s.scrollLeft-l.wheelStartX;var t=s.scrollTop-l.wheelStartY;var r=t&&l.wheelDY&&t/l.wheelDY||e&&l.wheelDX&&e/l.wheelDX;l.wheelStartX=l.wheelStartY=null,r&&(ci=(ci*ui+r)/(ui+1),++ui)}},200)):(l.wheelDX+=
i,l.wheelDY+=o))}}function vi(e$$0,t$$0){var r=e$$0[t$$0];e$$0.sort(function(e,t){return ve(e.from(),t.from())}),t$$0=B(e$$0,r);for(var n=1;n<e$$0.length;n++){var i=e$$0[n];var o=e$$0[n-1];if(ve(o.to(),i.from())>=0){var l=we(o.from(),i.from());var s=be(o.to(),i.to());var a=o.empty()?i.from()==i.head:o.from()==o.head;n<=t$$0&&--t$$0,e$$0.splice(--n,2,new gi(a?s:l,a?l:s))}}return new pi(e$$0,t$$0)}function mi(e,t){return new pi([new gi(e,t||e)],0)}function yi(e){return e.text?ge(e.from.line+e.text.length-
1,q(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function bi(e,t){if(ve(e,t.from)<0)return e;if(ve(e,t.to)<=0)return yi(t);var r=e.line+t.text.length-(t.to.line-t.from.line)-1;var n=e.ch;return e.line==t.to.line&&(n+=yi(t).ch-t.to.ch),ge(r,n)}function wi(e,t){var r=[];for(var n=0;n<e.sel.ranges.length;n++){var i=e.sel.ranges[n];r.push(new gi(bi(i.anchor,t),bi(i.head,t)))}return vi(r,e.sel.primIndex)}function xi(e,t,r){return e.line==t.line?ge(r.line,e.ch-t.ch+r.ch):ge(r.line+(e.line-t.line),
e.ch)}function Ci(e){e.doc.mode=Tt(e.options,e.doc.modeOption),Si(e)}function Si(e$$0){e$$0.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e$$0.doc.modeFrontier=e$$0.doc.highlightFrontier=e$$0.doc.first,Jn(e$$0,100),e$$0.state.modeGen++,e$$0.curOp&&_n(e$$0)}function Li(e,t){return 0==t.from.ch&&0==t.to.ch&&""==q(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function ki(e$$1,t$$0,r$$1,n$$0){function i$$1(e){return r$$1?r$$1[e]:null}function o$$0(e$$0,r$$0,
i$$0){!function(e,t,r,n){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),We(e),De(e,r);var i=n?n(e):1;i!=e.height&&ce(e,i)}(e$$0,r$$0,i$$0,n$$0),or(e$$0,"change",e$$0,t$$0)}function l(e,t){var r=[];for(var o=e;o<t;++o)r.push(new jt(u[o],i$$1(o),n$$0));return r}var s=t$$0.from;var a=t$$0.to;var u=t$$0.text;var c=se(e$$1,s.line);var h=se(e$$1,a.line);var f=q(u);var d=i$$1(u.length-1);var p=a.line-s.line;if(t$$0.full)e$$1.insert(0,l(0,u.length)),e$$1.remove(u.length,
e$$1.size-u.length);else if(Li(e$$1,t$$0)){var g=l(0,u.length-1);o$$0(h,h.text,d),p&&e$$1.remove(s.line,p),g.length&&e$$1.insert(s.line,g)}else if(c==h)if(1==u.length)o$$0(c,c.text.slice(0,s.ch)+f+c.text.slice(a.ch),d);else{var v=l(1,u.length-1);v.push(new jt(f+c.text.slice(a.ch),d,n$$0)),o$$0(c,c.text.slice(0,s.ch)+u[0],i$$1(0)),e$$1.insert(s.line+1,v)}else if(1==u.length)o$$0(c,c.text.slice(0,s.ch)+u[0]+h.text.slice(a.ch),i$$1(0)),e$$1.remove(s.line+1,p);else{o$$0(c,c.text.slice(0,s.ch)+u[0],i$$1(0)),
o$$0(h,f+h.text.slice(a.ch),d);var m=l(1,u.length-1);p>1&&e$$1.remove(s.line+1,p-1),e$$1.insert(s.line+1,m)}or(e$$1,"change",e$$1,t$$0)}function Ti(e$$0,t,r){!function e(n,i,o){if(n.linked)for(var l=0;l<n.linked.length;++l){var s=n.linked[l];if(s.doc!=i){var a=o&&s.sharedHist;r&&!a||(t(s.doc,a),e(s.doc,n,a))}}}(e$$0,null,!0)}function Mi(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,rn(e),Ci(e),Ni(e),e.options.lineWrapping||Ye(e),e.options.mode=t.modeOption,_n(e)}
function Ni(e){("rtl"==e.doc.direction?H:T)(e.display.lineDiv,"CodeMirror-rtl")}function Oi(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function Ai(e$$0,t){var r={from:ye(t.from),to:yi(t),text:ae(e$$0,t.from,t.to)};return Pi(e$$0,r,t.from.line,t.to.line+1),Ti(e$$0,function(e){return Pi(e,r,t.from.line,t.to.line+1)},!0),r}function Wi(e){for(;e.length;){if(!q(e).ranges)break;
e.pop()}}function Di(e,t,r,n){var i=e.history;i.undone.length=0;var o;var l;var s;var a=+new Date;if((i.lastOp==n||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&i.lastModTime>a-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(s=i,o=i.lastOp==n?(Wi(s.done),q(s.done)):s.done.length&&!q(s.done).ranges?q(s.done):s.done.length>1&&!s.done[s.done.length-2].ranges?(s.done.pop(),q(s.done)):void 0))l=q(o.changes),0==ve(t.from,t.to)&&0==ve(t.from,l.to)?l.to=yi(t):o.changes.push(Ai(e,
t));else{var u=q(i.done);for(u&&u.ranges||Fi(e.sel,i.done),o={changes:[Ai(e,t)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(r),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=a,i.lastOp=i.lastSelOp=n,i.lastOrigin=i.lastSelOrigin=t.origin,l||rt(e,"historyAdded")}function Hi(e,t,r,n){var i;var o;var l;var s;var a;var u=e.history;var c=n&&n.origin;r==u.lastSelOp||c&&u.lastSelOrigin==c&&(u.lastModTime==u.lastSelTime&&
u.lastOrigin==c||(i=e,o=c,l=q(u.done),s=t,"*"==(a=o.charAt(0))||"+"==a&&l.ranges.length==s.ranges.length&&l.somethingSelected()==s.somethingSelected()&&new Date-i.history.lastSelTime<=(i.cm?i.cm.options.historyEventDelay:500)))?u.done[u.done.length-1]=t:Fi(t,u.done),u.lastSelTime=+new Date,u.lastSelOrigin=c,u.lastSelOp=r,n&&!1!==n.clearRedo&&Wi(u.undone)}function Fi(e,t){var r=q(t);r&&r.ranges&&r.equals(e)||t.push(e)}function Pi(e,t,r$$0,n){var i=t["spans_"+e.id];var o=0;e.iter(Math.max(e.first,r$$0),
Math.min(e.first+e.size,n),function(r){r.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=r.markedSpans),++o})}function Ei(e){if(!e)return null;var t;for(var r=0;r<e.length;++r)e[r].marker.explicitlyCleared?t||(t=e.slice(0,r)):t&&t.push(e[r]);return t?t.length?t:null:e}function zi(e$$0,t$$0){var r$$0=function(e,t){var r=t["spans_"+e.id];if(!r)return null;var n=[];for(var i=0;i<t.text.length;++i)n.push(Ei(r[i]));return n}(e$$0,t$$0);var n$$0=Oe(e$$0,t$$0);if(!r$$0)return n$$0;if(!n$$0)return r$$0;for(var i$$0=
0;i$$0<r$$0.length;++i$$0){var o=r$$0[i$$0];var l=n$$0[i$$0];if(o&&l){var s=0;e:for(;s<l.length;++s){var a=l[s];for(var u=0;u<o.length;++u)if(o[u].marker==a.marker)continue e;o.push(a)}}else l&&(r$$0[i$$0]=l)}return r$$0}function Ii(e,t,r){var n=[];for(var i=0;i<e.length;++i){var o=e[i];if(o.ranges)n.push(r?pi.prototype.deepCopy.call(o):o);else{var l=o.changes;var s=[];n.push({changes:s});for(var a=0;a<l.length;++a){var u=l[a];var c=void 0;if(s.push({from:u.from,to:u.to,text:u.text}),t)for(var h in u)(c=
h.match(/^spans_(\d+)$/))&&B(t,Number(c[1]))>-1&&(q(s)[h]=u[h],delete u[h])}}}return n}function Ri(e,t,r,n){if(n){var i=e.anchor;if(r){var o=ve(t,i)<0;o!=ve(r,i)<0?(i=t,t=r):o!=ve(t,r)<0&&(t=r)}return new gi(i,t)}return new gi(r||t,t)}function Bi(e,t,r,n,i){null==i&&(i=e.cm&&(e.cm.display.shift||e.extend)),ji(e,new pi([Ri(e.sel.primary(),t,r,i)],0),n)}function Gi(e,t,r){var n=[];var i=e.cm&&(e.cm.display.shift||e.extend);for(var o=0;o<e.sel.ranges.length;o++)n[o]=Ri(e.sel.ranges[o],t[o],null,i);ji(e,
vi(n,e.sel.primIndex),r)}function Ui(e,t,r,n){var i=e.sel.ranges.slice(0);i[t]=r,ji(e,vi(i,e.sel.primIndex),n)}function Vi(e,t,r,n){ji(e,mi(t,r),n)}function Ki(e,t,r){var n=e.history.done;var i=q(n);i&&i.ranges?(n[n.length-1]=t,Xi(e,t,r)):ji(e,t,r)}function ji(e,t,r){Xi(e,t,r),Hi(e,e.sel,e.cm?e.cm.curOp.id:NaN,r)}function Xi(e$$0,t$$0,r){var n;var i;var o;var l;(ot(e$$0,"beforeSelectionChange")||e$$0.cm&&ot(e$$0.cm,"beforeSelectionChange"))&&(n=e$$0,o=r,l={ranges:(i=t$$0).ranges,update:function(e){this.ranges=
[];for(var t=0;t<e.length;t++)this.ranges[t]=new gi(Ce(n,e[t].anchor),Ce(n,e[t].head))},origin:o&&o.origin},rt(n,"beforeSelectionChange",n,l),n.cm&&rt(n.cm,"beforeSelectionChange",n.cm,l),t$$0=l.ranges!=i.ranges?vi(l.ranges,l.ranges.length-1):i),Yi(e$$0,qi(e$$0,t$$0,r&&r.bias||(ve(t$$0.primary().head,e$$0.sel.primary().head)<0?-1:1),!0)),r&&!1===r.scroll||!e$$0.cm||Sn(e$$0.cm)}function Yi(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,it(e.cm)),or(e,"cursorActivity",
e))}function _i(e){Yi(e,qi(e,e.sel,null,!1))}function qi(e,t,r,n){var i;for(var o=0;o<t.ranges.length;o++){var l=t.ranges[o];var s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o];var a=Zi(e,l.anchor,s&&s.anchor,r,n);var u=Zi(e,l.head,s&&s.head,r,n);(i||a!=l.anchor||u!=l.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new gi(a,u))}return i?vi(i,t.primIndex):t}function $i(e,t,r,n,i){var o=se(e,t.line);if(o.markedSpans)for(var l=0;l<o.markedSpans.length;++l){var s=o.markedSpans[l];var a=s.marker;if((null==
s.from||(a.inclusiveLeft?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(a.inclusiveRight?s.to>=t.ch:s.to>t.ch))){if(i&&(rt(a,"beforeCursorEnter"),a.explicitlyCleared)){if(o.markedSpans){--l;continue}break}if(!a.atomic)continue;if(r){var u=a.find(n<0?1:-1);var c=void 0;if((n<0?a.inclusiveRight:a.inclusiveLeft)&&(u=Qi(e,u,-n,u&&u.line==t.line?o:null)),u&&u.line==t.line&&(c=ve(u,r))&&(n<0?c<0:c>0))return $i(e,u,t,n,i)}var h=a.find(n<0?-1:1);return(n<0?a.inclusiveLeft:a.inclusiveRight)&&(h=Qi(e,h,n,h.line==
t.line?o:null)),h?$i(e,h,t,n,i):null}}return t}function Zi(e,t,r,n,i){var o=n||1;var l=$i(e,t,r,o,i)||!i&&$i(e,t,r,o,!0)||$i(e,t,r,-o,i)||!i&&$i(e,t,r,-o,!0);return l||(e.cantEdit=!0,ge(e.first,0))}function Qi(e,t,r,n){return r<0&&0==t.ch?t.line>e.first?Ce(e,ge(t.line-1)):null:r>0&&t.ch==(n||se(e,t.line)).text.length?t.line<e.first+e.size-1?ge(t.line+1,0):null:new ge(t.line,t.ch+r)}function Ji(e){e.setSelection(ge(e.firstLine(),0),ge(e.lastLine()),V)}function eo(e,t$$0,r$$0){var n={canceled:!1,from:t$$0.from,
to:t$$0.to,text:t$$0.text,origin:t$$0.origin,cancel:function(){return n.canceled=!0}};return r$$0&&(n.update=function(t,r,i,o){t&&(n.from=Ce(e,t)),r&&(n.to=Ce(e,r)),i&&(n.text=i),void 0!==o&&(n.origin=o)}),rt(e,"beforeChange",e,n),e.cm&&rt(e.cm,"beforeChange",e.cm,n),n.canceled?null:{from:n.from,to:n.to,text:n.text,origin:n.origin}}function to(e$$1,t$$1,r$$1){if(e$$1.cm){if(!e$$1.cm.curOp)return jn(e$$1.cm,to)(e$$1,t$$1,r$$1);if(e$$1.cm.state.suppressEdits)return}if(!(ot(e$$1,"beforeChange")||e$$1.cm&&
ot(e$$1.cm,"beforeChange"))||(t$$1=eo(e$$1,t$$1,!0))){var n$$0=Le&&!r$$1&&function(e$$0,t$$0,r$$0){var n=null;if(e$$0.iter(t$$0.line,r$$0.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var r=e.markedSpans[t].marker;!r.readOnly||n&&-1!=B(n,r)||(n||(n=[])).push(r)}}),!n)return null;var i=[{from:t$$0,to:r$$0}];for(var o=0;o<n.length;++o){var l=n[o];var s=l.find(0);for(var a=0;a<i.length;++a){var u=i[a];if(!(ve(u.to,s.from)<0||ve(u.from,s.to)>0)){var c=[a,1];var h=ve(u.from,
s.from);var f=ve(u.to,s.to);(h<0||!l.inclusiveLeft&&!h)&&c.push({from:u.from,to:s.from}),(f>0||!l.inclusiveRight&&!f)&&c.push({from:s.to,to:u.to}),i.splice.apply(i,c),a+=c.length-3}}}return i}(e$$1,t$$1.from,t$$1.to);if(n$$0)for(var i$$0=n$$0.length-1;i$$0>=0;--i$$0)ro(e$$1,{from:n$$0[i$$0].from,to:n$$0[i$$0].to,text:i$$0?[""]:t$$1.text,origin:t$$1.origin});else ro(e$$1,t$$1)}}function ro(e$$0,t){if(1!=t.text.length||""!=t.text[0]||0!=ve(t.from,t.to)){var r$$0=wi(e$$0,t);Di(e$$0,t,r$$0,e$$0.cm?e$$0.cm.curOp.id:
NaN),oo(e$$0,t,r$$0,Oe(e$$0,t));var n=[];Ti(e$$0,function(e,r){r||-1!=B(n,e.history)||(uo(e.history,t),n.push(e.history)),oo(e,t,null,Oe(e,t))})}}function no(e$$0,t$$0,r$$0){var n$$0=e$$0.cm&&e$$0.cm.state.suppressEdits;if(!n$$0||r$$0){var i;var o$$0=e$$0.history;var l$$0=e$$0.sel;var s="undo"==t$$0?o$$0.done:o$$0.undone;var a="undo"==t$$0?o$$0.undone:o$$0.done;for(var u=0;u<s.length&&(i=s[u],r$$0?!i.ranges||i.equals(e$$0.sel):i.ranges);u++);if(u!=s.length){for(o$$0.lastOrigin=o$$0.lastSelOrigin=
null;;){if(!(i=s.pop()).ranges){if(n$$0)return void s.push(i);break}if(Fi(i,a),r$$0&&!i.equals(e$$0.sel))return void ji(e$$0,i,{clearRedo:!1});l$$0=i}var c=[];Fi(l$$0,a),a.push({changes:c,generation:o$$0.generation}),o$$0.generation=i.generation||++o$$0.maxGeneration;var h=ot(e$$0,"beforeChange")||e$$0.cm&&ot(e$$0.cm,"beforeChange");var f=function(r){var n=i.changes[r];if(n.origin=t$$0,h&&!eo(e$$0,n,!1))return s.length=0,{};c.push(Ai(e$$0,n));var o=r?wi(e$$0,n):q(s);oo(e$$0,n,o,zi(e$$0,n)),!r&&e$$0.cm&&
e$$0.cm.scrollIntoView({from:n.from,to:yi(n)});var l=[];Ti(e$$0,function(e,t){t||-1!=B(l,e.history)||(uo(e.history,n),l.push(e.history)),oo(e,n,null,zi(e,n))})};for(var d=i.changes.length-1;d>=0;--d){var p=f(d);if(p)return p.v}}}}function io(e$$0,t){if(0!=t&&(e$$0.first+=t,e$$0.sel=new pi($(e$$0.sel.ranges,function(e){return new gi(ge(e.anchor.line+t,e.anchor.ch),ge(e.head.line+t,e.head.ch))}),e$$0.sel.primIndex),e$$0.cm)){_n(e$$0.cm,e$$0.first,e$$0.first-t,t);var r=e$$0.cm.display;for(var n=r.viewFrom;n<
r.viewTo;n++)qn(e$$0.cm,n,"gutter")}}function oo(e$$1,t$$1,r$$1,n$$1){if(e$$1.cm&&!e$$1.cm.curOp)return jn(e$$1.cm,oo)(e$$1,t$$1,r$$1,n$$1);if(t$$1.to.line<e$$1.first)io(e$$1,t$$1.text.length-1-(t$$1.to.line-t$$1.from.line));else if(!(t$$1.from.line>e$$1.lastLine())){if(t$$1.from.line<e$$1.first){var i$$1=t$$1.text.length-1-(e$$1.first-t$$1.from.line);io(e$$1,i$$1),t$$1={from:ge(e$$1.first,0),to:ge(t$$1.to.line+i$$1,t$$1.to.ch),text:[q(t$$1.text)],origin:t$$1.origin}}var o$$0=e$$1.lastLine();t$$1.to.line>
o$$0&&(t$$1={from:t$$1.from,to:ge(o$$0,se(e$$1,o$$0).text.length),text:[t$$1.text[0]],origin:t$$1.origin}),t$$1.removed=ae(e$$1,t$$1.from,t$$1.to),r$$1||(r$$1=wi(e$$1,t$$1)),e$$1.cm?function(e$$0,t$$0,r$$0){var n$$0=e$$0.doc;var i$$0=e$$0.display;var o=t$$0.from;var l=t$$0.to;var s=!1;var a=o.line;e$$0.options.lineWrapping||(a=he(Be(se(n$$0,o.line))),n$$0.iter(a,l.line+1,function(e){if(e==i$$0.maxLine)return s=!0,!0}));n$$0.sel.contains(t$$0.from,t$$0.to)>-1&&it(e$$0);ki(n$$0,t$$0,r$$0,tn(e$$0)),
e$$0.options.lineWrapping||(n$$0.iter(a,o.line+t$$0.text.length,function(e){var t=Xe(e);t>i$$0.maxLineLength&&(i$$0.maxLine=e,i$$0.maxLineLength=t,i$$0.maxLineChanged=!0,s=!1)}),s&&(e$$0.curOp.updateMaxLine=!0));(function(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){var r=e.first;for(var n=t-1;n>r;n--){var i=se(e,n).stateAfter;if(i&&(!(i instanceof Ht)||n+i.lookAhead<t)){r=n+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,r)}})(n$$0,o.line),Jn(e$$0,400);
var u=t$$0.text.length-(l.line-o.line)-1;t$$0.full?_n(e$$0):o.line!=l.line||1!=t$$0.text.length||Li(e$$0.doc,t$$0)?_n(e$$0,o.line,l.line+1,u):qn(e$$0,o.line,"text");var c=ot(e$$0,"changes");var h=ot(e$$0,"change");if(h||c){var f={from:o,to:l,text:t$$0.text,removed:t$$0.removed,origin:t$$0.origin};h&&or(e$$0,"change",e$$0,f),c&&(e$$0.curOp.changeObjs||(e$$0.curOp.changeObjs=[])).push(f)}e$$0.display.selForContextMenu=null}(e$$1.cm,t$$1,n$$1):ki(e$$1,t$$1,n$$1),Xi(e$$1,r$$1,V)}}function lo(e,t,r,n,
i){var o;(n||(n=r),ve(n,r)<0)&&(r=(o=[n,r])[0],n=o[1]);"string"==typeof t&&(t=e.splitLines(t)),to(e,{from:r,to:n,text:t,origin:i})}function so(e,t,r,n){r<e.line?e.line+=n:t<e.line&&(e.line=t,e.ch=0)}function ao(e,t,r,n){for(var i=0;i<e.length;++i){var o=e[i];var l=!0;if(o.ranges){o.copied||((o=e[i]=o.deepCopy()).copied=!0);for(var s=0;s<o.ranges.length;s++)so(o.ranges[s].anchor,t,r,n),so(o.ranges[s].head,t,r,n)}else{for(var a=0;a<o.changes.length;++a){var u=o.changes[a];if(r<u.from.line)u.from=ge(u.from.line+
n,u.from.ch),u.to=ge(u.to.line+n,u.to.ch);else if(t<=u.to.line){l=!1;break}}l||(e.splice(0,i+1),i=0)}}}function uo(e,t){var r=t.from.line;var n=t.to.line;var i=t.text.length-(n-r)-1;ao(e.done,r,n,i),ao(e.undone,r,n,i)}function co(e,t,r,n){var i=t;var o=t;return"number"==typeof t?o=se(e,xe(e,t)):i=he(t),null==i?null:(n(o,i)&&e.cm&&qn(e.cm,i,r),o)}function ho(e){this.lines=e,this.parent=null;var t=0;for(var r=0;r<e.length;++r)e[r].parent=this,t+=e[r].height;this.height=t}function fo(e){this.children=
e;var t=0;var r=0;for(var n=0;n<e.length;++n){var i=e[n];t+=i.chunkSize(),r+=i.height,i.parent=this}this.size=t,this.height=r,this.parent=null}function go(e,t,r){je(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Cn(e,r)}function yo(e$$1,t$$0,r$$0,n$$0,i$$0){if(n$$0&&n$$0.shared)return function(e$$0,t,r,n,i){(n=z(n)).shared=!1;var o=[yo(e$$0,t,r,n,i)];var l=o[0];var s=n.widgetNode;return Ti(e$$0,function(e){s&&(n.widgetNode=s.cloneNode(!0)),o.push(yo(e,Ce(e,t),Ce(e,r),n,i));for(var a=0;a<e.linked.length;++a)if(e.linked[a].isParent)return;
l=q(o)}),new bo(o,l)}(e$$1,t$$0,r$$0,n$$0,i$$0);if(e$$1.cm&&!e$$1.cm.curOp)return jn(e$$1.cm,yo)(e$$1,t$$0,r$$0,n$$0,i$$0);var o$$0=new mo(e$$1,i$$0);var l$$0=ve(t$$0,r$$0);if(n$$0&&z(n$$0,o$$0,!1),l$$0>0||0==l$$0&&!1!==o$$0.clearWhenEmpty)return o$$0;if(o$$0.replacedWith&&(o$$0.collapsed=!0,o$$0.widgetNode=A("span",[o$$0.replacedWith],"CodeMirror-widget"),n$$0.handleMouseEvents||o$$0.widgetNode.setAttribute("cm-ignore-events","true"),n$$0.insertLeft&&(o$$0.widgetNode.insertLeft=!0)),o$$0.collapsed){if(Re(e$$1,
t$$0.line,t$$0,r$$0,o$$0)||t$$0.line!=r$$0.line&&Re(e$$1,r$$0.line,t$$0,r$$0,o$$0))throw new Error("Inserting collapsed marker partially overlapping an existing one");ke=!0}o$$0.addToHistory&&Di(e$$1,{from:t$$0,to:r$$0,origin:"markText"},e$$1.sel,NaN);var s$$0;var a$$0=t$$0.line;var u=e$$1.cm;if(e$$1.iter(a$$0,r$$0.line+1,function(e){var n;var i;u&&o$$0.collapsed&&!u.options.lineWrapping&&Be(e)==u.display.maxLine&&(s$$0=!0),o$$0.collapsed&&a$$0!=t$$0.line&&ce(e,0),n=e,i=new Te(o$$0,a$$0==t$$0.line?
t$$0.ch:null,a$$0==r$$0.line?r$$0.ch:null),n.markedSpans=n.markedSpans?n.markedSpans.concat([i]):[i],i.marker.attachLine(n),++a$$0}),o$$0.collapsed&&e$$1.iter(t$$0.line,r$$0.line+1,function(t){Ve(e$$1,t)&&ce(t,0)}),o$$0.clearOnEnter&&Je(o$$0,"beforeCursorEnter",function(){return o$$0.clear()}),o$$0.readOnly&&(Le=!0,(e$$1.history.done.length||e$$1.history.undone.length)&&e$$1.clearHistory()),o$$0.collapsed&&(o$$0.id=++vo,o$$0.atomic=!0),u){if(s$$0&&(u.curOp.updateMaxLine=!0),o$$0.collapsed)_n(u,t$$0.line,
r$$0.line+1);else if(o$$0.className||o$$0.title||o$$0.startStyle||o$$0.endStyle||o$$0.css)for(var c=t$$0.line;c<=r$$0.line;c++)qn(u,c,"text");o$$0.atomic&&_i(u.doc),or(u,"markerAdded",u,o$$0)}return o$$0}function wo(e$$0){return e$$0.findMarks(ge(e$$0.first,0),e$$0.clipPos(ge(e$$0.lastLine())),function(e){return e.parent})}function xo(e$$0){var t$$0=function(t){var r=e$$0[t];var n=[r.primary.doc];Ti(r.primary.doc,function(e){return n.push(e)});for(var i=0;i<r.markers.length;i++){var o=r.markers[i];
-1==B(n,o.doc)&&(o.parent=null,r.markers.splice(i--,1))}};for(var r$$0=0;r$$0<e$$0.length;r$$0++)t$$0(r$$0)}function ko(e$$1){var t=this;if(To(t),!nt(t,e$$1)&&!yr(t.display,e$$1)){st(e$$1),l$$3&&(Lo=+new Date);var r=nn(t,e$$1,!0);var n$$0=e$$1.dataTransfer.files;if(r&&!t.isReadOnly())if(n$$0&&n$$0.length&&window.FileReader&&window.File){var i=n$$0.length;var o=Array(i);var s=0;var a$$0=function(e$$0,n){if(!t.options.allowDropFileTypes||-1!=B(t.options.allowDropFileTypes,e$$0.type)){var l=new FileReader;
l.onload=jn(t,function(){var e=l.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),o[n]=e,++s==i){var a={from:r=Ce(t.doc,r),to:r,text:t.doc.splitLines(o.join(t.doc.lineSeparator())),origin:"paste"};to(t.doc,a),Ki(t.doc,mi(r,yi(a)))}}),l.readAsText(e$$0)}};for(var u=0;u<i;++u)a$$0(n$$0[u],u)}else{if(t.state.draggingText&&t.doc.sel.contains(r)>-1)return t.state.draggingText(e$$1),void setTimeout(function(){return t.display.input.focus()},20);try{var c=e$$1.dataTransfer.getData("Text");if(c){var h;
if(t.state.draggingText&&!t.state.draggingText.copy&&(h=t.listSelections()),Xi(t.doc,mi(r,r)),h)for(var f=0;f<h.length;++f)lo(t.doc,"",h[f].anchor,h[f].head,"drag");t.replaceSelection(c,"around","paste"),t.display.input.focus()}}catch(e$$2){}}}}function To(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Mo(e){if(document.getElementsByClassName){var t=document.getElementsByClassName("CodeMirror");for(var r=0;r<t.length;r++){var n=
t[r].CodeMirror;n&&e(n)}}}function Oo(){var e;No||(Je(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,Mo(Ao)},100))}),Je(window,"blur",function(){return Mo(gn)}),No=!0)}function Ao(e){var t=e.display;t.lastWrapHeight==t.wrapper.clientHeight&&t.lastWrapWidth==t.wrapper.clientWidth||(t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize())}function Eo(e){var t;var r;var n;var i;var o=e.split(/-(?!$)/);e=o[o.length-1];for(var l=0;l<o.length-1;l++){var s=
o[l];if(/^(cmd|meta|m)$/i.test(s))i=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))r=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);n=!0}}return t&&(e="Alt-"+e),r&&(e="Ctrl-"+e),i&&(e="Cmd-"+e),n&&(e="Shift-"+e),e}function zo(e){var t={};for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];if(/^(name|fallthrough|(de|at)tach)$/.test(r))continue;if("..."==n){delete e[r];continue}var i=$(r.split(" "),Eo);for(var o=0;o<i.length;o++){var l=void 0;
var s=void 0;o==i.length-1?(s=i.join(" "),l=n):(s=i.slice(0,o+1).join(" "),l="...");var a=t[s];if(a){if(a!=l)throw new Error("Inconsistent bindings for "+s);}else t[s]=l}delete e[r]}for(var u in t)e[u]=t[u];return e}function Io(e,t,r,n){var i=(t=Uo(t)).call?t.call(e,n):t[e];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&r(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return Io(e,t.fallthrough,r,n);for(var o=0;o<t.fallthrough.length;o++){var l=
Io(e,t.fallthrough[o],r,n);if(l)return l}}}function Ro(e){var t="string"==typeof e?e:Wo[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function Bo(e,t,r){var n=e;return t.altKey&&"Alt"!=n&&(e="Alt-"+e),(C?t.metaKey:t.ctrlKey)&&"Ctrl"!=n&&(e="Ctrl-"+e),(C?t.ctrlKey:t.metaKey)&&"Cmd"!=n&&(e="Cmd-"+e),!r&&t.shiftKey&&"Shift"!=n&&(e="Shift-"+e),e}function Go(e,t){if(h$$2&&34==e.keyCode&&e["char"])return!1;var r=Wo[e.keyCode];return null!=r&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(r=e.code),
Bo(r,e,t))}function Uo(e){return"string"==typeof e?Po[e]:e}function Vo(e,t$$0){var r=e.doc.sel.ranges;var n=[];for(var i=0;i<r.length;i++){for(var o=t$$0(r[i]);n.length&&ve(o.from,q(n).to)<=0;){var l=n.pop();if(ve(l.from,o.from)<0){o.from=l.from;break}}n.push(o)}Kn(e,function(){for(var t=n.length-1;t>=0;t--)lo(e.doc,"",n[t].from,n[t].to,"+delete");Sn(e)})}function Ko(e,t,r){var n=oe(e.text,t+r,r);return n<0||n>e.text.length?null:n}function jo(e,t,r){var n=Ko(e,t.ch,r);return null==n?null:new ge(t.line,
n,r<0?"after":"before")}function Xo(e$$0,t,r,n,i){if(e$$0){var o=Ze(r,t.doc.direction);if(o){var l;var s=i<0?q(o):o[0];var a=i<0==(1==s.level)?"after":"before";if(s.level>0||"rtl"==t.doc.direction){var u=Nr(t,r);l=i<0?r.text.length-1:0;var c=Or(t,u,l).top;l=le(function(e){return Or(t,u,e).top==c},i<0==(1==s.level)?s.from:s.to-1,l),"before"==a&&(l=Ko(r,l,1))}else l=i<0?s.to:s.from;return new ge(n,l,a)}}return new ge(n,i<0?r.text.length:0,i<0?"before":"after")}function _o(e,t){var r=se(e.doc,t);var n=
Be(r);return n!=r&&(t=he(n)),Xo(!0,e,n,t,1)}function qo(e,t){var r=_o(e,t.line);var n=se(e.doc,r.line);var i=Ze(n,e.doc.direction);if(!i||0==i[0].level){var o=Math.max(0,n.text.search(/\S/));var l=t.line==r.line&&t.ch<=o&&t.ch;return ge(r.line,l?0:o,r.sticky)}return r}function $o(e,t,r){if("string"==typeof t&&!(t=Yo[t]))return!1;e.display.input.ensurePolled();var n=e.display.shift;var i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r&&(e.display.shift=!1),i=t(e)!=U}finally{e.display.shift=n,e.state.suppressEdits=
!1}return i}function Qo(e,t,r,n){var i=e.state.keySeq;if(i){if(Ro(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:Zo.set(50,function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())}),Jo(e,i+" "+t,r,n))return!0}return Jo(e,t,r,n)}function Jo(e$$0,t$$0,r$$0,n$$0){var i$$0=function(e,t,r){for(var n=0;n<e.state.keyMaps.length;n++){var i=Io(t,e.state.keyMaps[n],r,e);if(i)return i}return e.options.extraKeys&&Io(t,e.options.extraKeys,r,e)||Io(t,e.options.keyMap,r,e)}(e$$0,t$$0,
n$$0);return"multi"==i$$0&&(e$$0.state.keySeq=t$$0),"handled"==i$$0&&or(e$$0,"keyHandled",e$$0,t$$0,r$$0),"handled"!=i$$0&&"multi"!=i$$0||(st(r$$0),hn(e$$0)),!!i$$0}function el(e,t$$0){var r=Go(t$$0,!0);return!!r&&(t$$0.shiftKey&&!e.state.keySeq?Qo(e,"Shift-"+r,t$$0,function(t){return $o(e,t,!0)})||Qo(e,r,t$$0,function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return $o(e,t)}):Qo(e,r,t$$0,function(t){return $o(e,t)}))}function rl(e$$1){var t$$0=this;if(t$$0.curOp.focus=D(),!nt(t$$0,e$$1)){l$$3&&
s$$2<11&&27==e$$1.keyCode&&(e$$1.returnValue=!1);var r$$0=e$$1.keyCode;t$$0.display.shift=16==r$$0||e$$1.shiftKey;var n=el(t$$0,e$$1);h$$2&&(tl=n?r$$0:null,!n&&88==r$$0&&!xt&&(y?e$$1.metaKey:e$$1.ctrlKey)&&t$$0.replaceSelection("",null,"cut")),18!=r$$0||/\bCodeMirror-crosshair\b/.test(t$$0.display.lineDiv.className)||function(e$$0){function r(e){18!=e.keyCode&&e.altKey||(T(t,"CodeMirror-crosshair"),tt(document,"keyup",r),tt(document,"mouseover",r))}var t=e$$0.display.lineDiv;H(t,"CodeMirror-crosshair"),
Je(document,"keyup",r),Je(document,"mouseover",r)}(t$$0)}}function nl(e){16==e.keyCode&&(this.doc.sel.shift=!1),nt(this,e)}function il(e$$0){var t=this;if(!(yr(t.display,e$$0)||nt(t,e$$0)||e$$0.ctrlKey&&!e$$0.altKey||y&&e$$0.metaKey)){var r=e$$0.keyCode;var n=e$$0.charCode;if(h$$2&&r==tl)return tl=null,void st(e$$0);if(!h$$2||e$$0.which&&!(e$$0.which<10)||!el(t,e$$0)){var i;var o=String.fromCharCode(null==n?r:n);if("\b"!=o)if(!Qo(i=t,"'"+o+"'",e$$0,function(e){return $o(i,e,!0)}))t.display.input.onKeyPress(e$$0)}}}
function al(e$$2){var t$$3=this;var r$$2=t$$3.display;if(!(nt(t$$3,e$$2)||r$$2.activeTouch&&r$$2.input.supportsTouch()))if(r$$2.input.ensurePolled(),r$$2.shift=e$$2.shiftKey,yr(r$$2,e$$2))a$$3||(r$$2.scroller.draggable=!1,setTimeout(function(){return r$$2.scroller.draggable=!0},100));else if(!hl(t$$3,e$$2)){var n$$2;var i$$3;var o$$2;var u$$3=nn(t$$3,e$$2);var c$$2=ft(e$$2);var h$$1=u$$3?(n$$2=u$$3,i$$3=c$$2,o$$2=+new Date,ll&&ll.compare(o$$2,n$$2,i$$3)?(ol=ll=null,"triple"):ol&&ol.compare(o$$2,n$$2,
i$$3)?(ll=new sl(o$$2,n$$2,i$$3),ol=null,"double"):(ol=new sl(o$$2,n$$2,i$$3),ll=null,"single")):"single";window.focus(),1==c$$2&&t$$3.state.selectingText&&t$$3.state.selectingText(e$$2),u$$3&&function(e,t$$0,r,n$$0,i){var o="Click";"double"==n$$0?o="Double"+o:"triple"==n$$0&&(o="Triple"+o);return Qo(e,Bo(o=(1==t$$0?"Left":2==t$$0?"Middle":"Right")+o,i),i,function(t){if("string"==typeof t&&(t=Yo[t]),!t)return!1;var n=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n=t(e,r)!=U}finally{e.state.suppressEdits=
!1}return n})}(t$$3,c$$2,u$$3,h$$1,e$$2)||(1==c$$2?u$$3?function(e$$1,t$$2,r$$1,n$$1){l$$3?setTimeout(E(fn,e$$1),0):e$$1.curOp.focus=D();var i$$2;var o$$1=function(e,t,r){var n=e.getOption("configureMouse");var i=n?n(e,t,r):{};if(null==i.unit){var o=b?r.shiftKey&&r.metaKey:r.altKey;i.unit=o?"rectangle":"single"==t?"char":"double"==t?"word":"line"}(null==i.extend||e.doc.extend)&&(i.extend=e.doc.extend||r.shiftKey);null==i.addNew&&(i.addNew=y?r.metaKey:r.ctrlKey);null==i.moveOnDrag&&(i.moveOnDrag=!(y?
r.altKey:r.ctrlKey));return i}(e$$1,r$$1,n$$1);var u$$2=e$$1.doc.sel;e$$1.options.dragDrop&&gt&&!e$$1.isReadOnly()&&"single"==r$$1&&(i$$2=u$$2.contains(t$$2))>-1&&(ve((i$$2=u$$2.ranges[i$$2]).from(),t$$2)<0||t$$2.xRel>0)&&(ve(i$$2.to(),t$$2)>0||t$$2.xRel<0)?function(e$$0,t$$0,r,n){var i=e$$0.display;var o=!1;var u=jn(e$$0,function(t){a$$3&&(i.scroller.draggable=!1),e$$0.state.draggingText=!1,tt(document,"mouseup",u),tt(document,"mousemove",c),tt(i.scroller,"dragstart",h),tt(i.scroller,"drop",u),o||
(st(t),n.addNew||Bi(e$$0.doc,r,null,null,n.extend),a$$3||l$$3&&9==s$$2?setTimeout(function(){document.body.focus(),i.input.focus()},20):i.input.focus())});var c=function(e){o=o||Math.abs(t$$0.clientX-e.clientX)+Math.abs(t$$0.clientY-e.clientY)>=10};var h=function(){return o=!0};a$$3&&(i.scroller.draggable=!0);e$$0.state.draggingText=u,u.copy=!n.moveOnDrag,i.scroller.dragDrop&&i.scroller.dragDrop();Je(document,"mouseup",u),Je(document,"mousemove",c),Je(i.scroller,"dragstart",h),Je(i.scroller,"drop",
u),dn(e$$0),setTimeout(function(){return i.input.focus()},20)}(e$$1,n$$1,t$$2,o$$1):function(e$$0,t$$1,r$$0,n$$0){function f$$1(t$$0){if(0!=ve(h$$0,t$$0))if(h$$0=t$$0,"rectangle"==n$$0.unit){var i$$0=[];var u$$0=e$$0.options.tabSize;var c$$0=I(se(o$$0,r$$0.line).text,r$$0.ch,u$$0);var f$$0=I(se(o$$0,t$$0.line).text,t$$0.ch,u$$0);var d$$0=Math.min(c$$0,f$$0);var p$$0=Math.max(c$$0,f$$0);var g$$0=Math.min(r$$0.line,t$$0.line);for(var v=Math.min(e$$0.lastLine(),Math.max(r$$0.line,t$$0.line));g$$0<=v;g$$0++){var m=
se(o$$0,g$$0).text;var y=X(m,d$$0,u$$0);d$$0==p$$0?i$$0.push(new gi(ge(g$$0,y),ge(g$$0,y))):m.length>y&&i$$0.push(new gi(ge(g$$0,y),ge(g$$0,X(m,p$$0,u$$0))))}i$$0.length||i$$0.push(new gi(r$$0,r$$0)),ji(o$$0,vi(a$$0.ranges.slice(0,s$$0).concat(i$$0),s$$0),{origin:"*mouse",scroll:!1}),e$$0.scrollIntoView(t$$0)}else{var b;var w=l$$0;var x=ul(e$$0,t$$0,n$$0.unit);var C=w.anchor;ve(x.anchor,C)>0?(b=x.head,C=we(w.from(),x.anchor)):(b=x.anchor,C=be(w.to(),x.head));var S=a$$0.ranges.slice(0);S[s$$0]=function(e,
t){var r=t.anchor;var n=t.head;var i=se(e.doc,r.line);if(0==ve(r,n)&&r.sticky==n.sticky)return t;var o=Ze(i);if(!o)return t;var l=qe(o,r.ch,r.sticky);var s=o[l];if(s.from!=r.ch&&s.to!=r.ch)return t;var a;var u=l+(s.from==r.ch==(1!=s.level)?0:1);if(0==u||u==o.length)return t;if(n.line!=r.line)a=(n.line-r.line)*("ltr"==e.doc.direction?1:-1)>0;else{var c=qe(o,n.ch,n.sticky);var h=c-l||(n.ch-r.ch)*(1==s.level?-1:1);a=c==u-1||c==u?h<0:h>0}var f=o[u+(a?-1:0)];var d=a==(1==f.level);var p=d?f.from:f.to;var g=
d?"after":"before";return r.ch==p&&r.sticky==g?t:new gi(new ge(r.line,p,g),n)}(e$$0,new gi(Ce(o$$0,C),b)),ji(o$$0,vi(S,s$$0),K)}}function g$$1(t){e$$0.state.selectingText=!1,p$$1=1/0,st(t),i$$1.input.focus(),tt(document,"mousemove",v$$0),tt(document,"mouseup",m$$0),o$$0.history.lastSelOrigin=null}var i$$1=e$$0.display;var o$$0=e$$0.doc;st(t$$1);var l$$0;var s$$0;var a$$0=o$$0.sel;var u$$1=a$$0.ranges;n$$0.addNew&&!n$$0.extend?(s$$0=o$$0.sel.contains(r$$0),l$$0=s$$0>-1?u$$1[s$$0]:new gi(r$$0,r$$0)):
(l$$0=o$$0.sel.primary(),s$$0=o$$0.sel.primIndex);if("rectangle"==n$$0.unit)n$$0.addNew||(l$$0=new gi(r$$0,r$$0)),r$$0=nn(e$$0,t$$1,!0,!0),s$$0=-1;else{var c$$1=ul(e$$0,r$$0,n$$0.unit);l$$0=n$$0.extend?Ri(l$$0,c$$1.anchor,c$$1.head,n$$0.extend):c$$1}n$$0.addNew?-1==s$$0?(s$$0=u$$1.length,ji(o$$0,vi(u$$1.concat([l$$0]),s$$0),{scroll:!1,origin:"*mouse"})):u$$1.length>1&&u$$1[s$$0].empty()&&"char"==n$$0.unit&&!n$$0.extend?(ji(o$$0,vi(u$$1.slice(0,s$$0).concat(u$$1.slice(s$$0+1)),0),{scroll:!1,origin:"*mouse"}),
a$$0=o$$0.sel):Ui(o$$0,s$$0,l$$0,K):(s$$0=0,ji(o$$0,new pi([l$$0],0),K),a$$0=o$$0.sel);var h$$0=r$$0;var d$$1=i$$1.wrapper.getBoundingClientRect();var p$$1=0;var v$$0=jn(e$$0,function(t$$0){ft(t$$0)?function t(r){var l=++p$$1;var s=nn(e$$0,r,!0,"rectangle"==n$$0.unit);if(!s)return;if(0!=ve(s,h$$0)){e$$0.curOp.focus=D(),f$$1(s);var a=yn(i$$1,o$$0);(s.line>=a.to||s.line<a.from)&&setTimeout(jn(e$$0,function(){p$$1==l&&t(r)}),150)}else{var u=r.clientY<d$$1.top?-20:r.clientY>d$$1.bottom?20:0;u&&setTimeout(jn(e$$0,
function(){p$$1==l&&(i$$1.scroller.scrollTop+=u,t(r))}),50)}}(t$$0):g$$1(t$$0)});var m$$0=jn(e$$0,g$$1);e$$0.state.selectingText=m$$0,Je(document,"mousemove",v$$0),Je(document,"mouseup",m$$0)}(e$$1,n$$1,t$$2,o$$1)}(t$$3,u$$3,h$$1,e$$2):ht(e$$2)==r$$2.scroller&&st(e$$2):2==c$$2?(u$$3&&Bi(t$$3.doc,u$$3),setTimeout(function(){return r$$2.input.focus()},20)):3==c$$2&&(S?fl(t$$3,e$$2):dn(t$$3)))}}function ul(e,t,r){if("char"==r)return new gi(t,t);if("word"==r)return e.findWordAt(t);if("line"==r)return new gi(ge(t.line,
0),Ce(e.doc,ge(t.line+1,0)));var n=r(e,t);return new gi(n.from,n.to)}function cl(e,t,r,n){var i;var o;if(t.touches)i=t.touches[0].clientX,o=t.touches[0].clientY;else try{i=t.clientX,o=t.clientY}catch(t$$0){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;n&&st(t);var l=e.display;var s=l.lineDiv.getBoundingClientRect();if(o>s.bottom||!ot(e,r))return ut(t);o-=s.top-l.viewOffset;for(var a=0;a<e.options.gutters.length;++a){var u=l.gutters.childNodes[a];if(u&&u.getBoundingClientRect().right>=
i)return rt(e,r,e,fe(e.doc,o),e.options.gutters[a],t),ut(t)}}function hl(e,t){return cl(e,t,"gutterClick",!0)}function fl(e$$0,t$$0){yr(e$$0.display,t$$0)||function(e,t){if(!ot(e,"gutterContextMenu"))return!1;return cl(e,t,"gutterContextMenu",!1)}(e$$0,t$$0)||nt(e$$0,t$$0,"contextmenu")||e$$0.display.input.onContextMenu(t$$0)}function dl(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Er(e)}function ml(e){si(e),_n(e),
bn(e)}function yl(e,t,r){if(!t!=!(r&&r!=pl)){var n=e.display.dragFunctions;var i=t?Je:tt;i(e.display.scroller,"dragstart",n.start),i(e.display.scroller,"dragenter",n.enter),i(e.display.scroller,"dragover",n.over),i(e.display.scroller,"dragleave",n.leave),i(e.display.scroller,"drop",n.drop)}}function bl(e){e.options.lineWrapping?(H(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(T(e.display.wrapper,"CodeMirror-wrap"),Ye(e)),rn(e),_n(e),Er(e),setTimeout(function(){return Hn(e)},
100)}function wl(e$$1,t$$2){var n$$1=this;if(!(this instanceof wl))return new wl(e$$1,t$$2);this.options=t$$2=t$$2?z(t$$2):{},z(gl,t$$2,!1),ai(t$$2);var i$$1=t$$2.value;"string"==typeof i$$1&&(i$$1=new So(i$$1,t$$2.mode,null,t$$2.lineSeparator,t$$2.direction)),this.doc=i$$1;var o$$1=new wl.inputStyles[t$$2.inputStyle](this);var u=this.display=new function(e,t,n){var i=this;this.input=n,i.scrollbarFiller=O("div",null,"CodeMirror-scrollbar-filler"),i.scrollbarFiller.setAttribute("cm-not-content","true"),
i.gutterFiller=O("div",null,"CodeMirror-gutter-filler"),i.gutterFiller.setAttribute("cm-not-content","true"),i.lineDiv=A("div",null,"CodeMirror-code"),i.selectionDiv=O("div",null,null,"position: relative; z-index: 1"),i.cursorDiv=O("div",null,"CodeMirror-cursors"),i.measure=O("div",null,"CodeMirror-measure"),i.lineMeasure=O("div",null,"CodeMirror-measure"),i.lineSpace=A("div",[i.measure,i.lineMeasure,i.selectionDiv,i.cursorDiv,i.lineDiv],null,"position: relative; outline: none");var o=A("div",[i.lineSpace],
"CodeMirror-lines");i.mover=O("div",[o],null,"position: relative"),i.sizer=O("div",[i.mover],"CodeMirror-sizer"),i.sizerWidth=null,i.heightForcer=O("div",null,null,"position: absolute; height: "+G+"px; width: 1px;"),i.gutters=O("div",null,"CodeMirror-gutters"),i.lineGutter=null,i.scroller=O("div",[i.sizer,i.heightForcer,i.gutters],"CodeMirror-scroll"),i.scroller.setAttribute("tabIndex","-1"),i.wrapper=O("div",[i.scrollbarFiller,i.gutterFiller,i.scroller],"CodeMirror"),l$$3&&s$$2<8&&(i.gutters.style.zIndex=
-1,i.scroller.style.paddingRight=0),a$$3||r$$3&&m||(i.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(i.wrapper):e(i.wrapper)),i.viewFrom=i.viewTo=t.first,i.reportedViewFrom=i.reportedViewTo=t.first,i.view=[],i.renderedView=null,i.externalMeasured=null,i.viewOffset=0,i.lastWrapHeight=i.lastWrapWidth=0,i.updateLineNumbers=null,i.nativeBarWidth=i.barHeight=i.barWidth=0,i.scrollbarsClipped=!1,i.lineNumWidth=i.lineNumInnerWidth=i.lineNumChars=null,i.alignWidgets=!1,i.cachedCharWidth=i.cachedTextHeight=
i.cachedPaddingH=null,i.maxLine=null,i.maxLineLength=0,i.maxLineChanged=!1,i.wheelDX=i.wheelDY=i.wheelStartX=i.wheelStartY=null,i.shift=!1,i.selForContextMenu=null,i.activeTouch=null,n.init(i)}(e$$1,i$$1,o$$1);for(var c in u.wrapper.CodeMirror=this,si(this),dl(this),t$$2.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),En(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,
draggingText:!1,highlight:new R,keySeq:null,specialChars:null},t$$2.autofocus&&!m&&u.input.focus(),l$$3&&s$$2<11&&setTimeout(function(){return n$$1.display.input.reset(!0)},20),function(e$$0){function i$$0(){t$$1.activeTouch&&(r$$0=setTimeout(function(){return t$$1.activeTouch=null},1E3),(n$$0=t$$1.activeTouch).end=+new Date)}function o$$0(e,t){if(null==t.left)return!0;var r=t.left-e.left;var n=t.top-e.top;return r*r+n*n>400}var t$$1=e$$0.display;Je(t$$1.scroller,"mousedown",jn(e$$0,al)),Je(t$$1.scroller,
"dblclick",l$$3&&s$$2<11?jn(e$$0,function(t){if(!nt(e$$0,t)){var r=nn(e$$0,t);if(r&&!hl(e$$0,t)&&!yr(e$$0.display,t)){st(t);var n=e$$0.findWordAt(r);Bi(e$$0.doc,n.anchor,n.head)}}}):function(t){return nt(e$$0,t)||st(t)});S||Je(t$$1.scroller,"contextmenu",function(t){return fl(e$$0,t)});var r$$0;var n$$0={end:0};Je(t$$1.scroller,"touchstart",function(i){if(!nt(e$$0,i)&&!function(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}(i)&&!hl(e$$0,i)){t$$1.input.ensurePolled(),
clearTimeout(r$$0);var o=+new Date;t$$1.activeTouch={start:o,moved:!1,prev:o-n$$0.end<=300?n$$0:null},1==i.touches.length&&(t$$1.activeTouch.left=i.touches[0].pageX,t$$1.activeTouch.top=i.touches[0].pageY)}}),Je(t$$1.scroller,"touchmove",function(){t$$1.activeTouch&&(t$$1.activeTouch.moved=!0)}),Je(t$$1.scroller,"touchend",function(r){var n=t$$1.activeTouch;if(n&&!yr(t$$1,r)&&null!=n.left&&!n.moved&&new Date-n.start<300){var l;var s=e$$0.coordsChar(t$$1.activeTouch,"page");l=!n.prev||o$$0(n,n.prev)?
new gi(s,s):!n.prev.prev||o$$0(n,n.prev.prev)?e$$0.findWordAt(s):new gi(ge(s.line,0),Ce(e$$0.doc,ge(s.line+1,0))),e$$0.setSelection(l.anchor,l.head),e$$0.focus(),st(r)}i$$0()}),Je(t$$1.scroller,"touchcancel",i$$0),Je(t$$1.scroller,"scroll",function(){t$$1.scroller.clientHeight&&(Mn(e$$0,t$$1.scroller.scrollTop),On(e$$0,t$$1.scroller.scrollLeft,!0),rt(e$$0,"scroll",e$$0))}),Je(t$$1.scroller,"mousewheel",function(t){return di(e$$0,t)}),Je(t$$1.scroller,"DOMMouseScroll",function(t){return di(e$$0,t)}),
Je(t$$1.wrapper,"scroll",function(){return t$$1.wrapper.scrollTop=t$$1.wrapper.scrollLeft=0}),t$$1.dragFunctions={enter:function(t){nt(e$$0,t)||ct(t)},over:function(t$$0){nt(e$$0,t$$0)||(!function(e,t){var r=nn(e,t);if(r){var n=document.createDocumentFragment();an(e,r,n),e.display.dragCursor||(e.display.dragCursor=O("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),N(e.display.dragCursor,n)}}(e$$0,t$$0),ct(t$$0))},start:function(t$$0){return function(e,
t){if(l$$3&&(!e.state.draggingText||+new Date-Lo<100))ct(t);else if(!nt(e,t)&&!yr(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!f)){var r=O("img",null,null,"position: fixed; left: 0; top: 0;");r.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw\x3d\x3d",h$$2&&(r.width=r.height=1,e.display.wrapper.appendChild(r),r._top=r.offsetTop),t.dataTransfer.setDragImage(r,0,0),h$$2&&r.parentNode.removeChild(r)}}(e$$0,
t$$0)},drop:jn(e$$0,ko),leave:function(t){nt(e$$0,t)||To(e$$0)}};var a=t$$1.input.getField();Je(a,"keyup",function(t){return nl.call(e$$0,t)}),Je(a,"keydown",jn(e$$0,rl)),Je(a,"keypress",jn(e$$0,il)),Je(a,"focus",function(t){return pn(e$$0,t)}),Je(a,"blur",function(t){return gn(e$$0,t)})}(this),Oo(),In(this),this.curOp.forceUpdate=!0,Mi(this,i$$1),t$$2.autofocus&&!m||this.hasFocus()?setTimeout(E(pn,this),20):gn(this),vl)vl.hasOwnProperty(c)&&vl[c](n$$1,t$$2[c],pl);wn(this),t$$2.finishInit&&t$$2.finishInit(this);
for(var d=0;d<xl.length;++d)xl[d](n$$1);Rn(this),a$$3&&t$$2.lineWrapping&&"optimizelegibility"==getComputedStyle(u.lineDiv).textRendering&&(u.lineDiv.style.textRendering="auto")}function Cl(e,t,r,n){var i;var o=e.doc;null==r&&(r="add"),"smart"==r&&(o.mode.indent?i=zt(e,t).state:r="prev");var l=e.options.tabSize;var s=se(o,t);var a=I(s.text,null,l);s.stateAfter&&(s.stateAfter=null);var u;var c=s.text.match(/^\s*/)[0];if(n||/\S/.test(s.text)){if("smart"==r&&((u=o.mode.indent(i,s.text.slice(c.length),
s.text))==U||u>150)){if(!n)return;r="prev"}}else u=0,r="not";"prev"==r?u=t>o.first?I(se(o,t-1).text,null,l):0:"add"==r?u=a+e.options.indentUnit:"subtract"==r?u=a-e.options.indentUnit:"number"==typeof r&&(u=a+r),u=Math.max(0,u);var h="";var f=0;if(e.options.indentWithTabs)for(var d=Math.floor(u/l);d;--d)f+=l,h+="\t";if(f<u&&(h+=_(u-f)),h!=c)return lo(o,h,ge(t,0),ge(t,c.length),"+input"),s.stateAfter=null,!0;for(var p=0;p<o.sel.ranges.length;p++){var g=o.sel.ranges[p];if(g.head.line==t&&g.head.ch<c.length){var v=
ge(t,c.length);Ui(o,p,new gi(v,v));break}}}function Ll(e){Sl=e}function kl(e$$0,t,r,n,i){var o=e$$0.doc;e$$0.display.shift=!1,n||(n=o.sel);var l;var s=e$$0.state.pasteIncoming||"paste"==i;var a=bt(t);var u=null;if(s&&n.ranges.length>1)if(Sl&&Sl.text.join("\n")==t){if(n.ranges.length%Sl.text.length==0){u=[];for(var c=0;c<Sl.text.length;c++)u.push(o.splitLines(Sl.text[c]))}}else a.length==n.ranges.length&&e$$0.options.pasteLinesPerSelection&&(u=$(a,function(e){return[e]}));for(var h=n.ranges.length-
1;h>=0;h--){var f=n.ranges[h];var d=f.from();var p=f.to();f.empty()&&(r&&r>0?d=ge(d.line,d.ch-r):e$$0.state.overwrite&&!s?p=ge(p.line,Math.min(se(o,p.line).text.length,p.ch+q(a).length)):Sl&&Sl.lineWise&&Sl.text.join("\n")==t&&(d=p=ge(d.line,0))),l=e$$0.curOp.updateInput;var g={from:d,to:p,text:u?u[h%u.length]:a,origin:i||(s?"paste":e$$0.state.cutIncoming?"cut":"+input")};to(e$$0.doc,g),or(e$$0,"inputRead",e$$0,g)}t&&!s&&Ml(e$$0,t),Sn(e$$0),e$$0.curOp.updateInput=l,e$$0.curOp.typing=!0,e$$0.state.pasteIncoming=
e$$0.state.cutIncoming=!1}function Tl(e,t){var r=e.clipboardData&&e.clipboardData.getData("Text");if(r)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||Kn(t,function(){return kl(t,r,0,null,"paste")}),!0}function Ml(e,t){if(e.options.electricChars&&e.options.smartIndent){var r=e.doc.sel;for(var n=r.ranges.length-1;n>=0;n--){var i=r.ranges[n];if(!(i.head.ch>100||n&&r.ranges[n-1].head.line==i.head.line)){var o=e.getModeAt(i.head);var l=!1;if(o.electricChars)for(var s=0;s<o.electricChars.length;s++){if(t.indexOf(o.electricChars.charAt(s))>
-1){l=Cl(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(se(e.doc,i.head.line).text.slice(0,i.head.ch))&&(l=Cl(e,i.head.line,"smart"));l&&or(e,"electricInput",e,i.head.line)}}}}function Nl(e){var t=[];var r=[];for(var n=0;n<e.doc.sel.ranges.length;n++){var i=e.doc.sel.ranges[n].head.line;var o={anchor:ge(i,0),head:ge(i+1,0)};r.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:r}}function Ol(e,t){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize",
"off"),e.setAttribute("spellcheck",!!t)}function Al(){var e=O("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none");var t=O("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return a$$3?e.style.width="1000px":e.setAttribute("wrap","off"),g&&(e.style.border="1px solid black"),Ol(e),t}function Wl(e$$2,t$$2,r$$1,n$$2,i$$0){function a$$0(n$$1){var o$$1;var l$$1;if(null==(o$$1=i$$0?function(e$$1,t$$1,r$$0,n$$0){var i=
Ze(t$$1,e$$1.doc.direction);if(!i)return jo(t$$1,r$$0,n$$0);r$$0.ch>=t$$1.text.length?(r$$0.ch=t$$1.text.length,r$$0.sticky="before"):r$$0.ch<=0&&(r$$0.ch=0,r$$0.sticky="after");var o$$0=qe(i,r$$0.ch,r$$0.sticky);var l$$0=i[o$$0];if("ltr"==e$$1.doc.direction&&l$$0.level%2==0&&(n$$0>0?l$$0.to>r$$0.ch:l$$0.from<r$$0.ch))return jo(t$$1,r$$0,n$$0);var s$$0;var a=function(e,r){return Ko(t$$1,e instanceof ge?e.ch:e,r)};var u$$0=function(r){return e$$1.options.lineWrapping?(s$$0=s$$0||Nr(e$$1,t$$1),_r(e$$1,
t$$1,s$$0,r)):{begin:0,end:t$$1.text.length}};var c=u$$0("before"==r$$0.sticky?a(r$$0,-1):r$$0.ch);if("rtl"==e$$1.doc.direction||1==l$$0.level){var h=1==l$$0.level==n$$0<0;var f=a(r$$0,h?1:-1);if(null!=f&&(h?f<=l$$0.to&&f<=c.end:f>=l$$0.from&&f>=c.begin)){var d=h?"before":"after";return new ge(r$$0.line,f,d)}}var p=function(e$$0,t$$0,n){for(var o=function(e,t){return t?new ge(r$$0.line,a(e,1),"before"):new ge(r$$0.line,e,"after")};e$$0>=0&&e$$0<i.length;e$$0+=t$$0){var l=i[e$$0];var s=t$$0>0==(1!=
l.level);var u=s?n.begin:a(n.end,-1);if(l.from<=u&&u<l.to)return o(u,s);if(u=s?l.from:a(l.to,-1),n.begin<=u&&u<n.end)return o(u,s)}};var g=p(o$$0+n$$0,n$$0,c);if(g)return g;var v=n$$0>0?c.end:a(c.begin,-1);return null==v||n$$0>0&&v==t$$1.text.length||!(g=p(n$$0>0?0:i.length-1,n$$0,u$$0(v)))?null:g}(e$$2.cm,s$$1,t$$2,r$$1):jo(s$$1,t$$2,r$$1))){if(n$$1||(l$$1=t$$2.line+r$$1)<e$$2.first||l$$1>=e$$2.first+e$$2.size||(t$$2=new ge(l$$1,t$$2.ch,t$$2.sticky),!(s$$1=se(e$$2,l$$1))))return!1;t$$2=Xo(i$$0,e$$2.cm,
s$$1,t$$2.line,r$$1)}else t$$2=o$$1;return!0}var o$$2=t$$2;var l$$2=r$$1;var s$$1=se(e$$2,t$$2.line);if("char"==n$$2)a$$0();else if("column"==n$$2)a$$0(!0);else if("word"==n$$2||"group"==n$$2){var u$$1=null;var c$$0="group"==n$$2;var h$$0=e$$2.cm&&e$$2.cm.getHelper(t$$2,"wordChars");for(var f$$0=!0;!(r$$1<0)||a$$0(!f$$0);f$$0=!1){var d$$0=s$$1.text.charAt(t$$2.ch)||"\n";var p$$0=te(d$$0,h$$0)?"w":c$$0&&"\n"==d$$0?"n":!c$$0||/\s/.test(d$$0)?null:"p";if(!c$$0||f$$0||p$$0||(p$$0="s"),u$$1&&u$$1!=p$$0){r$$1<
0&&(r$$1=1,a$$0(),t$$2.sticky="after");break}if(p$$0&&(u$$1=p$$0),r$$1>0&&!a$$0(!f$$0))break}}var g$$0=Zi(e$$2,t$$2,o$$2,l$$2,!0);return me(o$$2,g$$0)&&(g$$0.hitSide=!0),g$$0}function Dl(e,t,r,n){var i;var o;var l=e.doc;var s=t.left;if("page"==n){var a=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);var u=Math.max(a-.5*Zr(e.display),3);i=(r>0?t.bottom:t.top)+r*u}else"line"==n&&(i=r>0?t.bottom+3:t.top-3);for(;(o=Xr(e,s,i)).outside;){if(r<0?i<=0:i>=
l.height){o.hitSide=!0;break}i+=5*r}return o}function Fl(e,t){var r=Mr(e,t.line);if(!r||r.hidden)return null;var n=se(e.doc,t.line);var i=kr(r,n,t.line);var o=Ze(n,e.doc.direction);var l="left";o&&(l=qe(o,t.ch)%2?"right":"left");var s=Dr(i.map,t.ch,l);return s.offset="right"==s.collapse?s.end:s.start,s}function Pl(e,t){return t&&(e.bad=!0),e}function El(e,t,r){var n;if(t==e.display.lineDiv){if(!(n=e.display.lineDiv.childNodes[r]))return Pl(e.clipPos(ge(e.display.viewTo-1)),!0);t=null,r=0}else for(n=
t;;n=n.parentNode){if(!n||n==e.display.lineDiv)return null;if(n.parentNode&&n.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==n)return zl(o,t,r)}}function zl(e,t$$0,r$$0){function c$$0(t,r,n){for(var i=-1;i<(u?u.length:0);i++){var o=i<0?a.map:u[i];for(var l=0;l<o.length;l+=3){var s=o[l+2];if(s==t||s==r){var c=he(i<0?e.line:e.rest[i]);var h=o[l]+n;return(n<0||s!=t)&&(h=o[l+(n?1:0)]),ge(c,h)}}}}var n$$0=e.text.firstChild;var i$$0=!1;if(!t$$0||
!W(n$$0,t$$0))return Pl(ge(he(e.line),0),!0);if(t$$0==n$$0&&(i$$0=!0,t$$0=n$$0.childNodes[r$$0],r$$0=0,!t$$0)){var o$$0=e.rest?q(e.rest):e.line;return Pl(ge(he(o$$0),o$$0.text.length),i$$0)}var l$$0=3==t$$0.nodeType?t$$0:null;var s$$0=t$$0;for(l$$0||1!=t$$0.childNodes.length||3!=t$$0.firstChild.nodeType||(l$$0=t$$0.firstChild,r$$0&&(r$$0=l$$0.nodeValue.length));s$$0.parentNode!=n$$0;)s$$0=s$$0.parentNode;var a=e.measure;var u=a.maps;var h$$0=c$$0(l$$0,s$$0,r$$0);if(h$$0)return Pl(h$$0,i$$0);var f=
s$$0.nextSibling;for(var d=l$$0?l$$0.nodeValue.length-r$$0:0;f;f=f.nextSibling){if(h$$0=c$$0(f,f.firstChild,0))return Pl(ge(h$$0.line,h$$0.ch-d),i$$0);d+=f.textContent.length}var p=s$$0.previousSibling;for(var g=r$$0;p;p=p.previousSibling){if(h$$0=c$$0(p,p.firstChild,-1))return Pl(ge(h$$0.line,h$$0.ch+g),i$$0);g+=p.textContent.length}}var e$$3=navigator.userAgent;var t$$4=navigator.platform;var r$$3=/gecko\/\d/i.test(e$$3);var n$$3=/MSIE \d/.test(e$$3);var i$$4=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e$$3);
var o$$3=/Edge\/(\d+)/.exec(e$$3);var l$$3=n$$3||i$$4||o$$3;var s$$2=l$$3&&(n$$3?document.documentMode||6:+(o$$3||i$$4)[1]);var a$$3=!o$$3&&/WebKit\//.test(e$$3);var u$$4=a$$3&&/Qt\/\d+\.\d+/.test(e$$3);var c$$3=!o$$3&&/Chrome\//.test(e$$3);var h$$2=/Opera\//.test(e$$3);var f=/Apple Computer/.test(navigator.vendor);var d=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e$$3);var p=/PhantomJS/.test(e$$3);var g=!o$$3&&/AppleWebKit/.test(e$$3)&&/Mobile\/\w+/.test(e$$3);var v=/Android/.test(e$$3);var m=g||v||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e$$3);
var y=g||/Mac/.test(t$$4);var b=/\bCrOS\b/.test(e$$3);var w=/win/i.test(t$$4);var x=h$$2&&e$$3.match(/Version\/(\d*\.\d*)/);x&&(x=Number(x[1])),x&&x>=15&&(h$$2=!1,a$$3=!0);var C=y&&(u$$4||h$$2&&(null==x||x<12.11));var S=r$$3||l$$3&&s$$2>=9;var k;var T=function(e,t){var r=e.className;var n=L(t).exec(r);if(n){var i=r.slice(n.index+n[0].length);e.className=r.slice(0,n.index)+(i?n[1]+i:"")}};k=document.createRange?function(e,t,r,n){var i=document.createRange();return i.setEnd(n||e,r),i.setStart(e,t),
i}:function(e,t,r){var n=document.body.createTextRange();try{n.moveToElementText(e.parentNode)}catch(e$$0){return n}return n.collapse(!0),n.moveEnd("character",r),n.moveStart("character",t),n};var P=function(e){e.select()};g?P=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:l$$3&&(P=function(e){try{e.select()}catch(e$$0){}});var R=function(){this.id=null};R.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var G=30;var U={toString:function(){return"CodeMirror.Pass"}};
var V={scroll:!1};var K={origin:"*mouse"};var j={origin:"+move"};var Y=[""];var J=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;var ne=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;
var Le=!1;var ke=!1;var _e=null;var $e=function(){function s(e,t,r){this.level=e,this.from=t,this.to=r}var e$$0="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN";var t$$0="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";
var r$$0=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;var n=/[stwN]/;var i=/[LRr]/;var o=/[Lb1n]/;var l=/[1n]/;return function(a,u){var c="ltr"==u?"L":"R";if(0==a.length||"ltr"==u&&!r$$0.test(a))return!1;var h;var f=a.length;var d=[];for(var p=0;p<f;++p)d.push((h=a.charCodeAt(p))<=247?e$$0.charAt(h):1424<=h&&h<=1524?"R":1536<=h&&h<=1785?t$$0.charAt(h-1536):1774<=h&&h<=2220?"r":8192<=h&&h<=8203?"w":8204==h?"b":"L");var g=0;for(var v=c;g<f;++g){var m=d[g];"m"==m?d[g]=v:v=m}var y=0;for(var b=c;y<f;++y){var w=
d[y];"1"==w&&"r"==b?d[y]="n":i.test(w)&&(b=w,"r"==w&&(d[y]="R"))}var x=1;for(var C=d[0];x<f-1;++x){var S=d[x];"+"==S&&"1"==C&&"1"==d[x+1]?d[x]="1":","!=S||C!=d[x+1]||"1"!=C&&"n"!=C||(d[x]=C),C=S}for(var L=0;L<f;++L){var k=d[L];if(","==k)d[L]="N";else if("%"==k){var T=void 0;for(T=L+1;T<f&&"%"==d[T];++T);var M=L&&"!"==d[L-1]||T<f&&"1"==d[T]?"1":"N";for(var N=L;N<T;++N)d[N]=M;L=T-1}}var O=0;for(var A=c;O<f;++O){var W=d[O];"L"==A&&"1"==W?d[O]="L":i.test(W)&&(A=W)}for(var D=0;D<f;++D)if(n.test(d[D])){var H=
void 0;for(H=D+1;H<f&&n.test(d[H]);++H);var F="L"==(D?d[D-1]:c);var P=F==("L"==(H<f?d[H]:c))?F?"L":"R":c;for(var E=D;E<H;++E)d[E]=P;D=H-1}var z;var I=[];for(var R=0;R<f;)if(o.test(d[R])){var B=R;for(++R;R<f&&o.test(d[R]);++R);I.push(new s(0,B,R))}else{var G=R;var U=I.length;for(++R;R<f&&"L"!=d[R];++R);for(var V=G;V<R;)if(l.test(d[V])){G<V&&I.splice(U,0,new s(1,G,V));var K=V;for(++V;V<R&&l.test(d[V]);++V);I.splice(U,0,new s(2,K,V)),G=V}else++V;G<R&&I.splice(U,0,new s(1,G,R))}return"ltr"==u&&(1==I[0].level&&
(z=a.match(/^\s+/))&&(I[0].from=z[0].length,I.unshift(new s(0,0,z[0].length))),1==q(I).level&&(z=a.match(/\s+$/))&&(q(I).to-=z[0].length,I.push(new s(0,f-z[0].length,f)))),"rtl"==u?I.reverse():I}}();var Qe=[];var Je=function(e,t,r){if(e.addEventListener)e.addEventListener(t,r,!1);else if(e.attachEvent)e.attachEvent("on"+t,r);else{var n=e._handlers||(e._handlers={});n[t]=(n[t]||Qe).concat(r)}};var dt;var pt;var gt=function(){if(l$$3&&s$$2<9)return!1;var e=O("div");return"draggable"in e||"dragDrop"in
e}();var yt;var bt=3!="\n\nb".split(/\n/).length?function(e){var t=0;var r=[];for(var n=e.length;t<=n;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i);var l=o.indexOf("\r");-1!=l?(r.push(o.slice(0,l)),t+=l+1):(r.push(o),t=i+1)}return r}:function(e){return e.split(/\r\n?|\n/)};var wt=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e$$0){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(e$$0){}return!(!t||
t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)};var xt="oncopy"in(yt=O("div"))||(yt.setAttribute("oncopy","return;"),"function"==typeof yt.oncopy);var Ct=null;var St={};var Lt={};var Mt={};var Dt=function(e,t,r){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=r};Dt.prototype.eol=function(){return this.pos>=this.string.length},Dt.prototype.sol=function(){return this.pos==this.lineStart},Dt.prototype.peek=
function(){return this.string.charAt(this.pos)||void 0},Dt.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Dt.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},Dt.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},Dt.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>
e},Dt.prototype.skipToEnd=function(){this.pos=this.string.length},Dt.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},Dt.prototype.backUp=function(e){this.pos-=e},Dt.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=I(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?I(this.string,this.lineStart,this.tabSize):0)},Dt.prototype.indentation=
function(){return I(this.string,null,this.tabSize)-(this.lineStart?I(this.string,this.lineStart,this.tabSize):0)},Dt.prototype.match=function(e$$0,t,r){if("string"!=typeof e$$0){var n=this.string.slice(this.pos).match(e$$0);return n&&n.index>0?null:(n&&!1!==t&&(this.pos+=n[0].length),n)}var i=function(e){return r?e.toLowerCase():e};if(i(this.string.substr(this.pos,e$$0.length))==i(e$$0))return!1!==t&&(this.pos+=e$$0.length),!0},Dt.prototype.current=function(){return this.string.slice(this.start,this.pos)},
Dt.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},Dt.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},Dt.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var Ht=function(e,t){this.state=e,this.lookAhead=t};var Ft=function(e,t,r,n){this.state=t,this.doc=e,this.line=r,this.maxLookAhead=n||0,this.baseTokens=null,this.baseTokenPos=1};Ft.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+
e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},Ft.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},Ft.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Ft.fromSaved=function(e,t,r){return t instanceof Ht?new Ft(e,Ot(e.mode,t.state),r,t.lookAhead):
new Ft(e,Ot(e.mode,t),r)},Ft.prototype.save=function(e){var t=!1!==e?Ot(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Ht(t,this.maxLookAhead):t};var Gt=function(e,t,r){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=r};var jt=function(e,t,r){this.text=e,De(this,t),this.height=r?r(this):1};jt.prototype.lineNo=function(){return he(this)},lt(jt);var Xt={};var Yt={};var nr=null;var ir=null;var Ar;var Wr={left:0,right:0,top:0,bottom:0};var Wn=
function(e,t,r){this.cm=r;var n=this.vert=O("div",[O("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar");var i=this.horiz=O("div",[O("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(n),e(i),Je(n,"scroll",function(){n.clientHeight&&t(n.scrollTop,"vertical")}),Je(i,"scroll",function(){i.clientWidth&&t(i.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,l$$3&&s$$2<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Wn.prototype.update=function(e){var t=
e.scrollWidth>e.clientWidth+1;var r=e.scrollHeight>e.clientHeight+1;var n=e.nativeBarWidth;if(r){this.vert.style.display="block",this.vert.style.bottom=t?n+"px":"0";var i=e.viewHeight-(t?n:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=r?n+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(r?n:0);this.horiz.firstChild.style.width=
Math.max(0,e.scrollWidth-e.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==n&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:r?n:0,bottom:t?n:0}},Wn.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Wn.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=
e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Wn.prototype.zeroWidthHack=function(){var e=y&&!d?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new R,this.disableVert=new R},Wn.prototype.enableZeroWidthBar=function(e,t,r){e.style.pointerEvents="auto",t.set(1E3,function n(){var i=e.getBoundingClientRect();("vert"==r?document.elementFromPoint(i.right-1,(i.top+i.bottom)/
2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1))!=e?e.style.pointerEvents="none":t.set(1E3,n)})},Wn.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var Dn=function(){};Dn.prototype.update=function(){return{bottom:0,right:0}},Dn.prototype.setScrollLeft=function(){},Dn.prototype.setScrollTop=function(){},Dn.prototype.clear=function(){};var Pn={"native":Wn,"null":Dn};var zn=0;var ti=function(e,t,r){var n=e.display;this.viewport=t,
this.visible=yn(n,e.doc,t),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=Sr(e),this.force=r,this.dims=Jr(e),this.events=[]};ti.prototype.signal=function(e,t){ot(e,t)&&this.events.push(arguments)},ti.prototype.finish=function(){for(var e=0;e<this.events.length;e++)rt.apply(null,this.events[e])};var ui=0;var ci=null;l$$3?ci=-.53:r$$3?ci=15:c$$3?ci=-.7:f&&(ci=-1/3);var pi=function(e,t){this.ranges=e,this.primIndex=
t};pi.prototype.primary=function(){return this.ranges[this.primIndex]},pi.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var r=this.ranges[t];var n=e.ranges[t];if(!me(r.anchor,n.anchor)||!me(r.head,n.head))return!1}return!0},pi.prototype.deepCopy=function(){var e=[];for(var t=0;t<this.ranges.length;t++)e[t]=new gi(ye(this.ranges[t].anchor),ye(this.ranges[t].head));return new pi(e,this.primIndex)},
pi.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},pi.prototype.contains=function(e,t){t||(t=e);for(var r=0;r<this.ranges.length;r++){var n=this.ranges[r];if(ve(t,n.from())>=0&&ve(e,n.to())<=0)return r}return-1};var gi=function(e,t){this.anchor=e,this.head=t};gi.prototype.from=function(){return we(this.anchor,this.head)},gi.prototype.to=function(){return be(this.anchor,this.head)},gi.prototype.empty=function(){return this.head.line==
this.anchor.line&&this.head.ch==this.anchor.ch},ho.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){var r;var n=e;for(var i=e+t;n<i;++n){var o=this.lines[n];this.height-=o.height,(r=o).parent=null,We(r),or(o,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,r){this.height+=r,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var n=0;n<t.length;++n)t[n].parent=this},iterN:function(e,
t,r){for(var n=e+t;e<n;++e)if(r(this.lines[e]))return!0}},fo.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var r=0;r<this.children.length;++r){var n=this.children[r];var i=n.chunkSize();if(e<i){var o=Math.min(t,i-e);var l=n.height;if(n.removeInner(e,o),this.height-=l-n.height,i==o&&(this.children.splice(r--,1),n.parent=null),0==(t-=o))break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof ho))){var s=[];this.collapse(s),
this.children=[new ho(s)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,r){this.size+=t.length,this.height+=r;for(var n=0;n<this.children.length;++n){var i=this.children[n];var o=i.chunkSize();if(e<=o){if(i.insertInner(e,t,r),i.lines&&i.lines.length>50){var l=i.lines.length%25+25;for(var s=l;s<i.lines.length;){var a=new ho(i.lines.slice(s,s+=25));i.height-=a.height,this.children.splice(++n,0,a),a.parent=
this}i.lines=i.lines.slice(0,l),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new fo(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var r=B(e.parent.children,e);e.parent.children.splice(r+1,0,t)}else{var n=new fo(e.children);n.parent=e,e.children=[n,t],e=n}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,r){for(var n=0;n<this.children.length;++n){var i=this.children[n];
var o=i.chunkSize();if(e<o){var l=Math.min(t,o-e);if(i.iterN(e,l,r))return!0;if(0==(t-=l))break;e=0}else e-=o}}};var po=function(e,t,r){if(r)for(var n in r)r.hasOwnProperty(n)&&(this[n]=r[n]);this.doc=e,this.node=t};po.prototype.clear=function(){var e=this.doc.cm;var t=this.line.widgets;var r=this.line;var n=he(r);if(null!=n&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(r.widgets=null);var o=mr(this);ce(r,Math.max(0,r.height-o)),e&&(Kn(e,function(){go(e,r,-o),qn(e,n,"widget")}),
or(e,"lineWidgetCleared",e,this,n))}},po.prototype.changed=function(){var e=this;var t=this.height;var r=this.doc.cm;var n=this.line;this.height=null;var i=mr(this)-t;i&&(ce(n,n.height+i),r&&Kn(r,function(){r.curOp.forceUpdate=!0,go(r,n,i),or(r,"lineWidgetChanged",r,e,he(n))}))},lt(po);var vo=0;var mo=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++vo};mo.prototype.clear=function(){var e=this;if(!this.explicitlyCleared){var t=this.doc.cm;var r=t&&!t.curOp;if(r&&In(t),ot(this,"clear")){var n=
this.find();n&&or(this,"clear",n.from,n.to)}var i=null;var o=null;for(var l=0;l<this.lines.length;++l){var s=e.lines[l];var a=Me(s.markedSpans,e);t&&!e.collapsed?qn(t,he(s),"text"):t&&(null!=a.to&&(o=he(s)),null!=a.from&&(i=he(s))),s.markedSpans=Ne(s.markedSpans,a),null==a.from&&e.collapsed&&!Ve(e.doc,s)&&t&&ce(s,Zr(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var u=0;u<this.lines.length;++u){var c=Be(e.lines[u]);var h=Xe(c);h>t.display.maxLineLength&&(t.display.maxLine=c,t.display.maxLineLength=
h,t.display.maxLineChanged=!0)}null!=i&&t&&this.collapsed&&_n(t,i,o+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&_i(t.doc)),t&&or(t,"markerCleared",t,this,i,o),r&&Rn(t),this.parent&&this.parent.clear()}},mo.prototype.find=function(e,t){var r;var n;null==e&&"bookmark"==this.type&&(e=1);for(var i=0;i<this.lines.length;++i){var o=this.lines[i];var l=Me(o.markedSpans,this);if(null!=l.from&&(r=ge(t?o:he(o),l.from),-1==e))return r;if(null!=l.to&&
(n=ge(t?o:he(o),l.to),1==e))return n}return r&&{from:r,to:n}},mo.prototype.changed=function(){var e=this;var t=this.find(-1,!0);var r=this;var n=this.doc.cm;t&&n&&Kn(n,function(){var i=t.line;var o=he(t.line);var l=Mr(n,o);if(l&&(Fr(l),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!Ve(r.doc,i)&&null!=r.height){var s=r.height;r.height=null;var a=mr(r)-s;a&&ce(i,i.height+a)}or(n,"markerChanged",n,e)})},mo.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=
this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=B(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},mo.prototype.detachLine=function(e){if(this.lines.splice(B(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},lt(mo);var bo=function(e,t){this.markers=e,this.primary=t;for(var r=0;r<e.length;++r)e[r].parent=this};bo.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=
!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();or(this,"clear")}},bo.prototype.find=function(e,t){return this.primary.find(e,t)},lt(bo);var Co=0;var So=function(e,t,r,n,i){if(!(this instanceof So))return new So(e,t,r,n,i);null==r&&(r=0),fo.call(this,[new ho([new jt("",null)])]),this.first=r,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=r;var o=ge(r,0);this.sel=mi(o),this.history=new Oi(null),this.id=++Co,this.modeOption=
t,this.lineSep=n,this.direction="rtl"==i?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),ki(this,{from:o,to:o,text:e}),ji(this,mi(o),V)};So.prototype=Q(fo.prototype,{constructor:So,iter:function(e,t,r){r?this.iterN(e-this.first,t-e,r):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){var r=0;for(var n=0;n<t.length;++n)r+=t[n].height;this.insertInner(e-this.first,t,r)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=ue(this,
this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:Yn(function(e){var t=ge(this.first,0);var r=this.first+this.size-1;to(this,{from:t,to:ge(r,se(this,r).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&Ln(this.cm,0,0),ji(this,mi(t),V)}),replaceRange:function(e,t,r,n){lo(this,e,t=Ce(this,t),r=r?Ce(this,r):t,n)},getRange:function(e,t,r){var n=ae(this,Ce(this,e),Ce(this,t));return!1===r?n:n.join(r||this.lineSeparator())},getLine:function(e){var t=
this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(de(this,e))return se(this,e)},getLineNumber:function(e){return he(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=se(this,e)),Be(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return Ce(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==
e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Yn(function(e,t,r){Vi(this,Ce(this,"number"==typeof e?ge(e,t||0):e),null,r)}),setSelection:Yn(function(e,t,r){Vi(this,Ce(this,e),Ce(this,t||e),r)}),extendSelection:Yn(function(e,t,r){Bi(this,Ce(this,e),t&&Ce(this,t),r)}),extendSelections:Yn(function(e,t){Gi(this,Se(this,e),t)}),extendSelectionsBy:Yn(function(e,t){Gi(this,Se(this,$(this.sel.ranges,
e)),t)}),setSelections:Yn(function(e,t,r){if(e.length){var n=[];for(var i=0;i<e.length;i++)n[i]=new gi(Ce(this,e[i].anchor),Ce(this,e[i].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),ji(this,vi(n,t),r)}}),addSelection:Yn(function(e,t,r){var n=this.sel.ranges.slice(0);n.push(new gi(Ce(this,e),Ce(this,t||e))),ji(this,vi(n,n.length-1),r)}),getSelection:function(e){var t;var r=this.sel.ranges;for(var n=0;n<r.length;n++){var i=ae(this,r[n].from(),r[n].to());t=t?t.concat(i):i}return!1===e?
t:t.join(e||this.lineSeparator())},getSelections:function(e){var t=[];var r=this.sel.ranges;for(var n=0;n<r.length;n++){var i=ae(this,r[n].from(),r[n].to());!1!==e&&(i=i.join(e||this.lineSeparator())),t[n]=i}return t},replaceSelection:function(e,t,r){var n=[];for(var i=0;i<this.sel.ranges.length;i++)n[i]=e;this.replaceSelections(n,t,r||"+input")},replaceSelections:Yn(function(e$$0,t$$0,r$$0){var n$$0=[];var i$$0=this.sel;for(var o$$0=0;o$$0<i$$0.ranges.length;o$$0++){var l$$0=i$$0.ranges[o$$0];n$$0[o$$0]=
{from:l$$0.from(),to:l$$0.to(),text:this.splitLines(e$$0[o$$0]),origin:r$$0}}var s$$0=t$$0&&"end"!=t$$0&&function(e,t,r){var n=[];var i=ge(e.first,0);var o=i;for(var l=0;l<t.length;l++){var s=t[l];var a=xi(s.from,i,o);var u=xi(yi(s),i,o);if(i=s.to,o=u,"around"==r){var c=e.sel.ranges[l];var h=ve(c.head,c.anchor)<0;n[l]=new gi(h?u:a,h?a:u)}else n[l]=new gi(a,a)}return new pi(n,e.sel.primIndex)}(this,n$$0,t$$0);for(var a$$0=n$$0.length-1;a$$0>=0;a$$0--)to(this,n$$0[a$$0]);s$$0?Ki(this,s$$0):this.cm&&
Sn(this.cm)}),undo:Yn(function(){no(this,"undo")}),redo:Yn(function(){no(this,"redo")}),undoSelection:Yn(function(){no(this,"undo",!0)}),redoSelection:Yn(function(){no(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){var e=this.history;var t=0;var r=0;for(var n=0;n<e.done.length;n++)e.done[n].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++r;return{undo:t,redo:r}},clearHistory:function(){this.history=new Oi(this.history.maxGeneration)},
markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Ii(this.history.done),undone:Ii(this.history.undone)}},setHistory:function(e){var t=this.history=new Oi(this.history.maxGeneration);t.done=Ii(e.done.slice(0),null,!0),t.undone=Ii(e.undone.slice(0),
null,!0)},setGutterMarker:Yn(function(e$$0,t,r){return co(this,e$$0,"gutter",function(e){var n=e.gutterMarkers||(e.gutterMarkers={});return n[t]=r,!r&&re(n)&&(e.gutterMarkers=null),!0})}),clearGutter:Yn(function(e){var t=this;this.iter(function(r){r.gutterMarkers&&r.gutterMarkers[e]&&co(t,r,"gutter",function(){return r.gutterMarkers[e]=null,re(r.gutterMarkers)&&(r.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if("number"==typeof e){if(!de(this,e))return null;if(t=e,!(e=se(this,e)))return null}else if(null==
(t=he(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:Yn(function(e$$0,t,r){return co(this,e$$0,"gutter"==t?"gutter":"class",function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[n]){if(L(r).test(e[n]))return!1;e[n]+=" "+r}else e[n]=r;return!0})}),removeLineClass:Yn(function(e$$0,t,r){return co(this,e$$0,"gutter"==t?
"gutter":"class",function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";var i=e[n];if(!i)return!1;if(null==r)e[n]=null;else{var o=i.match(L(r));if(!o)return!1;var l=o.index+o[0].length;e[n]=i.slice(0,o.index)+(o.index&&l!=i.length?" ":"")+i.slice(l)||null}return!0})}),addLineWidget:Yn(function(e$$0,t$$0,r$$0){return i=e$$0,o=new po(n=this,t$$0,r$$0),(l=n.cm)&&o.noHScroll&&(l.display.alignWidgets=!0),co(n,i,"widget",function(e){var t=e.widgets||(e.widgets=
[]);if(null==o.insertAt?t.push(o):t.splice(Math.min(t.length-1,Math.max(0,o.insertAt)),0,o),o.line=e,l&&!Ve(n,e)){var r=je(e)<n.scrollTop;ce(e,e.height+mr(o)),r&&Cn(l,o.height),l.curOp.forceUpdate=!0}return!0}),l&&or(l,"lineWidgetAdded",l,o,"number"==typeof i?i:he(i)),o;var n;var i;var o;var l}),removeLineWidget:function(e){e.clear()},markText:function(e,t,r){return yo(this,Ce(this,e),Ce(this,t),r,r&&r.type||"range")},setBookmark:function(e,t){var r={replacedWith:t&&(null==t.nodeType?t.widget:t),
insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return yo(this,e=Ce(this,e),e,r,"bookmark")},findMarksAt:function(e){var t=[];var r=se(this,(e=Ce(this,e)).line).markedSpans;if(r)for(var n=0;n<r.length;++n){var i=r[n];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,r){e=Ce(this,e),t=Ce(this,t);var n=[];var i=e.line;return this.iter(e.line,t.line+1,function(o){var l=o.markedSpans;
if(l)for(var s=0;s<l.length;s++){var a=l[s];null!=a.to&&i==e.line&&e.ch>=a.to||null==a.from&&i!=e.line||null!=a.from&&i==t.line&&a.from>=t.ch||r&&!r(a.marker)||n.push(a.marker.parent||a.marker)}++i}),n},getAllMarks:function(){var e=[];return this.iter(function(t){var r=t.markedSpans;if(r)for(var n=0;n<r.length;++n)null!=r[n].from&&e.push(r[n].marker)}),e},posFromIndex:function(e){var t;var r=this.first;var n=this.lineSeparator().length;return this.iter(function(i){var o=i.text.length+n;if(o>e)return t=
e,!0;e-=o,++r}),Ce(this,ge(r,t))},indexFromPos:function(e$$0){var t=(e$$0=Ce(this,e$$0)).ch;if(e$$0.line<this.first||e$$0.ch<0)return 0;var r=this.lineSeparator().length;return this.iter(this.first,e$$0.line,function(e){t+=e.text.length+r}),t},copy:function(e){var t=new So(ue(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,
t.setHistory(this.getHistory())),t},linkedDoc:function(e$$0){e$$0||(e$$0={});var t$$0=this.first;var r$$0=this.first+this.size;null!=e$$0.from&&e$$0.from>t$$0&&(t$$0=e$$0.from),null!=e$$0.to&&e$$0.to<r$$0&&(r$$0=e$$0.to);var n$$0=new So(ue(this,t$$0,r$$0),e$$0.mode||this.modeOption,t$$0,this.lineSep,this.direction);return e$$0.sharedHist&&(n$$0.history=this.history),(this.linked||(this.linked=[])).push({doc:n$$0,sharedHist:e$$0.sharedHist}),n$$0.linked=[{doc:this,isParent:!0,sharedHist:e$$0.sharedHist}],
function(e,t){for(var r=0;r<t.length;r++){var n=t[r];var i=n.find();var o=e.clipPos(i.from);var l=e.clipPos(i.to);if(ve(o,l)){var s=yo(e,o,l,n.primary,n.primary.type);n.markers.push(s),s.parent=n}}}(n$$0,wo(this)),n$$0},unlinkDoc:function(e$$0){if(e$$0 instanceof wl&&(e$$0=e$$0.doc),this.linked)for(var t=0;t<this.linked.length;++t)if(this.linked[t].doc==e$$0){this.linked.splice(t,1),e$$0.unlinkDoc(this),xo(wo(this));break}if(e$$0.history==this.history){var r=[e$$0.id];Ti(e$$0,function(e){return r.push(e.id)},
!0),e$$0.history=new Oi(null),e$$0.history.done=Ii(this.history.done,r),e$$0.history.undone=Ii(this.history.undone,r)}},iterLinkedDocs:function(e){Ti(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):bt(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Yn(function(e$$0){var t;("rtl"!=e$$0&&(e$$0="ltr"),e$$0!=this.direction)&&(this.direction=e$$0,this.iter(function(e){return e.order=
null}),this.cm&&Kn(t=this.cm,function(){Ni(t),_n(t)}))})}),So.prototype.eachLine=So.prototype.iter;var Lo=0;var No=!1;var Wo={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"\x3d",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"\x3d",109:"-",110:".",111:"/",127:"Delete",145:"ScrollLock",173:"-",186:";",187:"\x3d",
188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};for(var Do=0;Do<10;Do++)Wo[Do+48]=Wo[Do+96]=String(Do);for(var Ho=65;Ho<=90;Ho++)Wo[Ho]=String.fromCharCode(Ho);for(var Fo=1;Fo<=12;Fo++)Wo[Fo+111]=Wo[Fo+63235]="F"+Fo;var Po={};Po.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",
PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Po.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart",
"Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Po.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft",
"Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Po.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight",
"Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic",
"emacsy"]},Po["default"]=y?Po.macDefault:Po.pcDefault;var Yo={selectAll:Ji,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),V)},killLine:function(e){return Vo(e,function(t){if(t.empty()){var r=se(e.doc,t.head.line).text.length;return t.head.ch==r&&t.head.line<e.lastLine()?{from:t.head,to:ge(t.head.line+1,0)}:{from:t.head,to:ge(t.head.line,r)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){return Vo(e,function(t){return{from:ge(t.from().line,0),
to:Ce(e.doc,ge(t.to().line+1,0))}})},delLineLeft:function(e$$0){return Vo(e$$0,function(e){return{from:ge(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){return Vo(e,function(t){var r=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:r},"div"),to:t.from()}})},delWrappedLineRight:function(e){return Vo(e,function(t){var r=e.charCoords(t.head,"div").top+5;var n=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div");return{from:t.from(),to:n}})},undo:function(e){return e.undo()},
redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(ge(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(ge(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return _o(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return qo(e,t.head)},{origin:"+move",bias:1})},
goLineEnd:function(e$$1){return e$$1.extendSelectionsBy(function(t$$1){return function(e$$0,t$$0){var r=se(e$$0.doc,t$$0);var n=function(e){for(var t;t=Ie(e);)e=t.find(1,!0).line;return e}(r);n!=r&&(t$$0=he(n));return Xo(!0,e$$0,r,t$$0,-1)}(e$$1,t$$1.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var r=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div")},j)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var r=
e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:r},"div")},j)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var r=e.cursorCoords(t.head,"div").top+5;var n=e.coordsChar({left:0,top:r},"div");return n.ch<e.getLine(n.line).search(/\S/)?qo(e,t.head):n},j)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,
"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"char")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,
"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){var t=[];var r=e.listSelections();var n=e.options.tabSize;for(var i=0;i<
r.length;i++){var o=r[i].from();var l=I(e.getLine(o.line),o.ch,n);t.push(_(n-l%n))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return Kn(e,function(){var t=e.listSelections();var r=[];for(var n=0;n<t.length;n++)if(t[n].empty()){var i=t[n].head;var o=se(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new ge(i.line,i.ch-1)),i.ch>0)i=new ge(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-
2),ge(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var l=se(e.doc,i.line-1).text;l&&(i=new ge(i.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+l.charAt(l.length-1),ge(i.line-1,l.length-1),i,"+transpose"))}r.push(new gi(i,i))}e.setSelections(r)})},newlineAndIndent:function(e){return Kn(e,function(){var t=e.listSelections();for(var r=t.length-1;r>=0;r--)e.replaceRange(e.doc.lineSeparator(),t[r].anchor,t[r].head,"+input");t=e.listSelections();for(var n=0;n<t.length;n++)e.indentLine(t[n].from().line,
null,!0);Sn(e)})},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};var Zo=new R;var tl=null;var ol;var ll;var sl=function(e,t,r){this.time=e,this.pos=t,this.button=r};sl.prototype.compare=function(e,t,r){return this.time+400>e&&0==ve(t,this.pos)&&r==this.button};var pl={toString:function(){return"CodeMirror.Init"}};var gl={};var vl={};wl.defaults=gl,wl.optionHandlers=vl;var xl=[];wl.defineInitHook=function(e){return xl.push(e)};
var Sl=null;var Hl=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new R,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Hl.prototype.init=function(e$$0){function o$$0(e){if(!nt(n,e)){if(n.somethingSelected())Ll({lineWise:!1,text:n.getSelections()}),"cut"==e.type&&n.replaceSelection("",null,"cut");else{if(!n.options.lineWiseCopyCut)return;var t=Nl(n);Ll({lineWise:!0,text:t.text}),"cut"==e.type&&n.operation(function(){n.setSelections(t.ranges,
0,V),n.replaceSelection("",null,"cut")})}if(e.clipboardData){e.clipboardData.clearData();var o=Sl.text.join("\n");if(e.clipboardData.setData("Text",o),e.clipboardData.getData("Text")==o)return void e.preventDefault()}var l=Al();var s=l.firstChild;n.display.lineSpace.insertBefore(l,n.display.lineSpace.firstChild),s.value=Sl.text.join("\n");var a=document.activeElement;P(s),setTimeout(function(){n.display.lineSpace.removeChild(l),a.focus(),a==i&&r.showPrimarySelection()},50)}}var t$$0=this;var r=this;
var n=r.cm;var i=r.div=e$$0.lineDiv;Ol(i,n.options.spellcheck),Je(i,"paste",function(e){nt(n,e)||Tl(e,n)||s$$2<=11&&setTimeout(jn(n,function(){return t$$0.updateFromDOM()}),20)}),Je(i,"compositionstart",function(e){t$$0.composing={data:e.data,done:!1}}),Je(i,"compositionupdate",function(e){t$$0.composing||(t$$0.composing={data:e.data,done:!1})}),Je(i,"compositionend",function(e){t$$0.composing&&(e.data!=t$$0.composing.data&&t$$0.readFromDOMSoon(),t$$0.composing.done=!0)}),Je(i,"touchstart",function(){return r.forceCompositionEnd()}),
Je(i,"input",function(){t$$0.composing||t$$0.readFromDOMSoon()}),Je(i,"copy",o$$0),Je(i,"cut",o$$0)},Hl.prototype.prepareSelection=function(){var e=sn(this.cm,!1);return e.focus=this.cm.state.focused,e},Hl.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Hl.prototype.showPrimarySelection=function(){var e=window.getSelection();var t=this.cm;var n=t.doc.sel.primary();var i=n.from();var o=n.to();if(t.display.viewTo==
t.display.viewFrom||i.line>=t.display.viewTo||o.line<t.display.viewFrom)e.removeAllRanges();else{var l=El(t,e.anchorNode,e.anchorOffset);var s=El(t,e.focusNode,e.focusOffset);if(!l||l.bad||!s||s.bad||0!=ve(we(l,s),i)||0!=ve(be(l,s),o)){var a=t.display.view;var u=i.line>=t.display.viewFrom&&Fl(t,i)||{node:a[0].measure.map[2],offset:0};var c=o.line<t.display.viewTo&&Fl(t,o);if(!c){var h=a[a.length-1].measure;var f=h.maps?h.maps[h.maps.length-1]:h.map;c={node:f[f.length-1],offset:f[f.length-2]-f[f.length-
3]}}if(u&&c){var d;var p=e.rangeCount&&e.getRangeAt(0);try{d=k(u.node,u.offset,c.offset,c.node)}catch(e$$0){}d&&(!r$$3&&t.state.focused?(e.collapse(u.node,u.offset),d.collapsed||(e.removeAllRanges(),e.addRange(d))):(e.removeAllRanges(),e.addRange(d)),p&&null==e.anchorNode?e.addRange(p):r$$3&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},Hl.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=
!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},Hl.prototype.showMultipleSelections=function(e){N(this.cm.display.cursorDiv,e.cursors),N(this.cm.display.selectionDiv,e.selection)},Hl.prototype.rememberSelection=function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Hl.prototype.selectionInEditor=function(){var e=window.getSelection();
if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return W(this.div,t)},Hl.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Hl.prototype.blur=function(){this.div.blur()},Hl.prototype.getField=function(){return this.div},Hl.prototype.supportsTouch=function(){return!0},Hl.prototype.receivedFocus=function(){var e=this;this.selectionInEditor()?this.pollSelection():Kn(this.cm,
function(){return e.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))})},Hl.prototype.selectionChanged=function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Hl.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&
this.selectionChanged()){var e$$0=window.getSelection();var t$$0=this.cm;if(v&&c$$3&&this.cm.options.gutters.length&&function(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}(e$$0.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var r=El(t$$0,e$$0.anchorNode,e$$0.anchorOffset);var n=El(t$$0,e$$0.focusNode,e$$0.focusOffset);r&&
n&&Kn(t$$0,function(){ji(t$$0.doc,mi(r,n),V),(r.bad||n.bad)&&(t$$0.curOp.selectionChanged=!0)})}}},Hl.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e$$1;var t$$1;var r$$1;var n$$0=this.cm;var i$$0=n$$0.display;var o$$1=n$$0.doc.sel.primary();var l$$0=o$$1.from();var s$$0=o$$1.to();if(0==l$$0.ch&&l$$0.line>n$$0.firstLine()&&(l$$0=ge(l$$0.line-1,se(n$$0.doc,l$$0.line-1).length)),s$$0.ch==se(n$$0.doc,s$$0.line).text.length&&
s$$0.line<n$$0.lastLine()&&(s$$0=ge(s$$0.line+1,0)),l$$0.line<i$$0.viewFrom||s$$0.line>i$$0.viewTo-1)return!1;l$$0.line==i$$0.viewFrom||0==(e$$1=on(n$$0,l$$0.line))?(t$$1=he(i$$0.view[0].line),r$$1=i$$0.view[0].node):(t$$1=he(i$$0.view[e$$1].line),r$$1=i$$0.view[e$$1-1].node.nextSibling);var a$$0;var u$$0;var c$$0=on(n$$0,s$$0.line);if(c$$0==i$$0.view.length-1?(a$$0=i$$0.viewTo-1,u$$0=i$$0.lineDiv.lastChild):(a$$0=he(i$$0.view[c$$0+1].line)-1,u$$0=i$$0.view[c$$0+1].node.previousSibling),!r$$1)return!1;
var h$$0=n$$0.doc.splitLines(function(e$$0,t$$0,r$$0,n,i){function a(){l&&(o$$0+=s,l=!1)}function u(e){e&&(a(),o$$0+=e)}function c(t){if(1==t.nodeType){var r=t.getAttribute("cm-text");if(null!=r)return void u(r||t.textContent.replace(/\u200b/g,""));var o;var h=t.getAttribute("cm-marker");if(h){var f=e$$0.findMarks(ge(n,0),ge(i+1,0),(g=+h,function(e){return e.id==g}));return void(f.length&&(o=f[0].find(0))&&u(ae(e$$0.doc,o.from,o.to).join(s)))}if("false"==t.getAttribute("contenteditable"))return;var d=
/^(pre|div|p)$/i.test(t.nodeName);d&&a();for(var p=0;p<t.childNodes.length;p++)c(t.childNodes[p]);d&&(l=!0)}else 3==t.nodeType&&u(t.nodeValue);var g}var o$$0="";var l=!1;for(var s=e$$0.doc.lineSeparator();c(t$$0),t$$0!=r$$0;)t$$0=t$$0.nextSibling;return o$$0}(n$$0,r$$1,u$$0,t$$1,a$$0));for(var f$$0=ae(n$$0.doc,ge(t$$1,0),ge(a$$0,se(n$$0.doc,a$$0).text.length));h$$0.length>1&&f$$0.length>1;)if(q(h$$0)==q(f$$0))h$$0.pop(),f$$0.pop(),a$$0--;else{if(h$$0[0]!=f$$0[0])break;h$$0.shift(),f$$0.shift(),t$$1++}var d$$0=
0;var p$$0=0;var g$$0=h$$0[0];var v=f$$0[0];for(var m=Math.min(g$$0.length,v.length);d$$0<m&&g$$0.charCodeAt(d$$0)==v.charCodeAt(d$$0);)++d$$0;var y=q(h$$0);var b=q(f$$0);for(var w=Math.min(y.length-(1==h$$0.length?d$$0:0),b.length-(1==f$$0.length?d$$0:0));p$$0<w&&y.charCodeAt(y.length-p$$0-1)==b.charCodeAt(b.length-p$$0-1);)++p$$0;if(1==h$$0.length&&1==f$$0.length&&t$$1==l$$0.line)for(;d$$0&&d$$0>l$$0.ch&&y.charCodeAt(y.length-p$$0-1)==b.charCodeAt(b.length-p$$0-1);)d$$0--,p$$0++;h$$0[h$$0.length-
1]=y.slice(0,y.length-p$$0).replace(/^\u200b+/,""),h$$0[0]=h$$0[0].slice(d$$0).replace(/\u200b+$/,"");var x=ge(t$$1,d$$0);var C=ge(a$$0,f$$0.length?q(f$$0).length-p$$0:0);return h$$0.length>1||h$$0[0]||ve(x,C)?(lo(n$$0.doc,h$$0,x,C,"+input"),!0):void 0},Hl.prototype.ensurePolled=function(){this.forceCompositionEnd()},Hl.prototype.reset=function(){this.forceCompositionEnd()},Hl.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),
this.div.blur(),this.div.focus())},Hl.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()},80))},Hl.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||Kn(this.cm,function(){return _n(e.cm)})},Hl.prototype.setUneditable=function(e){e.contentEditable="false"},Hl.prototype.onKeyPress=function(e){0!=
e.charCode&&(e.preventDefault(),this.cm.isReadOnly()||jn(this.cm,kl)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},Hl.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},Hl.prototype.onContextMenu=function(){},Hl.prototype.resetPosition=function(){},Hl.prototype.needsContentAttribute=!0;var Il;var Rl;var Bl;var Gl=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new R,this.hasSelection=!1,this.composing=null};Gl.prototype.init=
function(e$$0){function a(e){if(!nt(n,e)){if(n.somethingSelected())Ll({lineWise:!1,text:n.getSelections()});else{if(!n.options.lineWiseCopyCut)return;var t=Nl(n);Ll({lineWise:!0,text:t.text}),"cut"==e.type?n.setSelections(t.ranges,null,V):(r.prevInput="",o.value=t.text.join("\n"),P(o))}"cut"==e.type&&(n.state.cutIncoming=!0)}}var t$$0=this;var r=this;var n=this.cm;var i=this.wrapper=Al();var o=this.textarea=i.firstChild;e$$0.wrapper.insertBefore(i,e$$0.wrapper.firstChild),g&&(o.style.width="0px"),
Je(o,"input",function(){l$$3&&s$$2>=9&&t$$0.hasSelection&&(t$$0.hasSelection=null),r.poll()}),Je(o,"paste",function(e){nt(n,e)||Tl(e,n)||(n.state.pasteIncoming=!0,r.fastPoll())}),Je(o,"cut",a),Je(o,"copy",a),Je(e$$0.scroller,"paste",function(t){yr(e$$0,t)||nt(n,t)||(n.state.pasteIncoming=!0,r.focus())}),Je(e$$0.lineSpace,"selectstart",function(t){yr(e$$0,t)||st(t)}),Je(o,"compositionstart",function(){var e=n.getCursor("from");r.composing&&r.composing.range.clear(),r.composing={start:e,range:n.markText(e,
n.getCursor("to"),{className:"CodeMirror-composing"})}}),Je(o,"compositionend",function(){r.composing&&(r.poll(),r.composing.range.clear(),r.composing=null)})},Gl.prototype.prepareSelection=function(){var e=this.cm;var t=e.display;var r=e.doc;var n=sn(e);if(e.options.moveInputWithCursor){var i=Vr(e,r.sel.primary().head,"div");var o=t.wrapper.getBoundingClientRect();var l=t.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+l.top-o.top)),n.teLeft=Math.max(0,
Math.min(t.wrapper.clientWidth-10,i.left+l.left-o.left))}return n},Gl.prototype.showSelection=function(e){var t=this.cm.display;N(t.cursorDiv,e.cursors),N(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},Gl.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var r=t.getSelection();this.textarea.value=r,t.state.focused&&P(this.textarea),l$$3&&s$$2>=
9&&(this.hasSelection=r)}else e||(this.prevInput=this.textarea.value="",l$$3&&s$$2>=9&&(this.hasSelection=null))}},Gl.prototype.getField=function(){return this.textarea},Gl.prototype.supportsTouch=function(){return!1},Gl.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!m||D()!=this.textarea))try{this.textarea.focus()}catch(e){}},Gl.prototype.blur=function(){this.textarea.blur()},Gl.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Gl.prototype.receivedFocus=
function(){this.slowPoll()},Gl.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},Gl.prototype.fastPoll=function(){var e=!1;var t=this;t.pollingFast=!0,t.polling.set(20,function r(){t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,r))})},Gl.prototype.poll=function(){var e=this;var t=this.cm;var r=this.textarea;var n=this.prevInput;if(this.contextMenuPending||!t.state.focused||
wt(r)&&!n&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=r.value;if(i==n&&!t.somethingSelected())return!1;if(l$$3&&s$$2>=9&&this.hasSelection===i||y&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||n||(n=""),8666==o)return this.reset(),this.cm.execCommand("undo")}var a=0;for(var u=Math.min(n.length,i.length);a<u&&n.charCodeAt(a)==i.charCodeAt(a);)++a;return Kn(t,function(){kl(t,
i.slice(a),n.length-a,null,e.composing?"*compose":null),i.length>1E3||i.indexOf("\n")>-1?r.value=e.prevInput="":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Gl.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Gl.prototype.onKeyPress=function(){l$$3&&s$$2>=9&&(this.hasSelection=null),this.fastPoll()},Gl.prototype.onContextMenu=function(e$$0){function v(){if(null!=
i.selectionStart){var e=r.somethingSelected();var o=""+(e?i.value:"");i.value="",i.value=o,t.prevInput=e?"":"",i.selectionStart=1,i.selectionEnd=o.length,n.selForContextMenu=r.doc.sel}}function m(){if(t.contextMenuPending=!1,t.wrapper.style.cssText=f,i.style.cssText=c,l$$3&&s$$2<9&&n.scrollbars.setScrollTop(n.scroller.scrollTop=u),null!=i.selectionStart){(!l$$3||l$$3&&s$$2<9)&&v();var e=0;var o=function(){n.selForContextMenu==r.doc.sel&&0==i.selectionStart&&i.selectionEnd>0&&""==t.prevInput?jn(r,
Ji)(r):e++<10?n.detectingSelectAll=setTimeout(o,500):(n.selForContextMenu=null,n.input.reset())};n.detectingSelectAll=setTimeout(o,200)}}var t=this;var r=t.cm;var n=r.display;var i=t.textarea;var o$$0=nn(r,e$$0);var u=n.scroller.scrollTop;if(o$$0&&!h$$2){r.options.resetSelectionOnContextMenu&&-1==r.doc.sel.contains(o$$0)&&jn(r,ji)(r.doc,mi(o$$0),V);var c=i.style.cssText;var f=t.wrapper.style.cssText;t.wrapper.style.cssText="position: absolute";var d;var p=t.wrapper.getBoundingClientRect();if(i.style.cssText=
"position: absolute; width: 30px; height: 30px;\n      top: "+(e$$0.clientY-p.top-5)+"px; left: "+(e$$0.clientX-p.left-5)+"px;\n      z-index: 1000; background: "+(l$$3?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity\x3d5);",a$$3&&(d=window.scrollY),n.input.focus(),a$$3&&window.scrollTo(null,d),n.input.reset(),r.somethingSelected()||(i.value=t.prevInput=" "),t.contextMenuPending=!0,n.selForContextMenu=
r.doc.sel,clearTimeout(n.detectingSelectAll),l$$3&&s$$2>=9&&v(),S){ct(e$$0);var g=function(){tt(window,"mouseup",g),setTimeout(m,20)};Je(window,"mouseup",g)}else setTimeout(m,50)}},Gl.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e},Gl.prototype.setUneditable=function(){},Gl.prototype.needsContentAttribute=!1,function(e$$1){function r$$1(r$$0,n,i,o){e$$1.defaults[r$$0]=n,i&&(t$$0[r$$0]=o?function(e,t,r){r!=pl&&i(e,t,r)}:i)}var t$$0=e$$1.optionHandlers;e$$1.defineOption=
r$$1,e$$1.Init=pl,r$$1("value","",function(e,t){return e.setValue(t)},!0),r$$1("mode",null,function(e,t){e.doc.modeOption=t,Ci(e)},!0),r$$1("indentUnit",2,Ci,!0),r$$1("indentWithTabs",!1),r$$1("smartIndent",!0),r$$1("tabSize",4,function(e){Si(e),Er(e),_n(e)},!0),r$$1("lineSeparator",null,function(e$$0,t){if(e$$0.doc.lineSep=t,t){var r=[];var n=e$$0.doc.first;e$$0.doc.iter(function(e){for(var i=0;;){var o=e.text.indexOf(t,i);if(-1==o)break;i=o+t.length,r.push(ge(n,o))}n++});for(var i$$0=r.length-1;i$$0>=
0;i$$0--)lo(e$$0.doc,t,r[i$$0],ge(r[i$$0].line,r[i$$0].ch+t.length))}}),r$$1("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,t,r){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),r!=pl&&e.refresh()}),r$$1("specialCharPlaceholder",$t,function(e){return e.refresh()},!0),r$$1("electricChars",!0),r$$1("inputStyle",m?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor");
},!0),r$$1("spellcheck",!1,function(e,t){return e.getInputField().spellcheck=t},!0),r$$1("rtlMoveVisually",!w),r$$1("wholeLineUpdateBefore",!0),r$$1("theme","default",function(e){dl(e),ml(e)},!0),r$$1("keyMap","default",function(e,t,r){var n=Uo(t);var i=r!=pl&&Uo(r);i&&i.detach&&i.detach(e,n),n.attach&&n.attach(e,i||null)}),r$$1("extraKeys",null),r$$1("configureMouse",null),r$$1("lineWrapping",!1,bl,!0),r$$1("gutters",[],function(e){ai(e.options),ml(e)},!0),r$$1("fixedGutter",!0,function(e,t){e.display.gutters.style.left=
t?en(e.display)+"px":"0",e.refresh()},!0),r$$1("coverGutterNextToScrollbar",!1,function(e){return Hn(e)},!0),r$$1("scrollbarStyle","native",function(e){En(e),Hn(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),r$$1("lineNumbers",!1,function(e){ai(e.options),ml(e)},!0),r$$1("firstLineNumber",1,ml,!0),r$$1("lineNumberFormatter",function(e){return e},ml,!0),r$$1("showCursorWhenSelecting",!1,ln,!0),r$$1("resetSelectionOnContextMenu",!0),r$$1("lineWiseCopyCut",
!0),r$$1("pasteLinesPerSelection",!0),r$$1("readOnly",!1,function(e,t){"nocursor"==t&&(gn(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)}),r$$1("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),r$$1("dragDrop",!0,yl),r$$1("allowDropFileTypes",null),r$$1("cursorBlinkRate",530),r$$1("cursorScrollMargin",0),r$$1("cursorHeight",1,ln,!0),r$$1("singleCursorHeightPerLine",!0,ln,!0),r$$1("workTime",100),r$$1("workDelay",100),r$$1("flattenSpans",!0,Si,!0),r$$1("addModeClass",!1,
Si,!0),r$$1("pollInterval",100),r$$1("undoDepth",200,function(e,t){return e.doc.history.undoDepth=t}),r$$1("historyEventDelay",1250),r$$1("viewportMargin",10,function(e){return e.refresh()},!0),r$$1("maxHighlightLength",1E4,Si,!0),r$$1("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),r$$1("tabindex",null,function(e,t){return e.display.input.getField().tabIndex=t||""}),r$$1("autofocus",null),r$$1("direction","ltr",function(e,t){return e.doc.setDirection(t)},!0)}(wl),Rl=(Il=
wl).optionHandlers,Bl=Il.helpers={},Il.prototype={constructor:Il,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,t){var r=this.options;var n=r[e];r[e]==t&&"mode"!=e||(r[e]=t,Rl.hasOwnProperty(e)&&jn(this,Rl[e])(this,t,n),rt(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Uo(e))},removeKeyMap:function(e){var t=this.state.keyMaps;for(var r=0;r<
t.length;++r)if(t[r]==e||t[r].name==e)return t.splice(r,1),!0},addOverlay:Xn(function(e$$0,t$$0){var r$$0=e$$0.token?e$$0:Il.getMode(this.options,e$$0);if(r$$0.startState)throw new Error("Overlays may not be stateful.");!function(e,t,r){var n=0;for(var i=r(t);n<e.length&&r(e[n])<=i;)n++;e.splice(n,0,t)}(this.state.overlays,{mode:r$$0,modeSpec:e$$0,opaque:t$$0&&t$$0.opaque,priority:t$$0&&t$$0.priority||0},function(e){return e.priority}),this.state.modeGen++,_n(this)}),removeOverlay:Xn(function(e){var t=
this.state.overlays;for(var r=0;r<t.length;++r){var n=t[r].modeSpec;if(n==e||"string"==typeof e&&n.name==e)return t.splice(r,1),this.state.modeGen++,void _n(this)}}),indentLine:Xn(function(e,t,r){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),de(this.doc,e)&&Cl(this,e,t,r)}),indentSelection:Xn(function(e){var t=this;var r=this.doc.sel.ranges;var n=-1;for(var i=0;i<r.length;i++){var o=r[i];if(o.empty())o.head.line>n&&(Cl(t,o.head.line,
e,!0),n=o.head.line,i==t.doc.sel.primIndex&&Sn(t));else{var l=o.from();var s=o.to();var a=Math.max(n,l.line);n=Math.min(t.lastLine(),s.line-(s.ch?0:1))+1;for(var u=a;u<n;++u)Cl(t,u,e);var c=t.doc.sel.ranges;0==l.ch&&r.length==c.length&&c[i].from().ch>0&&Ui(t.doc,i,new gi(l,c[i].to()),V)}}}),getTokenAt:function(e,t){return Ut(this,e,t)},getLineTokens:function(e,t){return Ut(this,ge(e),t,!0)},getTokenTypeAt:function(e){e=Ce(this.doc,e);var t;var r=Et(this,se(this.doc,e.line));var n=0;var i=(r.length-
1)/2;var o=e.ch;if(0==o)t=r[2];else for(;;){var l=n+i>>1;if((l?r[2*l-1]:0)>=o)i=l;else{if(!(r[2*l+1]<o)){t=r[2*l+2];break}n=l+1}}var s=t?t.indexOf("overlay "):-1;return s<0?t:0==s?null:t.slice(0,s-1)},getModeAt:function(e){var t=this.doc.mode;return t.innerMode?Il.innerMode(t,this.getTokenAt(e).state).mode:t},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var r=[];if(!Bl.hasOwnProperty(t))return r;var n=Bl[t];var i=this.getModeAt(e);if("string"==typeof i[t])n[i[t]]&&
r.push(n[i[t]]);else if(i[t])for(var o=0;o<i[t].length;o++){var l=n[i[t][o]];l&&r.push(l)}else i.helperType&&n[i.helperType]?r.push(n[i.helperType]):n[i.name]&&r.push(n[i.name]);for(var s=0;s<n._global.length;s++){var a=n._global[s];a.pred(i,this)&&-1==B(r,a.val)&&r.push(a.val)}return r},getStateAfter:function(e,t){var r=this.doc;return zt(this,(e=xe(r,null==e?r.first+r.size-1:e))+1,t).state},cursorCoords:function(e,t){var r=this.doc.sel.primary();return Vr(this,null==e?r.head:"object"==typeof e?
Ce(this.doc,e):e?r.from():r.to(),t||"page")},charCoords:function(e,t){return Ur(this,Ce(this.doc,e),t||"page")},coordsChar:function(e,t){return Xr(this,(e=Gr(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=Gr(this,{top:e,left:0},t||"page").top,fe(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,r){var n;var i=!1;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,i=!0),n=se(this.doc,e)}else n=e;return Br(this,n,
{top:0,left:0},t||"page",r||i).top+(i?this.doc.height-je(n):0)},defaultTextHeight:function(){return Zr(this.display)},defaultCharWidth:function(){return Qr(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,r,n,i){var o;var l;var s;var a=this.display;var u=(e=Vr(this,Ce(this.doc,e))).bottom;var c=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),a.sizer.appendChild(t),
"over"==n)u=e.top;else if("above"==n||"near"==n){var h=Math.max(a.wrapper.clientHeight,this.doc.height);var f=Math.max(a.sizer.clientWidth,a.lineSpace.clientWidth);("above"==n||e.bottom+t.offsetHeight>h)&&e.top>t.offsetHeight?u=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=h&&(u=e.bottom),c+t.offsetWidth>f&&(c=f-t.offsetWidth)}t.style.top=u+"px",t.style.left=t.style.right="","right"==i?(c=a.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?c=0:"middle"==i&&(c=(a.sizer.clientWidth-t.offsetWidth)/
2),t.style.left=c+"px"),r&&(o=this,l={left:c,top:u,right:c+t.offsetWidth,bottom:u+t.offsetHeight},null!=(s=xn(o,l)).scrollTop&&Mn(o,s.scrollTop),null!=s.scrollLeft&&On(o,s.scrollLeft))},triggerOnKeyDown:Xn(rl),triggerOnKeyPress:Xn(il),triggerOnKeyUp:nl,triggerOnMouseDown:Xn(al),execCommand:function(e){if(Yo.hasOwnProperty(e))return Yo[e].call(null,this)},triggerElectric:Xn(function(e){Ml(this,e)}),findPosH:function(e,t,r,n){var i=1;t<0&&(i=-1,t=-t);var o=Ce(this.doc,e);for(var l=0;l<t&&!(o=Wl(this.doc,
o,i,r,n)).hitSide;++l);return o},moveH:Xn(function(e,t){var r=this;this.extendSelectionsBy(function(n){return r.display.shift||r.doc.extend||n.empty()?Wl(r.doc,n.head,e,t,r.options.rtlMoveVisually):e<0?n.from():n.to()},j)}),deleteH:Xn(function(e,t){var r$$0=this.doc.sel;var n=this.doc;r$$0.somethingSelected()?n.replaceSelection("",null,"+delete"):Vo(this,function(r){var i=Wl(n,r.head,e,t,!1);return e<0?{from:i,to:r.head}:{from:r.head,to:i}})}),findPosV:function(e,t,r,n){var i=1;var o=n;t<0&&(i=-1,
t=-t);var l=Ce(this.doc,e);for(var s=0;s<t;++s){var a=Vr(this,l,"div");if(null==o?o=a.left:a.left=o,(l=Dl(this,a,i,r)).hitSide)break}return l},moveV:Xn(function(e,t){var r=this;var n=this.doc;var i=[];var o=!this.display.shift&&!n.extend&&n.sel.somethingSelected();if(n.extendSelectionsBy(function(l){if(o)return e<0?l.from():l.to();var s=Vr(r,l.head,"div");null!=l.goalColumn&&(s.left=l.goalColumn),i.push(s.left);var a=Dl(r,s,e,t);return"page"==t&&l==n.sel.primary()&&Cn(r,Ur(r,a,"div").top-s.top),a},
j),i.length)for(var l$$0=0;l$$0<n.sel.ranges.length;l$$0++)n.sel.ranges[l$$0].goalColumn=i[l$$0]}),findWordAt:function(e$$0){var t=se(this.doc,e$$0.line).text;var r=e$$0.ch;var n=e$$0.ch;if(t){var i=this.getHelper(e$$0,"wordChars");"before"!=e$$0.sticky&&n!=t.length||!r?++n:--r;var o=t.charAt(r);for(var l=te(o,i)?function(e){return te(e,i)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!te(e)};r>0&&l(t.charAt(r-1));)--r;for(;n<t.length&&l(t.charAt(n));)++n}return new gi(ge(e$$0.line,
r),ge(e$$0.line,n))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?H(this.display.cursorDiv,"CodeMirror-overwrite"):T(this.display.cursorDiv,"CodeMirror-overwrite"),rt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==D()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Xn(function(e,t){Ln(this,e,t)}),getScrollInfo:function(){var e=this.display.scroller;
return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Cr(this)-this.display.barHeight,width:e.scrollWidth-Cr(this)-this.display.barWidth,clientHeight:Lr(this),clientWidth:Sr(this)}},scrollIntoView:Xn(function(e,t){var r;var n;null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:ge(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?(n=e,kn(r=this),r.curOp.scrollToPos=
n):Tn(this,e.from,e.to,e.margin)}),setSize:Xn(function(e$$0,t$$0){var r=this;var n=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e$$0&&(this.display.wrapper.style.width=n(e$$0)),null!=t$$0&&(this.display.wrapper.style.height=n(t$$0)),this.options.lineWrapping&&Pr(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){qn(r,i,"widget");break}++i}),this.curOp.forceUpdate=
!0,rt(this,"refresh",this)}),operation:function(e){return Kn(this,e)},startOperation:function(){return In(this)},endOperation:function(){return Rn(this)},refresh:Xn(function(){var e=this.display.cachedTextHeight;_n(this),this.curOp.forceUpdate=!0,Er(this),Ln(this,this.doc.scrollLeft,this.doc.scrollTop),oi(this),(null==e||Math.abs(e-Zr(this.display))>.5)&&rn(this),rt(this,"refresh",this)}),swapDoc:Xn(function(e){var t=this.doc;return t.cm=null,Mi(this,e),Er(this),this.display.input.reset(),Ln(this,
e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,or(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},lt(Il),Il.registerHelper=function(e,t,r){Bl.hasOwnProperty(e)||(Bl[e]=Il[e]={_global:[]}),Bl[e][t]=r},Il.registerGlobalHelper=function(e,t,r,n){Il.registerHelper(e,t,n),Bl[e]._global.push({pred:r,
val:n})};var Ul;var Vl="iter insert remove copy getEditor constructor".split(" ");for(var Kl in So.prototype)So.prototype.hasOwnProperty(Kl)&&B(Vl,Kl)<0&&(wl.prototype[Kl]=function(e){return function(){return e.apply(this.doc,arguments)}}(So.prototype[Kl]));return lt(So),wl.inputStyles={textarea:Gl,contenteditable:Hl},wl.defineMode=function(e$$0){wl.defaults.mode||"null"==e$$0||(wl.defaults.mode=e$$0),function(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),St[e]=
t}.apply(this,arguments)},wl.defineMIME=function(e,t){Lt[e]=t},wl.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),wl.defineMIME("text/plain","null"),wl.defineExtension=function(e,t){wl.prototype[e]=t},wl.defineDocExtension=function(e,t){So.prototype[e]=t},wl.fromTextArea=function(e,t$$0){function n(){e.value=s.getValue()}if((t$$0=t$$0?z(t$$0):{}).value=e.value,!t$$0.tabindex&&e.tabIndex&&(t$$0.tabindex=e.tabIndex),!t$$0.placeholder&&e.placeholder&&(t$$0.placeholder=
e.placeholder),null==t$$0.autofocus){var r=D();t$$0.autofocus=r==e||null!=e.getAttribute("autofocus")&&r==document.body}var i;if(e.form&&(Je(e.form,"submit",n),!t$$0.leaveSubmitMethodAlone)){var o=e.form;i=o.submit;try{var l=o.submit=function(){n(),o.submit=i,o.submit(),o.submit=l}}catch(e$$0){}}t$$0.finishInit=function(t){t.save=n,t.getTextArea=function(){return e},t.toTextArea=function(){t.toTextArea=isNaN,n(),e.parentNode.removeChild(t.getWrapperElement()),e.style.display="",e.form&&(tt(e.form,
"submit",n),"function"==typeof e.form.submit&&(e.form.submit=i))}},e.style.display="none";var s=wl(function(t){return e.parentNode.insertBefore(t,e.nextSibling)},t$$0);return s},(Ul=wl).off=tt,Ul.on=Je,Ul.wheelEventPixels=fi,Ul.Doc=So,Ul.splitLines=bt,Ul.countColumn=I,Ul.findColumn=X,Ul.isWordChar=ee,Ul.Pass=U,Ul.signal=rt,Ul.Line=jt,Ul.changeEnd=yi,Ul.scrollbarModel=Pn,Ul.Pos=ge,Ul.cmpPos=ve,Ul.modes=St,Ul.mimeModes=Lt,Ul.resolveMode=kt,Ul.getMode=Tt,Ul.modeExtensions=Mt,Ul.extendMode=Nt,Ul.copyState=
Ot,Ul.startState=Wt,Ul.innerMode=At,Ul.commands=Yo,Ul.keyMap=Po,Ul.keyName=Go,Ul.isModifierKey=Ro,Ul.lookupKey=Io,Ul.normalizeKeyMap=zo,Ul.StringStream=Dt,Ul.SharedTextMarker=bo,Ul.TextMarker=mo,Ul.LineWidget=po,Ul.e_preventDefault=st,Ul.e_stopPropagation=at,Ul.e_stop=ct,Ul.addClass=H,Ul.contains=W,Ul.rmClass=T,Ul.keyNames=Wo,wl.version="5.35.0",wl});
(function(f){if(typeof exports==="object"&&typeof module!=="undefined")module.exports=f();else if(typeof define==="function"&&define.amd)define([],f);else{var g;if(typeof window!=="undefined")g=window;else if(typeof global!=="undefined")g=global;else if(typeof self!=="undefined")g=self;else g=this;g.s=f()}})(function(){var define;var module$$0;var exports$$0;return function e$$0(t,n$$0,r){function s(o,u){if(!n$$0[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,
!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f;}var l=n$$0[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e$$0,t,n$$0,r)}return n$$0[o].exports}var i=typeof require=="function"&&require;for(var o$$0=0;o$$0<r.length;o$$0++)s(r[o$$0]);return s}({1:[function(require,module,exports){var trim=require("./trim");var decap=require("./decapitalize");module.exports=function camelize(str,decapitalize){str=trim(str).replace(/[-_\s]+(.)?/g,
function(match,c){return c?c.toUpperCase():""});if(decapitalize===true)return decap(str);else return str}},{"./decapitalize":10,"./trim":65}],2:[function(require,module,exports){var makeString=require("./helper/makeString");module.exports=function capitalize(str,lowercaseRest){str=makeString(str);var remainingChars=!lowercaseRest?str.slice(1):str.slice(1).toLowerCase();return str.charAt(0).toUpperCase()+remainingChars}},{"./helper/makeString":20}],3:[function(require,module,exports){var makeString=
require("./helper/makeString");module.exports=function chars(str){return makeString(str).split("")}},{"./helper/makeString":20}],4:[function(require,module,exports){module.exports=function chop(str,step){if(str==null)return[];str=String(str);step=~~step;return step>0?str.match(new RegExp(".{1,"+step+"}","g")):[str]}},{}],5:[function(require,module,exports){var capitalize=require("./capitalize");var camelize=require("./camelize");var makeString=require("./helper/makeString");module.exports=function classify(str){str=
makeString(str);return capitalize(camelize(str.replace(/[\W_]/g," ")).replace(/\s/g,""))}},{"./camelize":1,"./capitalize":2,"./helper/makeString":20}],6:[function(require,module,exports){var trim=require("./trim");module.exports=function clean(str){return trim(str).replace(/\s\s+/g," ")}},{"./trim":65}],7:[function(require,module,exports){var makeString=require("./helper/makeString");var from="";var to="aaaaaaaaaccceeeeeghiiiijllnnoooooooossssstttuuuuuunyyczzz";
from+=from.toUpperCase();to+=to.toUpperCase();to=to.split("");from+="";to.push("ss");module.exports=function cleanDiacritics(str){return makeString(str).replace(/.{1}/g,function(c){var index=from.indexOf(c);return index===-1?c:to[index]})}},{"./helper/makeString":20}],8:[function(require,module,exports){var makeString=require("./helper/makeString");module.exports=function(str,substr){str=makeString(str);substr=makeString(substr);if(str.length===0||substr.length===0)return 0;return str.split(substr).length-
1}},{"./helper/makeString":20}],9:[function(require,module,exports){var trim=require("./trim");module.exports=function dasherize(str){return trim(str).replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,"-").toLowerCase()}},{"./trim":65}],10:[function(require,module,exports){var makeString=require("./helper/makeString");module.exports=function decapitalize(str){str=makeString(str);return str.charAt(0).toLowerCase()+str.slice(1)}},{"./helper/makeString":20}],11:[function(require,module,exports){function getIndent(str){var matches=
str.match(/^[\s\\t]*/gm);var indent=matches[0].length;for(var i=1;i<matches.length;i++)indent=Math.min(matches[i].length,indent);return indent}var makeString=require("./helper/makeString");module.exports=function dedent(str,pattern){str=makeString(str);var indent=getIndent(str);var reg;if(indent===0)return str;if(typeof pattern==="string")reg=new RegExp("^"+pattern,"gm");else reg=new RegExp("^[ \\t]{"+indent+"}","gm");return str.replace(reg,"")}},{"./helper/makeString":20}],12:[function(require,module,
exports){var makeString=require("./helper/makeString");var toPositive=require("./helper/toPositive");module.exports=function endsWith(str,ends,position){str=makeString(str);ends=""+ends;if(typeof position=="undefined")position=str.length-ends.length;else position=Math.min(toPositive(position),str.length)-ends.length;return position>=0&&str.indexOf(ends,position)===position}},{"./helper/makeString":20,"./helper/toPositive":22}],13:[function(require,module,exports){var makeString=require("./helper/makeString");
var escapeChars=require("./helper/escapeChars");var regexString="[";for(var key in escapeChars)regexString+=key;regexString+="]";var regex=new RegExp(regexString,"g");module.exports=function escapeHTML(str){return makeString(str).replace(regex,function(m){return"\x26"+escapeChars[m]+";"})}},{"./helper/escapeChars":17,"./helper/makeString":20}],14:[function(require,module,exports){module.exports=function(){var result={};for(var prop in this){if(!this.hasOwnProperty(prop)||prop.match(/^(?:include|contains|reverse|join|map|wrap)$/))continue;
result[prop]=this[prop]}return result}},{}],15:[function(require,module,exports){var makeString=require("./makeString");module.exports=function adjacent(str,direction){str=makeString(str);if(str.length===0)return"";return str.slice(0,-1)+String.fromCharCode(str.charCodeAt(str.length-1)+direction)}},{"./makeString":20}],16:[function(require,module,exports){var escapeRegExp=require("./escapeRegExp");module.exports=function defaultToWhiteSpace(characters){if(characters==null)return"\\s";else if(characters.source)return characters.source;
else return"["+escapeRegExp(characters)+"]"}},{"./escapeRegExp":18}],17:[function(require,module,exports){var escapeChars={"":"cent","":"pound","":"yen","":"euro","":"copy","":"reg","\x3c":"lt","\x3e":"gt",'"':"quot","\x26":"amp","'":"#39"};module.exports=escapeChars},{}],18:[function(require,module,exports){var makeString=require("./makeString");module.exports=function escapeRegExp(str){return makeString(str).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}},{"./makeString":20}],19:[function(require,
module,exports){var htmlEntities={nbsp:" ",cent:"",pound:"",yen:"",euro:"",copy:"",reg:"",lt:"\x3c",gt:"\x3e",quot:'"',amp:"\x26",apos:"'"};module.exports=htmlEntities},{}],20:[function(require,module,exports){module.exports=function makeString(object){if(object==null)return"";return""+object}},{}],21:[function(require,module,exports){module.exports=function strRepeat(str,qty){if(qty<1)return"";for(var result="";qty>0;){if(qty&1)result+=str;qty>>=1,str+=str}return result}},{}],22:[function(require,
module,exports){module.exports=function toPositive(number){return number<0?0:+number||0}},{}],23:[function(require,module,exports){var capitalize=require("./capitalize");var underscored=require("./underscored");var trim=require("./trim");module.exports=function humanize(str){return capitalize(trim(underscored(str).replace(/_id$/,"").replace(/_/g," ")))}},{"./capitalize":2,"./trim":65,"./underscored":67}],24:[function(require,module,exports){var makeString=require("./helper/makeString");module.exports=
function include(str,needle){if(needle==="")return true;return makeString(str).indexOf(needle)!==-1}},{"./helper/makeString":20}],25:[function(require,module,exports){function s(value){if(!(this instanceof s))return new s(value);this._wrapped=value}function fn2method(key,fn){if(typeof fn!=="function")return;s.prototype[key]=function(){var args=[this._wrapped].concat(Array.prototype.slice.call(arguments));var res=fn.apply(null,args);return typeof res==="string"?new s(res):res}}function prototype2method(methodName){fn2method(methodName,
function(context){var args=Array.prototype.slice.call(arguments,1);return String.prototype[methodName].apply(context,args)})}s.VERSION="3.3.4";s.isBlank=require("./isBlank");s.stripTags=require("./stripTags");s.capitalize=require("./capitalize");s.decapitalize=require("./decapitalize");s.chop=require("./chop");s.trim=require("./trim");s.clean=require("./clean");s.cleanDiacritics=require("./cleanDiacritics");s.count=require("./count");s.chars=require("./chars");s.swapCase=require("./swapCase");s.escapeHTML=
require("./escapeHTML");s.unescapeHTML=require("./unescapeHTML");s.splice=require("./splice");s.insert=require("./insert");s.replaceAll=require("./replaceAll");s.include=require("./include");s.join=require("./join");s.lines=require("./lines");s.dedent=require("./dedent");s.reverse=require("./reverse");s.startsWith=require("./startsWith");s.endsWith=require("./endsWith");s.pred=require("./pred");s.succ=require("./succ");s.titleize=require("./titleize");s.camelize=require("./camelize");s.underscored=
require("./underscored");s.dasherize=require("./dasherize");s.classify=require("./classify");s.humanize=require("./humanize");s.ltrim=require("./ltrim");s.rtrim=require("./rtrim");s.truncate=require("./truncate");s.prune=require("./prune");s.words=require("./words");s.pad=require("./pad");s.lpad=require("./lpad");s.rpad=require("./rpad");s.lrpad=require("./lrpad");s.sprintf=require("./sprintf");s.vsprintf=require("./vsprintf");s.toNumber=require("./toNumber");s.numberFormat=require("./numberFormat");
s.strRight=require("./strRight");s.strRightBack=require("./strRightBack");s.strLeft=require("./strLeft");s.strLeftBack=require("./strLeftBack");s.toSentence=require("./toSentence");s.toSentenceSerial=require("./toSentenceSerial");s.slugify=require("./slugify");s.surround=require("./surround");s.quote=require("./quote");s.unquote=require("./unquote");s.repeat=require("./repeat");s.naturalCmp=require("./naturalCmp");s.levenshtein=require("./levenshtein");s.toBoolean=require("./toBoolean");s.exports=
require("./exports");s.escapeRegExp=require("./helper/escapeRegExp");s.wrap=require("./wrap");s.map=require("./map");s.strip=s.trim;s.lstrip=s.ltrim;s.rstrip=s.rtrim;s.center=s.lrpad;s.rjust=s.lpad;s.ljust=s.rpad;s.contains=s.include;s.q=s.quote;s.toBool=s.toBoolean;s.camelcase=s.camelize;s.mapChars=s.map;s.prototype={value:function value(){return this._wrapped}};for(var key$$0 in s)fn2method(key$$0,s[key$$0]);fn2method("tap",function tap(string,fn){return fn(string)});var prototypeMethods=["toUpperCase",
"toLowerCase","split","replace","slice","substring","substr","concat"];for(var method in prototypeMethods)prototype2method(prototypeMethods[method]);module.exports=s},{"./camelize":1,"./capitalize":2,"./chars":3,"./chop":4,"./classify":5,"./clean":6,"./cleanDiacritics":7,"./count":8,"./dasherize":9,"./decapitalize":10,"./dedent":11,"./endsWith":12,"./escapeHTML":13,"./exports":14,"./helper/escapeRegExp":18,"./humanize":23,"./include":24,"./insert":26,"./isBlank":27,"./join":28,"./levenshtein":29,
"./lines":30,"./lpad":31,"./lrpad":32,"./ltrim":33,"./map":34,"./naturalCmp":35,"./numberFormat":38,"./pad":39,"./pred":40,"./prune":41,"./quote":42,"./repeat":43,"./replaceAll":44,"./reverse":45,"./rpad":46,"./rtrim":47,"./slugify":48,"./splice":49,"./sprintf":50,"./startsWith":51,"./strLeft":52,"./strLeftBack":53,"./strRight":54,"./strRightBack":55,"./stripTags":56,"./succ":57,"./surround":58,"./swapCase":59,"./titleize":60,"./toBoolean":61,"./toNumber":62,"./toSentence":63,"./toSentenceSerial":64,
"./trim":65,"./truncate":66,"./underscored":67,"./unescapeHTML":68,"./unquote":69,"./vsprintf":70,"./words":71,"./wrap":72}],26:[function(require,module,exports){var splice=require("./splice");module.exports=function insert(str,i,substr){return splice(str,i,0,substr)}},{"./splice":49}],27:[function(require,module,exports){var makeString=require("./helper/makeString");module.exports=function isBlank(str){return/^\s*$/.test(makeString(str))}},{"./helper/makeString":20}],28:[function(require,module,
exports){var makeString=require("./helper/makeString");var slice=[].slice;module.exports=function join(){var args=slice.call(arguments);var separator=args.shift();return args.join(makeString(separator))}},{"./helper/makeString":20}],29:[function(require,module,exports){var makeString=require("./helper/makeString");module.exports=function levenshtein(str1,str2){str1=makeString(str1);str2=makeString(str2);if(str1===str2)return 0;if(!str1||!str2)return Math.max(str1.length,str2.length);var prevRow=new Array(str2.length+
1);for(var i=0;i<prevRow.length;++i)prevRow[i]=i;for(i=0;i<str1.length;++i){var nextCol=i+1;for(var j=0;j<str2.length;++j){var curCol=nextCol;nextCol=prevRow[j]+(str1.charAt(i)===str2.charAt(j)?0:1);var tmp=curCol+1;if(nextCol>tmp)nextCol=tmp;tmp=prevRow[j+1]+1;if(nextCol>tmp)nextCol=tmp;prevRow[j]=curCol}prevRow[j]=nextCol}return nextCol}},{"./helper/makeString":20}],30:[function(require,module,exports){module.exports=function lines(str){if(str==null)return[];return String(str).split(/\r\n?|\n/)}},
{}],31:[function(require,module,exports){var pad=require("./pad");module.exports=function lpad(str,length,padStr){return pad(str,length,padStr)}},{"./pad":39}],32:[function(require,module,exports){var pad=require("./pad");module.exports=function lrpad(str,length,padStr){return pad(str,length,padStr,"both")}},{"./pad":39}],33:[function(require,module,exports){var makeString=require("./helper/makeString");var defaultToWhiteSpace=require("./helper/defaultToWhiteSpace");var nativeTrimLeft=String.prototype.trimLeft;
module.exports=function ltrim(str,characters){str=makeString(str);if(!characters&&nativeTrimLeft)return nativeTrimLeft.call(str);characters=defaultToWhiteSpace(characters);return str.replace(new RegExp("^"+characters+"+"),"")}},{"./helper/defaultToWhiteSpace":16,"./helper/makeString":20}],34:[function(require,module,exports){var makeString=require("./helper/makeString");module.exports=function(str,callback){str=makeString(str);if(str.length===0||typeof callback!=="function")return str;return str.replace(/./g,
callback)}},{"./helper/makeString":20}],35:[function(require,module,exports){module.exports=function naturalCmp(str1,str2){if(str1==str2)return 0;if(!str1)return-1;if(!str2)return 1;var cmpRegex=/(\.\d+|\d+|\D+)/g;var tokens1=String(str1).match(cmpRegex);var tokens2=String(str2).match(cmpRegex);var count=Math.min(tokens1.length,tokens2.length);for(var i=0;i<count;i++){var a=tokens1[i];var b=tokens2[i];if(a!==b){var num1=+a;var num2=+b;if(num1===num1&&num2===num2)return num1>num2?1:-1;return a<b?-1:
1}}if(tokens1.length!=tokens2.length)return tokens1.length-tokens2.length;return str1<str2?-1:1}},{}],36:[function(require,module,exports){(function(window){function sprintf(){var key=arguments[0];var cache=sprintf.cache;if(!(cache[key]&&cache.hasOwnProperty(key)))cache[key]=sprintf.parse(key);return sprintf.format.call(null,cache[key],arguments)}function get_type(variable){return Object.prototype.toString.call(variable).slice(8,-1).toLowerCase()}function str_repeat(input,multiplier){return Array(multiplier+
1).join(input)}var re={not_string:/[^s]/,number:/[diefg]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijosuxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};sprintf.format=function(parse_tree,argv){var cursor=1;var tree_length=parse_tree.length;var node_type="";var arg;var output=[];var i;var k;var match;var pad;var pad_character;var pad_length;
var is_positive=true;var sign="";for(i=0;i<tree_length;i++){node_type=get_type(parse_tree[i]);if(node_type==="string")output[output.length]=parse_tree[i];else if(node_type==="array"){match=parse_tree[i];if(match[2]){arg=argv[cursor];for(k=0;k<match[2].length;k++){if(!arg.hasOwnProperty(match[2][k]))throw new Error(sprintf("[sprintf] property '%s' does not exist",match[2][k]));arg=arg[match[2][k]]}}else if(match[1])arg=argv[match[1]];else arg=argv[cursor++];if(get_type(arg)=="function")arg=arg();if(re.not_string.test(match[8])&&
re.not_json.test(match[8])&&(get_type(arg)!="number"&&isNaN(arg)))throw new TypeError(sprintf("[sprintf] expecting number but found %s",get_type(arg)));if(re.number.test(match[8]))is_positive=arg>=0;switch(match[8]){case "b":arg=arg.toString(2);break;case "c":arg=String.fromCharCode(arg);break;case "d":case "i":arg=parseInt(arg,10);break;case "j":arg=JSON.stringify(arg,null,match[6]?parseInt(match[6]):0);break;case "e":arg=match[7]?arg.toExponential(match[7]):arg.toExponential();break;case "f":arg=
match[7]?parseFloat(arg).toFixed(match[7]):parseFloat(arg);break;case "g":arg=match[7]?parseFloat(arg).toPrecision(match[7]):parseFloat(arg);break;case "o":arg=arg.toString(8);break;case "s":arg=(arg=String(arg))&&match[7]?arg.substring(0,match[7]):arg;break;case "u":arg=arg>>>0;break;case "x":arg=arg.toString(16);break;case "X":arg=arg.toString(16).toUpperCase();break}if(re.json.test(match[8]))output[output.length]=arg;else{if(re.number.test(match[8])&&(!is_positive||match[3])){sign=is_positive?
"+":"-";arg=arg.toString().replace(re.sign,"")}else sign="";pad_character=match[4]?match[4]==="0"?"0":match[4].charAt(1):" ";pad_length=match[6]-(sign+arg).length;pad=match[6]?pad_length>0?str_repeat(pad_character,pad_length):"":"";output[output.length]=match[5]?sign+arg+pad:pad_character==="0"?sign+pad+arg:pad+sign+arg}}}return output.join("")};sprintf.cache={};sprintf.parse=function(fmt){var _fmt=fmt;var match=[];var parse_tree=[];for(var arg_names=0;_fmt;){if((match=re.text.exec(_fmt))!==null)parse_tree[parse_tree.length]=
match[0];else if((match=re.modulo.exec(_fmt))!==null)parse_tree[parse_tree.length]="%";else if((match=re.placeholder.exec(_fmt))!==null){if(match[2]){arg_names|=1;var field_list=[];var replacement_field=match[2];var field_match=[];if((field_match=re.key.exec(replacement_field))!==null)for(field_list[field_list.length]=field_match[1];(replacement_field=replacement_field.substring(field_match[0].length))!=="";)if((field_match=re.key_access.exec(replacement_field))!==null)field_list[field_list.length]=
field_match[1];else if((field_match=re.index_access.exec(replacement_field))!==null)field_list[field_list.length]=field_match[1];else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");match[2]=field_list}else arg_names|=2;if(arg_names===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");parse_tree[parse_tree.length]=match}else throw new SyntaxError("[sprintf] unexpected placeholder");
_fmt=_fmt.substring(match[0].length)}return parse_tree};var vsprintf=function(fmt,argv,_argv){_argv=(argv||[]).slice(0);_argv.splice(0,0,fmt);return sprintf.apply(null,_argv)};if(typeof exports!=="undefined"){exports.sprintf=sprintf;exports.vsprintf=vsprintf}else{window.sprintf=sprintf;window.vsprintf=vsprintf;if(typeof define==="function"&&define.amd)define(function(){return{sprintf:sprintf,vsprintf:vsprintf}})}})(typeof window==="undefined"?this:window)},{}],37:[function(require,module,exports){(function(global){function deprecate(fn,
msg){function deprecated(){if(!warned){if(config("throwDeprecation"))throw new Error(msg);else if(config("traceDeprecation"))console.trace(msg);else console.warn(msg);warned=true}return fn.apply(this,arguments)}if(config("noDeprecation"))return fn;var warned=false;return deprecated}function config(name){try{if(!global.localStorage)return false}catch(_){return false}var val=global.localStorage[name];if(null==val)return false;return String(val).toLowerCase()==="true"}module.exports=deprecate}).call(this,
typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],38:[function(require,module,exports){module.exports=function numberFormat(number,dec,dsep,tsep){if(isNaN(number)||number==null)return"";number=number.toFixed(~~dec);tsep=typeof tsep=="string"?tsep:",";var parts=number.split(".");var fnums=parts[0];var decimals=parts[1]?(dsep||".")+parts[1]:"";return fnums.replace(/(\d)(?=(?:\d{3})+$)/g,"$1"+tsep)+decimals}},{}],39:[function(require,module,
exports){var makeString=require("./helper/makeString");var strRepeat=require("./helper/strRepeat");module.exports=function pad(str,length,padStr,type){str=makeString(str);length=~~length;var padlen=0;if(!padStr)padStr=" ";else if(padStr.length>1)padStr=padStr.charAt(0);switch(type){case "right":padlen=length-str.length;return str+strRepeat(padStr,padlen);case "both":padlen=length-str.length;return strRepeat(padStr,Math.ceil(padlen/2))+str+strRepeat(padStr,Math.floor(padlen/2));default:padlen=length-
str.length;return strRepeat(padStr,padlen)+str}}},{"./helper/makeString":20,"./helper/strRepeat":21}],40:[function(require,module,exports){var adjacent=require("./helper/adjacent");module.exports=function succ(str){return adjacent(str,-1)}},{"./helper/adjacent":15}],41:[function(require,module,exports){var makeString=require("./helper/makeString");var rtrim=require("./rtrim");module.exports=function prune(str,length,pruneStr){str=makeString(str);length=~~length;pruneStr=pruneStr!=null?String(pruneStr):
"...";if(str.length<=length)return str;var tmpl=function(c){return c.toUpperCase()!==c.toLowerCase()?"A":" "};var template=str.slice(0,length+1).replace(/.(?=\W*\w*$)/g,tmpl);if(template.slice(template.length-2).match(/\w\w/))template=template.replace(/\s*\S+$/,"");else template=rtrim(template.slice(0,template.length-1));return(template+pruneStr).length>str.length?str:str.slice(0,template.length)+pruneStr}},{"./helper/makeString":20,"./rtrim":47}],42:[function(require,module,exports){var surround=
require("./surround");module.exports=function quote(str,quoteChar){return surround(str,quoteChar||'"')}},{"./surround":58}],43:[function(require,module,exports){var makeString=require("./helper/makeString");var strRepeat=require("./helper/strRepeat");module.exports=function repeat(str,qty,separator){str=makeString(str);qty=~~qty;if(separator==null)return strRepeat(str,qty);for(var repeat$$0=[];qty>0;repeat$$0[--qty]=str);return repeat$$0.join(separator)}},{"./helper/makeString":20,"./helper/strRepeat":21}],
44:[function(require,module,exports){var makeString=require("./helper/makeString");module.exports=function replaceAll(str,find,replace,ignorecase){var flags=ignorecase===true?"gi":"g";var reg=new RegExp(find,flags);return makeString(str).replace(reg,replace)}},{"./helper/makeString":20}],45:[function(require,module,exports){var chars=require("./chars");module.exports=function reverse(str){return chars(str).reverse().join("")}},{"./chars":3}],46:[function(require,module,exports){var pad=require("./pad");
module.exports=function rpad(str,length,padStr){return pad(str,length,padStr,"right")}},{"./pad":39}],47:[function(require,module,exports){var makeString=require("./helper/makeString");var defaultToWhiteSpace=require("./helper/defaultToWhiteSpace");var nativeTrimRight=String.prototype.trimRight;module.exports=function rtrim(str,characters){str=makeString(str);if(!characters&&nativeTrimRight)return nativeTrimRight.call(str);characters=defaultToWhiteSpace(characters);return str.replace(new RegExp(characters+
"+$"),"")}},{"./helper/defaultToWhiteSpace":16,"./helper/makeString":20}],48:[function(require,module,exports){var trim=require("./trim");var dasherize=require("./dasherize");var cleanDiacritics=require("./cleanDiacritics");module.exports=function slugify(str){return trim(dasherize(cleanDiacritics(str).replace(/[^\w\s-]/g,"-").toLowerCase()),"-")}},{"./cleanDiacritics":7,"./dasherize":9,"./trim":65}],49:[function(require,module,exports){var chars=require("./chars");module.exports=function splice(str,
i,howmany,substr){var arr=chars(str);arr.splice(~~i,~~howmany,substr);return arr.join("")}},{"./chars":3}],50:[function(require,module,exports){var deprecate=require("util-deprecate");module.exports=deprecate(require("sprintf-js").sprintf,"sprintf() will be removed in the next major release, use the sprintf-js package instead.")},{"sprintf-js":36,"util-deprecate":37}],51:[function(require,module,exports){var makeString=require("./helper/makeString");var toPositive=require("./helper/toPositive");module.exports=
function startsWith(str,starts,position){str=makeString(str);starts=""+starts;position=position==null?0:Math.min(toPositive(position),str.length);return str.lastIndexOf(starts,position)===position}},{"./helper/makeString":20,"./helper/toPositive":22}],52:[function(require,module,exports){var makeString=require("./helper/makeString");module.exports=function strLeft(str,sep){str=makeString(str);sep=makeString(sep);var pos=!sep?-1:str.indexOf(sep);return~pos?str.slice(0,pos):str}},{"./helper/makeString":20}],
53:[function(require,module,exports){var makeString=require("./helper/makeString");module.exports=function strLeftBack(str,sep){str=makeString(str);sep=makeString(sep);var pos=str.lastIndexOf(sep);return~pos?str.slice(0,pos):str}},{"./helper/makeString":20}],54:[function(require,module,exports){var makeString=require("./helper/makeString");module.exports=function strRight(str,sep){str=makeString(str);sep=makeString(sep);var pos=!sep?-1:str.indexOf(sep);return~pos?str.slice(pos+sep.length,str.length):
str}},{"./helper/makeString":20}],55:[function(require,module,exports){var makeString=require("./helper/makeString");module.exports=function strRightBack(str,sep){str=makeString(str);sep=makeString(sep);var pos=!sep?-1:str.lastIndexOf(sep);return~pos?str.slice(pos+sep.length,str.length):str}},{"./helper/makeString":20}],56:[function(require,module,exports){var makeString=require("./helper/makeString");module.exports=function stripTags(str){return makeString(str).replace(/<\/?[^>]+>/g,"")}},{"./helper/makeString":20}],
57:[function(require,module,exports){var adjacent=require("./helper/adjacent");module.exports=function succ(str){return adjacent(str,1)}},{"./helper/adjacent":15}],58:[function(require,module,exports){module.exports=function surround(str,wrapper){return[wrapper,str,wrapper].join("")}},{}],59:[function(require,module,exports){var makeString=require("./helper/makeString");module.exports=function swapCase(str){return makeString(str).replace(/\S/g,function(c){return c===c.toUpperCase()?c.toLowerCase():
c.toUpperCase()})}},{"./helper/makeString":20}],60:[function(require,module,exports){var makeString=require("./helper/makeString");module.exports=function titleize(str){return makeString(str).toLowerCase().replace(/(?:^|\s|-)\S/g,function(c){return c.toUpperCase()})}},{"./helper/makeString":20}],61:[function(require,module,exports){function boolMatch(s,matchers){var i;var matcher;var down=s.toLowerCase();matchers=[].concat(matchers);for(i=0;i<matchers.length;i+=1){matcher=matchers[i];if(!matcher)continue;
if(matcher.test&&matcher.test(s))return true;if(matcher.toLowerCase()===down)return true}}var trim=require("./trim");module.exports=function toBoolean(str,trueValues,falseValues){if(typeof str==="number")str=""+str;if(typeof str!=="string")return!!str;str=trim(str);if(boolMatch(str,trueValues||["true","1"]))return true;if(boolMatch(str,falseValues||["false","0"]))return false}},{"./trim":65}],62:[function(require,module,exports){module.exports=function toNumber(num,precision){if(num==null)return 0;
var factor=Math.pow(10,isFinite(precision)?precision:0);return Math.round(num*factor)/factor}},{}],63:[function(require,module,exports){var rtrim=require("./rtrim");module.exports=function toSentence(array,separator,lastSeparator,serial){separator=separator||", ";lastSeparator=lastSeparator||" and ";var a=array.slice();var lastMember=a.pop();if(array.length>2&&serial)lastSeparator=rtrim(separator)+lastSeparator;return a.length?a.join(separator)+lastSeparator+lastMember:lastMember}},{"./rtrim":47}],
64:[function(require,module,exports){var toSentence=require("./toSentence");module.exports=function toSentenceSerial(array,sep,lastSep){return toSentence(array,sep,lastSep,true)}},{"./toSentence":63}],65:[function(require,module,exports){var makeString=require("./helper/makeString");var defaultToWhiteSpace=require("./helper/defaultToWhiteSpace");var nativeTrim=String.prototype.trim;module.exports=function trim(str,characters){str=makeString(str);if(!characters&&nativeTrim)return nativeTrim.call(str);
characters=defaultToWhiteSpace(characters);return str.replace(new RegExp("^"+characters+"+|"+characters+"+$","g"),"")}},{"./helper/defaultToWhiteSpace":16,"./helper/makeString":20}],66:[function(require,module,exports){var makeString=require("./helper/makeString");module.exports=function truncate(str,length,truncateStr){str=makeString(str);truncateStr=truncateStr||"...";length=~~length;return str.length>length?str.slice(0,length)+truncateStr:str}},{"./helper/makeString":20}],67:[function(require,
module,exports){var trim=require("./trim");module.exports=function underscored(str){return trim(str).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()}},{"./trim":65}],68:[function(require,module,exports){var makeString=require("./helper/makeString");var htmlEntities=require("./helper/htmlEntities");module.exports=function unescapeHTML(str){return makeString(str).replace(/\&([^;]+);/g,function(entity,entityCode){var match;if(entityCode in htmlEntities)return htmlEntities[entityCode];
else if(match=entityCode.match(/^#x([\da-fA-F]+)$/))return String.fromCharCode(parseInt(match[1],16));else if(match=entityCode.match(/^#(\d+)$/))return String.fromCharCode(~~match[1]);else return entity})}},{"./helper/htmlEntities":19,"./helper/makeString":20}],69:[function(require,module,exports){module.exports=function unquote(str,quoteChar){quoteChar=quoteChar||'"';if(str[0]===quoteChar&&str[str.length-1]===quoteChar)return str.slice(1,str.length-1);else return str}},{}],70:[function(require,module,
exports){var deprecate=require("util-deprecate");module.exports=deprecate(require("sprintf-js").vsprintf,"vsprintf() will be removed in the next major release, use the sprintf-js package instead.")},{"sprintf-js":36,"util-deprecate":37}],71:[function(require,module,exports){var isBlank=require("./isBlank");var trim=require("./trim");module.exports=function words(str,delimiter){if(isBlank(str))return[];return trim(str,delimiter).split(delimiter||/\s+/)}},{"./isBlank":27,"./trim":65}],72:[function(require,
module,exports){var makeString=require("./helper/makeString");module.exports=function wrap(str,options){str=makeString(str);options=options||{};var width=options.width||75;var seperator=options.seperator||"\n";var cut=options.cut||false;var preserveSpaces=options.preserveSpaces||false;var trailingSpaces=options.trailingSpaces||false;var result;if(width<=0)return str;else if(!cut){var words=str.split(" ");var current_column=0;for(result="";words.length>0;){if(1+words[0].length+current_column>width)if(current_column>
0){if(preserveSpaces){result+=" ";current_column++}else if(trailingSpaces)for(;current_column<width;){result+=" ";current_column++}result+=seperator;current_column=0}if(current_column>0){result+=" ";current_column++}result+=words[0];current_column+=words[0].length;words.shift()}if(trailingSpaces)for(;current_column<width;){result+=" ";current_column++}return result}else{var index=0;for(result="";index<str.length;){if(index%width==0&&index>0)result+=seperator;result+=str.charAt(index);index++}if(trailingSpaces)for(;index%
width>0;){result+=" ";index++}return result}}},{"./helper/makeString":20}]},{},[25])(25)});if(!window.pfx)pfx={};if(!pfx.ws)pfx.ws={};if(!pfx.ws.json)pfx.ws.json={};pfx.ws.json.deserialize=function(response){if(this._debug==true)alert("Response: "+response);var res=JSON.parse(response,pfx.ws.json.convert);return res};pfx.ws.json.convert=function(key,value){if(value!=null&&typeof value==="object"&&"__time__"in value)return new Date(value.__time__);return value};
pfx.ws.json.serialize=function(obj){var json=null;if(obj!=null)if(obj.constructor==String)json=pfx.ws.json.escapeJSONString(obj);else if(obj.constructor==Number)json=obj.toString();else if(obj.constructor==Boolean)json=obj.toString();else if(obj.constructor==Date)json='{"__time__":'+obj.valueOf()+"}";else if(obj.constructor==Array){var arr=[];for(var i=0;i<obj.length;i++)arr.push(pfx.ws.json.serialize(obj[i]));json="["+arr.join(",")+"]"}else{arr=[];for(attr in obj){var attrObj=obj[attr];if(attrObj==
null)arr.push('"'+attr+'": null');else if(typeof attrObj!="function")arr.push(pfx.ws.json.escapeJSONString(attr)+":"+pfx.ws.json.serialize(attrObj))}json="{"+arr.join(",")+"}"}else json="null";return json};
pfx.ws.json.escapeJSONChar=function(ch){if(ch=='"'||ch=="\\")return"\\"+ch;else if(ch=="\b")return"\\b";else if(ch=="\f")return"\\f";else if(ch=="\n")return"\\n";else if(ch=="\r")return"\\r";else if(ch=="\t")return"\\t";var hex=ch.charCodeAt(0).toString(16);if(hex.length==1)return"\\u000"+hex;else if(hex.length==2)return"\\u00"+hex;else if(hex.length==3)return"\\u0"+hex;else return"\\u"+hex};pfx.ws.json.replaceCallbackSupport=null;
pfx.ws.json.escapeJSONString=function(str){if(pfx.ws.json.replaceCallbackSupport==null)if(navigator.userAgent.indexOf("Safari")!=-1)pfx.ws.json.replaceCallbackSupport=false;else pfx.ws.json.replaceCallbackSupport=true;if(pfx.ws.json.replaceCallbackSupport)return'"'+str.replace(/([^\u0020-\u007f]|[\\\"])/g,pfx.ws.json.escapeJSONChar)+'"';else{var escStr=[];for(var i=0;i<str.length;i++)if(str.charAt(i)=='"'||str.charAt(i)=="\\"||str.charCodeAt(i)<32||str.charCodeAt(i)>=128)escStr[i]=pfx.ws.json.escapeJSONChar(str.charAt(i));
else escStr[i]=str.charAt(i);return'"'+escStr.join("")+'"'}};pfx.ws.json.BaseStub=function(service,context,scope,requestPath){this._service=service;this._context=context;this._scope=scope;this._requestPath=requestPath;this._protocol="jsonws";this._uri=null};pfx.ws.json.BaseStub.prototype.setService=function(service){this._service=service;this._uri=null};pfx.ws.json.BaseStub.prototype.setContext=function(context){this._context=context};
pfx.ws.json.BaseStub.prototype.setRequestPath=function(requestPath){this._requestPath=requestPath;this._uri=null};pfx.ws.json.BaseStub.prototype.setDebug=function(debug){this._debug=debug};
pfx.ws.json.BaseStub.prototype.getURI=function(){if(this._uri==null){var session="";var matches=window.location.href.match(/;jsessionid=[A-Z0-9]+(\.[a-zA-Z0-9]+)?/);if(matches)session=matches[0];var reqpath=this._requestPath+"/"+this._service;this._uri=window.location.protocol+"//"+window.location.host+reqpath+session}return this._uri};
pfx.ws.json.BaseStub.prototype.callMethod=function(method,args,expLen){var wsCall=new pfx.ws.json.Call(this.getURI(),this._context,this._scope,this._debug);return wsCall.invoke(method,args,expLen)};pfx.ws.json.DynamicProxy=function(service,context){pfx.ws.json.BaseStub.call(this,service,context);this._proxySetup()};pfx.ws.json.DynamicProxy.prototype=new pfx.ws.json.BaseStub;
pfx.ws.json.DynamicProxy.prototype._proxySetup=function(){var req=new pfx.net.HTTPRequest("POST",this.getURI()+"?json",this._proxySetupCB,this);req.setRequestHeader("wstype",this._protocol);req.start("",0)};pfx.ws.json.DynamicProxy.prototype._proxySetupCB=function(response){var res=JSON.parse(response,pfx.ws.json.convert);var methods=res.result;for(var i=0;i<methods.length;i++)this._createMethod(methods[i])};
pfx.ws.json.DynamicProxy.prototype._createMethod=function(name){var f=function(){return f.ownerObject._callMethod.call(f.ownerObject,f.methodName,arguments)};f.ownerObject=this;f.methodName=name;this[name]=f};pfx.ws.json.DynamicProxy.prototype._callMethod=function(method,args){var wsCall=new pfx.ws.json.Call(this.getURI(),this._context,this._debug);return wsCall.invoke(method,args)};
pfx.ws.json.Call=function(uri,context,scope,debug){this._uri=uri;this._context=context;this._scope=scope;this._debug=debug;this._opName=null;this._userCallback=null};
pfx.ws.json.Call.prototype.invoke=function(method,args,expLen){this._opName=method;var jsonReq={};jsonReq.method=method;var argLen=args.length;if(expLen)if(argLen==expLen+1){if(typeof args[argLen-1]=="function"||typeof args[argLen-1]=="object")this._userCallback=args[argLen-1];else this._requestId=args[argLen-1];argLen=argLen-1}else if(argLen==expLen+2&&(typeof args[argLen-2]=="function"||typeof args[argLen-2]=="object")&&typeof args[argLen-1]=="string"){this._userCallback=args[argLen-2];this._requestId=
args[argLen-1];argLen=argLen-2}else{if(argLen!=expLen)throw new Error("Wrong number of arguments: "+argLen+" - "+expLen);}else if(argLen>0&&typeof args[argLen-1]=="function"){this._userCallback=args[argLen-1];argLen=argLen-1}else if(argLen>1&&typeof args[argLen-2]=="function"){this._requestId=args[argLen-1];this._userCallback=args[argLen-2];argLen=argLen-2}if(this._requestId)jsonReq.id=this._requestId;var jsonParams=[];for(var i=0;i<argLen;i++)jsonParams[i]=args[i];jsonReq.params=jsonParams;var jsonStr=
pfx.ws.json.serialize(jsonReq);if(this._debug==true)alert("Request: "+jsonStr);if(this._userCallback||this._context){var httpReq=new pfx.net.HTTPRequest("POST",this._uri,this.callback,this);httpReq.setRequestHeader("Content-Type","text/plain");httpReq.setRequestHeader("wstype","jsonws");httpReq.start(jsonStr,null,jsonReq.id)}else{httpReq=new pfx.net.HTTPRequest("POST",this._uri);httpReq.setRequestHeader("Content-Type","text/plain");httpReq.setRequestHeader("wstype","jsonws");var response=httpReq.start(jsonStr,
null,jsonReq.id);return this.callback(response)}};
pfx.ws.json.Call.prototype.callback=function(text){var res=pfx.ws.json.deserialize(text);if(res.error){var error=new Error;error.name=res.error.name;error.message=res.error.message;if(this._userCallback)this._userCallback(null,res.id,error);else if(this._context)this._context[this._opName].call(this._scope?this._scope:this._context,null,res.id,error);else throw error;}else if(this._userCallback)this._userCallback(res.result,res.id,null);else if(this._context)this._context[this._opName].call(this._scope?this._scope:
this._context,res.result,res.id,null);else return res.result};function WS_ResourceManager(context,scope){pfx.ws.json.BaseStub.call(this,"ResourceManager",context,scope,"/webservice")}WS_ResourceManager.prototype=new pfx.ws.json.BaseStub;WS_ResourceManager.prototype.proceedZipResources=function(){return this.callMethod("proceedZipResources",arguments,2)};WS_ResourceManager.prototype.openFile=function(){return this.callMethod("openFile",arguments,2)};WS_ResourceManager.prototype.copyResources=function(){return this.callMethod("copyResources",arguments,3)};
WS_ResourceManager.prototype.moveResources=function(){return this.callMethod("moveResources",arguments,3)};WS_ResourceManager.prototype.getCollections=function(){return this.callMethod("getCollections",arguments,1)};WS_ResourceManager.prototype.renameResource=function(){return this.callMethod("renameResource",arguments,2)};WS_ResourceManager.prototype.zipResources=function(){return this.callMethod("zipResources",arguments,3)};
WS_ResourceManager.prototype.getResources=function(){return this.callMethod("getResources",arguments,2)};WS_ResourceManager.prototype.deleteResources=function(){return this.callMethod("deleteResources",arguments,2)};WS_ResourceManager.prototype.createEditFile=function(){return this.callMethod("createEditFile",arguments,4)};WS_ResourceManager.prototype.proceedCopyResources=function(){return this.callMethod("proceedCopyResources",arguments,2)};
WS_ResourceManager.prototype.proceedDeleteResources=function(){return this.callMethod("proceedDeleteResources",arguments,2)};WS_ResourceManager.prototype.proceedMoveResources=function(){return this.callMethod("proceedMoveResources",arguments,2)};WS_ResourceManager.prototype.chmod=function(){return this.callMethod("chmod",arguments,3)};WS_ResourceManager.prototype.unzipResources=function(){return this.callMethod("unzipResources",arguments,2)};
WS_ResourceManager.prototype.proceedUnzipResources=function(){return this.callMethod("proceedUnzipResources",arguments,2)};WS_ResourceManager.prototype.proceedChmod=function(){return this.callMethod("proceedChmod",arguments,2)};WS_ResourceManager.prototype.createCollection=function(){return this.callMethod("createCollection",arguments,2)};$q.define("UNOUNO.pages.EditFile",{statics:{mode:null,code:"",file:null,filePath:null,codeMirrorFile:null,saveFlag:false,service:new WS_ResourceManager,pageUnloadBlocker:$q(".page-unload-blocker"),init:function(){this.setTitleFilename(this.searchToObject().file);this.setBackLocation(this.searchToObject().filePath);this.initCodeMirror();this.handleSaveForm()},initCodeMirror:function(){var pluginPath="modules/controlpanel-webhosting-infrastructure/script/components/codemirror-plugins/";this.file=this.searchToObject().file;
this.filePath=this.searchToObject().filePath;var fileType=this.file.substr(this.file.lastIndexOf(".")+1);var codeCompletionPlugins={js:"javascript",css:"css",xml:"xml",php:"php",py:"python",sql:"sql",xml:"xml",pl:"perl",html:"htmlmixed"};var pluginsDependencies={html:["xml","javscript","css"],php:["xml","javscript","css","htmlmixed","clike"]};if(fileType in pluginsDependencies)for(var i=pluginsDependencies[fileType].length-1;i>=0;i--){var script=document.createElement("script");script.type="text/javascript";
script.src=pluginPath+pluginsDependencies[fileType][i]+".js";document.getElementsByTagName("head")[0].appendChild(script)}if(fileType in codeCompletionPlugins){this.mode=codeCompletionPlugins[fileType];script=document.createElement("script");script.type="text/javascript";script.src=pluginPath+this.mode+".js";document.getElementsByTagName("head")[0].appendChild(script)}this.service.openFile(this.file,this.filePath,this.parseResult)},setTitleFilename:function(file){$q(".subheadline-page")[0].innerText=
file},setBackLocation:function(path){var currentLoc=$q(".button-secondary.back-button").getAttribute("href");$q(".button-secondary.back-button").setAttribute("href",currentLoc+"?baseDir\x3d"+path);$q("a.breadcrumb__item[href\x3d'/webspace-explorer']").setAttribute("href",currentLoc+"?baseDir\x3d"+path)},runCodeMirror:function(code){$q("#code-area")[0].value=code;this.codeMirrorFile=CodeMirror.fromTextArea($q("#code-area")[0],{lineNumbers:true,mode:UNOUNO.pages.EditFile.mode,autofocus:true});this.handleInput()},
unescapeEntities:function(str){var escapeChars={lt:"\x3c",gt:"\x3e",quot:'"',apos:"'",amp:"\x26",8217:"'"};return str.replace(/\&([^;]+);/g,function(entity,entityCode){var match;if(entityCode in escapeChars)return escapeChars[entityCode];else if(match=entityCode.match(/^#x([\da-fA-F]+)$/))return String.fromCharCode(parseInt(match[1],16));else if(match=entityCode.match(/^#(\d+)$/))return String.fromCharCode(~~match[1]);else return entity})},encode_base64:function(str){return window.btoa(unescape(encodeURIComponent(str)))},
decode_base64:function(str){return decodeURIComponent(escape(window.atob(str)))},searchToObject:function(){var pairs=window.location.search.substring(1).split("\x26");var obj={};var pair;for(var i in pairs){if(pairs[i]==="")continue;pair=pairs[i].split("\x3d");obj[decodeURIComponent(pair[0])]=decodeURIComponent(pair[1])}return obj},parseResult:function(result){if(result["fileContent"]!=null&&result["resultCode"]==1){var decoded=UNOUNO.pages.EditFile.decode_base64(result["fileContent"]);if(result["statusCode"]==
53){UNOUNO.pages.EditFile.handleErrorResponse(result["resultCode"],result["statusCode"]);$q("#submit-form").addClass("hidden")}else $q("#submit-form").removeClass("hidden");UNOUNO.pages.EditFile.runCodeMirror(decoded)}else{$q("#submit-form").addClass("disabled");UNOUNO.pages.EditFile.handleErrorResponse(result["resultCode"],result["statusCode"]);$q("#code-area")[0].value="Error loading file...";$q(".loading").addClass("hidden")}},handleInput:function(){var self=this;$q(".CodeMirror").on("keyup",function(ev){console.log("key pressed area: ",
self.isCharacterKeyPress(ev));if(self.isCharacterKeyPress(ev)==true)self.saveFlag=true})},isCharacterKeyPress:function(evt){if(typeof evt.which=="undefined")return true;else if(typeof evt.which=="number"&&evt.which>0)return!evt.ctrlKey&&!evt.metaKey&&!evt.altKey;return false},runBlocker:function(){this.pageUnloadBlocker.addClass("active");this.pageUnloadBlocker.setHtml('\x3cdiv class\x3d"page-unloading" style\x3d""\x3e\x3cdiv class\x3d"unloader" aria-hidden\x3d"true"\x3e\x3cdiv\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')},
handleSaveForm:function(){var self=this;$q("#submit-form").on("click",function(e){e.preventDefault();e.stopPropagation();self.runBlocker();var fileValue=self.encode_base64(self.codeMirrorFile.doc.getValue());self.saveFlag=false;self.service.createEditFile(self.file,self.filePath,fileValue,true,self.handleSaveResponse)});$q("#cancel-button").on("click",function(ev){if(self.saveFlag==true){ev.preventDefault();self.saveFlag=false;pfx.render("txt/pages/edit-file.xml","cancel-warning","controlpanel-webhosting-infrastructure",
"",self.errorRenderResult,self)}})},handleSaveResponse:function(result){console.info("save result: ",result);UNOUNO.pages.EditFile.handleErrorResponse(result["resultCode"],result["statusCode"])},handleErrorResponse:function(resultCode,statusCode){console.info("rC:",resultCode,"eC",statusCode);if(resultCode==4&&statusCode==1){console.log("e1");pfx.render("txt/pages/edit-file.xml","error-unknown","controlpanel-webhosting-infrastructure","",this.errorRenderResult,this)}else if(resultCode==1&&statusCode!=
53){console.log("e2");$q(".button-secondary.back-button")[0].click()}else{console.log("e3");pfx.render("txt/pages/edit-file.xml","error-"+statusCode,"controlpanel-webhosting-infrastructure","",this.errorRenderResult,this)}},errorRenderResult:function(result){$q("#error-code").setHtml(result)}},defer:function(statics){statics.init()}});UNOUNO.params.loadStatus="complete";if(UNOUNO.init.JSLoadStack&&UNOUNO.init.JSLoadStack.length>0)for(UNOUNO.init.processStack=0;UNOUNO.init.processStack<UNOUNO.init.JSLoadStack.length;UNOUNO.init.processStack+=1)UNOUNO.init.JSLoadStack[UNOUNO.init.processStack].call();